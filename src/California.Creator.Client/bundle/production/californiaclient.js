var Californiaclient=function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/assets/",t(t.s=8)}([function(e,t,r){var o,n;!function(t,r){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)}("undefined"!=typeof window?window:this,function(r,i){"use strict";function a(e,t,r){t=t||ce;var o,n=t.createElement("script");if(n.text=e,r)for(o in Se)r[o]&&(n[o]=r[o]);t.head.appendChild(n).parentNode.removeChild(n)}function l(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ve[me.call(e)]||"object":typeof e}function s(e){var t=!!e&&"length"in e&&e.length,r=l(e);return!xe(e)&&!Pe(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}function u(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function c(e,t,r){return xe(t)?Be.grep(e,function(e,o){return!!t.call(e,o,e)!==r}):t.nodeType?Be.grep(e,function(e){return e===t!==r}):"string"!=typeof t?Be.grep(e,function(e){return he.call(t,e)>-1!==r}):Be.filter(t,e,r)}function d(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function p(e){var t={};return Be.each(e.match(Re)||[],function(e,r){t[r]=!0}),t}function f(e){return e}function y(e){throw e}function h(e,t,r,o){var n;try{e&&xe(n=e.promise)?n.call(e).done(t).fail(r):e&&xe(n=e.then)?n.call(e,t,r):t.apply(void 0,[e].slice(o))}catch(e){r.apply(void 0,[e])}}function v(){ce.removeEventListener("DOMContentLoaded",v),r.removeEventListener("load",v),Be.ready()}function m(e,t){return t.toUpperCase()}function g(e){return e.replace(Ne,"ms-").replace(_e,m)}function b(){this.expando=Be.expando+b.uid++}function w(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ze.test(e)?JSON.parse(e):e)}function C(e,t,r){var o;if(void 0===r&&1===e.nodeType)if(o="data-"+t.replace(Je,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(o))){try{r=w(r)}catch(e){}We.set(e,t,r)}else r=void 0;return r}function x(e,t,r,o){var n,i,a=20,l=o?function(){return o.cur()}:function(){return Be.css(e,t,"")},s=l(),u=r&&r[3]||(Be.cssNumber[t]?"":"px"),c=(Be.cssNumber[t]||"px"!==u&&+s)&&Xe.exec(Be.css(e,t));if(c&&c[3]!==u){for(s/=2,u=u||c[3],c=+s||1;a--;)Be.style(e,t,c+u),(1-i)*(1-(i=l()/s||.5))<=0&&(a=0),c/=i;c*=2,Be.style(e,t,c+u),r=r||[]}return r&&(c=+c||+s||0,n=r[1]?c+(r[1]+1)*r[2]:+r[2],o&&(o.unit=u,o.start=c,o.end=n)),n}function P(e){var t,r=e.ownerDocument,o=e.nodeName,n=Ye[o];return n||(t=r.body.appendChild(r.createElement(o)),n=Be.css(t,"display"),t.parentNode.removeChild(t),"none"===n&&(n="block"),Ye[o]=n,n)}function S(e,t){for(var r,o,n=[],i=0,a=e.length;i<a;i++)o=e[i],o.style&&(r=o.style.display,t?("none"===r&&(n[i]=Ue.get(o,"display")||null,n[i]||(o.style.display="")),""===o.style.display&&Ge(o)&&(n[i]=P(o))):"none"!==r&&(n[i]="none",Ue.set(o,"display",r)));for(i=0;i<a;i++)null!=n[i]&&(e[i].style.display=n[i]);return e}function B(e,t){var r;return r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&u(e,t)?Be.merge([e],r):r}function M(e,t){for(var r=0,o=e.length;r<o;r++)Ue.set(e[r],"globalEval",!t||Ue.get(t[r],"globalEval"))}function I(e,t,r,o,n){for(var i,a,s,u,c,d,p=t.createDocumentFragment(),f=[],y=0,h=e.length;y<h;y++)if((i=e[y])||0===i)if("object"===l(i))Be.merge(f,i.nodeType?[i]:i);else if(ot.test(i)){for(a=a||p.appendChild(t.createElement("div")),s=(et.exec(i)||["",""])[1].toLowerCase(),u=rt[s]||rt._default,a.innerHTML=u[1]+Be.htmlPrefilter(i)+u[2],d=u[0];d--;)a=a.lastChild;Be.merge(f,a.childNodes),a=p.firstChild,a.textContent=""}else f.push(t.createTextNode(i));for(p.textContent="",y=0;i=f[y++];)if(o&&Be.inArray(i,o)>-1)n&&n.push(i);else if(c=Be.contains(i.ownerDocument,i),a=B(p.appendChild(i),"script"),c&&M(a),r)for(d=0;i=a[d++];)tt.test(i.type||"")&&r.push(i);return p}function A(){return!0}function k(){return!1}function L(){try{return ce.activeElement}catch(e){}}function T(e,t,r,o,n,i){var a,l;if("object"==typeof t){"string"!=typeof r&&(o=o||r,r=void 0);for(l in t)T(e,l,r,o,t[l],i);return e}if(null==o&&null==n?(n=r,o=r=void 0):null==n&&("string"==typeof r?(n=o,o=void 0):(n=o,o=r,r=void 0)),!1===n)n=k;else if(!n)return e;return 1===i&&(a=n,n=function(e){return Be().off(e),a.apply(this,arguments)},n.guid=a.guid||(a.guid=Be.guid++)),e.each(function(){Be.event.add(this,t,n,o,r)})}function H(e,t){return u(e,"table")&&u(11!==t.nodeType?t:t.firstChild,"tr")?Be(e).children("tbody")[0]||e:e}function D(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function E(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function V(e,t){var r,o,n,i,a,l,s,u;if(1===t.nodeType){if(Ue.hasData(e)&&(i=Ue.access(e),a=Ue.set(t,i),u=i.events)){delete a.handle,a.events={};for(n in u)for(r=0,o=u[n].length;r<o;r++)Be.event.add(t,n,u[n][r])}We.hasData(e)&&(l=We.access(e),s=Be.extend({},l),We.set(t,s))}}function R(e,t){var r=t.nodeName.toLowerCase();"input"===r&&Ze.test(e.type)?t.checked=e.checked:"input"!==r&&"textarea"!==r||(t.defaultValue=e.defaultValue)}function O(e,t,r,o){t=fe.apply([],t);var n,i,l,s,u,c,d=0,p=e.length,f=p-1,y=t[0],h=xe(y);if(h||p>1&&"string"==typeof y&&!Ce.checkClone&&ct.test(y))return e.each(function(n){var i=e.eq(n);h&&(t[0]=y.call(this,n,i.html())),O(i,t,r,o)});if(p&&(n=I(t,e[0].ownerDocument,!1,e,o),i=n.firstChild,1===n.childNodes.length&&(n=i),i||o)){for(l=Be.map(B(n,"script"),D),s=l.length;d<p;d++)u=n,d!==f&&(u=Be.clone(u,!0,!0),s&&Be.merge(l,B(u,"script"))),r.call(e[d],u,d);if(s)for(c=l[l.length-1].ownerDocument,Be.map(l,E),d=0;d<s;d++)u=l[d],tt.test(u.type||"")&&!Ue.access(u,"globalEval")&&Be.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?Be._evalUrl&&Be._evalUrl(u.src):a(u.textContent.replace(dt,""),c,u))}return e}function j(e,t,r){for(var o,n=t?Be.filter(t,e):e,i=0;null!=(o=n[i]);i++)r||1!==o.nodeType||Be.cleanData(B(o)),o.parentNode&&(r&&Be.contains(o.ownerDocument,o)&&M(B(o,"script")),o.parentNode.removeChild(o));return e}function F(e,t,r){var o,n,i,a,l=e.style;return r=r||ft(e),r&&(a=r.getPropertyValue(t)||r[t],""!==a||Be.contains(e.ownerDocument,e)||(a=Be.style(e,t)),!Ce.pixelBoxStyles()&&pt.test(a)&&yt.test(t)&&(o=l.width,n=l.minWidth,i=l.maxWidth,l.minWidth=l.maxWidth=l.width=a,a=r.width,l.width=o,l.minWidth=n,l.maxWidth=i)),void 0!==a?a+"":a}function N(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function _(e){if(e in wt)return e;for(var t=e[0].toUpperCase()+e.slice(1),r=bt.length;r--;)if((e=bt[r]+t)in wt)return e}function q(e){var t=Be.cssProps[e];return t||(t=Be.cssProps[e]=_(e)||e),t}function U(e,t,r){var o=Xe.exec(t);return o?Math.max(0,o[2]-(r||0))+(o[3]||"px"):t}function W(e,t,r,o,n,i){var a="width"===t?1:0,l=0,s=0;if(r===(o?"border":"content"))return 0;for(;a<4;a+=2)"margin"===r&&(s+=Be.css(e,r+$e[a],!0,n)),o?("content"===r&&(s-=Be.css(e,"padding"+$e[a],!0,n)),"margin"!==r&&(s-=Be.css(e,"border"+$e[a]+"Width",!0,n))):(s+=Be.css(e,"padding"+$e[a],!0,n),"padding"!==r?s+=Be.css(e,"border"+$e[a]+"Width",!0,n):l+=Be.css(e,"border"+$e[a]+"Width",!0,n));return!o&&i>=0&&(s+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-s-l-.5))),s}function z(e,t,r){var o=ft(e),n=F(e,t,o),i="border-box"===Be.css(e,"boxSizing",!1,o),a=i;if(pt.test(n)){if(!r)return n;n="auto"}return a=a&&(Ce.boxSizingReliable()||n===e.style[t]),("auto"===n||!parseFloat(n)&&"inline"===Be.css(e,"display",!1,o))&&(n=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(n=parseFloat(n)||0)+W(e,t,r||(i?"border":"content"),a,o,n)+"px"}function J(e,t,r,o,n){return new J.prototype.init(e,t,r,o,n)}function Q(){xt&&(!1===ce.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(Q):r.setTimeout(Q,Be.fx.interval),Be.fx.tick())}function X(){return r.setTimeout(function(){Ct=void 0}),Ct=Date.now()}function $(e,t){var r,o=0,n={height:e};for(t=t?1:0;o<4;o+=2-t)r=$e[o],n["margin"+r]=n["padding"+r]=e;return t&&(n.opacity=n.width=e),n}function G(e,t,r){for(var o,n=(Z.tweeners[t]||[]).concat(Z.tweeners["*"]),i=0,a=n.length;i<a;i++)if(o=n[i].call(r,t,e))return o}function K(e,t,r){var o,n,i,a,l,s,u,c,d="width"in t||"height"in t,p=this,f={},y=e.style,h=e.nodeType&&Ge(e),v=Ue.get(e,"fxshow");r.queue||(a=Be._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,Be.queue(e,"fx").length||a.empty.fire()})}));for(o in t)if(n=t[o],Pt.test(n)){if(delete t[o],i=i||"toggle"===n,n===(h?"hide":"show")){if("show"!==n||!v||void 0===v[o])continue;h=!0}f[o]=v&&v[o]||Be.style(e,o)}if((s=!Be.isEmptyObject(t))||!Be.isEmptyObject(f)){d&&1===e.nodeType&&(r.overflow=[y.overflow,y.overflowX,y.overflowY],u=v&&v.display,null==u&&(u=Ue.get(e,"display")),c=Be.css(e,"display"),"none"===c&&(u?c=u:(S([e],!0),u=e.style.display||u,c=Be.css(e,"display"),S([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===Be.css(e,"float")&&(s||(p.done(function(){y.display=u}),null==u&&(c=y.display,u="none"===c?"":c)),y.display="inline-block")),r.overflow&&(y.overflow="hidden",p.always(function(){y.overflow=r.overflow[0],y.overflowX=r.overflow[1],y.overflowY=r.overflow[2]})),s=!1;for(o in f)s||(v?"hidden"in v&&(h=v.hidden):v=Ue.access(e,"fxshow",{display:u}),i&&(v.hidden=!h),h&&S([e],!0),p.done(function(){h||S([e]),Ue.remove(e,"fxshow");for(o in f)Be.style(e,o,f[o])})),s=G(h?v[o]:0,o,p),o in v||(v[o]=s.start,h&&(s.end=s.start,s.start=0))}}function Y(e,t){var r,o,n,i,a;for(r in e)if(o=g(r),n=t[o],i=e[r],Array.isArray(i)&&(n=i[1],i=e[r]=i[0]),r!==o&&(e[o]=i,delete e[r]),(a=Be.cssHooks[o])&&"expand"in a){i=a.expand(i),delete e[o];for(r in i)r in e||(e[r]=i[r],t[r]=n)}else t[o]=n}function Z(e,t,r){var o,n,i=0,a=Z.prefilters.length,l=Be.Deferred().always(function(){delete s.elem}),s=function(){if(n)return!1;for(var t=Ct||X(),r=Math.max(0,u.startTime+u.duration-t),o=r/u.duration||0,i=1-o,a=0,s=u.tweens.length;a<s;a++)u.tweens[a].run(i);return l.notifyWith(e,[u,i,r]),i<1&&s?r:(s||l.notifyWith(e,[u,1,0]),l.resolveWith(e,[u]),!1)},u=l.promise({elem:e,props:Be.extend({},t),opts:Be.extend(!0,{specialEasing:{},easing:Be.easing._default},r),originalProperties:t,originalOptions:r,startTime:Ct||X(),duration:r.duration,tweens:[],createTween:function(t,r){var o=Be.Tween(e,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(o),o},stop:function(t){var r=0,o=t?u.tweens.length:0;if(n)return this;for(n=!0;r<o;r++)u.tweens[r].run(1);return t?(l.notifyWith(e,[u,1,0]),l.resolveWith(e,[u,t])):l.rejectWith(e,[u,t]),this}}),c=u.props;for(Y(c,u.opts.specialEasing);i<a;i++)if(o=Z.prefilters[i].call(u,e,c,u.opts))return xe(o.stop)&&(Be._queueHooks(u.elem,u.opts.queue).stop=o.stop.bind(o)),o;return Be.map(c,G,u),xe(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),Be.fx.timer(Be.extend(s,{elem:e,anim:u,queue:u.opts.queue})),u}function ee(e){return(e.match(Re)||[]).join(" ")}function te(e){return e.getAttribute&&e.getAttribute("class")||""}function re(e){return Array.isArray(e)?e:"string"==typeof e?e.match(Re)||[]:[]}function oe(e,t,r,o){var n;if(Array.isArray(t))Be.each(t,function(t,n){r||Vt.test(e)?o(e,n):oe(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,r,o)});else if(r||"object"!==l(t))o(e,t);else for(n in t)oe(e+"["+n+"]",t[n],r,o)}function ne(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var o,n=0,i=t.toLowerCase().match(Re)||[];if(xe(r))for(;o=i[n++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(r)):(e[o]=e[o]||[]).push(r)}}function ie(e,t,r,o){function n(l){var s;return i[l]=!0,Be.each(e[l]||[],function(e,l){var u=l(t,r,o);return"string"!=typeof u||a||i[u]?a?!(s=u):void 0:(t.dataTypes.unshift(u),n(u),!1)}),s}var i={},a=e===Qt;return n(t.dataTypes[0])||!i["*"]&&n("*")}function ae(e,t){var r,o,n=Be.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((n[r]?e:o||(o={}))[r]=t[r]);return o&&Be.extend(!0,e,o),e}function le(e,t,r){for(var o,n,i,a,l=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(n in l)if(l[n]&&l[n].test(o)){s.unshift(n);break}if(s[0]in r)i=s[0];else{for(n in r){if(!s[0]||e.converters[n+" "+s[0]]){i=n;break}a||(a=n)}i=i||a}if(i)return i!==s[0]&&s.unshift(i),r[i]}function se(e,t,r,o){var n,i,a,l,s,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(i=c.shift();i;)if(e.responseFields[i]&&(r[e.responseFields[i]]=t),!s&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s=i,i=c.shift())if("*"===i)i=s;else if("*"!==s&&s!==i){if(!(a=u[s+" "+i]||u["* "+i]))for(n in u)if(l=n.split(" "),l[1]===i&&(a=u[s+" "+l[0]]||u["* "+l[0]])){!0===a?a=u[n]:!0!==u[n]&&(i=l[0],c.unshift(l[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+s+" to "+i}}}return{state:"success",data:t}}var ue=[],ce=r.document,de=Object.getPrototypeOf,pe=ue.slice,fe=ue.concat,ye=ue.push,he=ue.indexOf,ve={},me=ve.toString,ge=ve.hasOwnProperty,be=ge.toString,we=be.call(Object),Ce={},xe=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},Pe=function(e){return null!=e&&e===e.window},Se={type:!0,src:!0,noModule:!0},Be=function(e,t){return new Be.fn.init(e,t)},Me=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Be.fn=Be.prototype={jquery:"3.3.1",constructor:Be,length:0,toArray:function(){return pe.call(this)},get:function(e){return null==e?pe.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Be.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Be.each(this,e)},map:function(e){return this.pushStack(Be.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(pe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:ye,sort:ue.sort,splice:ue.splice},Be.extend=Be.fn.extend=function(){var e,t,r,o,n,i,a=arguments[0]||{},l=1,s=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[l]||{},l++),"object"==typeof a||xe(a)||(a={}),l===s&&(a=this,l--);l<s;l++)if(null!=(e=arguments[l]))for(t in e)r=a[t],o=e[t],a!==o&&(u&&o&&(Be.isPlainObject(o)||(n=Array.isArray(o)))?(n?(n=!1,i=r&&Array.isArray(r)?r:[]):i=r&&Be.isPlainObject(r)?r:{},a[t]=Be.extend(u,i,o)):void 0!==o&&(a[t]=o));return a},Be.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==me.call(e))&&(!(t=de(e))||"function"==typeof(r=ge.call(t,"constructor")&&t.constructor)&&be.call(r)===we)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){a(e)},each:function(e,t){var r,o=0;if(s(e))for(r=e.length;o<r&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},trim:function(e){return null==e?"":(e+"").replace(Me,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(s(Object(e))?Be.merge(r,"string"==typeof e?[e]:e):ye.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:he.call(t,e,r)},merge:function(e,t){for(var r=+t.length,o=0,n=e.length;o<r;o++)e[n++]=t[o];return e.length=n,e},grep:function(e,t,r){for(var o=[],n=0,i=e.length,a=!r;n<i;n++)!t(e[n],n)!==a&&o.push(e[n]);return o},map:function(e,t,r){var o,n,i=0,a=[];if(s(e))for(o=e.length;i<o;i++)null!=(n=t(e[i],i,r))&&a.push(n);else for(i in e)null!=(n=t(e[i],i,r))&&a.push(n);return fe.apply([],a)},guid:1,support:Ce}),"function"==typeof Symbol&&(Be.fn[Symbol.iterator]=ue[Symbol.iterator]),Be.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ve["[object "+t+"]"]=t.toLowerCase()});var Ie=function(e){function t(e,t,r,o){var n,i,a,l,s,c,p,f=t&&t.ownerDocument,y=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==y&&9!==y&&11!==y)return r;if(!o&&((t?t.ownerDocument||t:F)!==T&&L(t),t=t||T,D)){if(11!==y&&(s=he.exec(e)))if(n=s[1]){if(9===y){if(!(a=t.getElementById(n)))return r;if(a.id===n)return r.push(a),r}else if(f&&(a=f.getElementById(n))&&O(t,a)&&a.id===n)return r.push(a),r}else{if(s[2])return G.apply(r,t.getElementsByTagName(e)),r;if((n=s[3])&&w.getElementsByClassName&&t.getElementsByClassName)return G.apply(r,t.getElementsByClassName(n)),r}if(w.qsa&&!W[e+" "]&&(!E||!E.test(e))){if(1!==y)f=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((l=t.getAttribute("id"))?l=l.replace(be,we):t.setAttribute("id",l=j),c=S(e),i=c.length;i--;)c[i]="#"+l+" "+d(c[i]);p=c.join(","),f=ve.test(e)&&u(t.parentNode)||t}if(p)try{return G.apply(r,f.querySelectorAll(p)),r}catch(e){}finally{l===j&&t.removeAttribute("id")}}}return M(e.replace(ie,"$1"),t,r,o)}function r(){function e(r,o){return t.push(r+" ")>C.cacheLength&&delete e[t.shift()],e[r+" "]=o}var t=[];return e}function o(e){return e[j]=!0,e}function n(e){var t=T.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var r=e.split("|"),o=r.length;o--;)C.attrHandle[r[o]]=t}function a(e,t){var r=t&&e,o=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(o)return o;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function l(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&xe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function s(e){return o(function(t){return t=+t,o(function(r,o){for(var n,i=e([],r.length,t),a=i.length;a--;)r[n=i[a]]&&(r[n]=!(o[n]=r[n]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function d(e){for(var t=0,r=e.length,o="";t<r;t++)o+=e[t].value;return o}function p(e,t,r){var o=t.dir,n=t.next,i=n||o,a=r&&"parentNode"===i,l=_++;return t.first?function(t,r,n){for(;t=t[o];)if(1===t.nodeType||a)return e(t,r,n);return!1}:function(t,r,s){var u,c,d,p=[N,l];if(s){for(;t=t[o];)if((1===t.nodeType||a)&&e(t,r,s))return!0}else for(;t=t[o];)if(1===t.nodeType||a)if(d=t[j]||(t[j]={}),c=d[t.uniqueID]||(d[t.uniqueID]={}),n&&n===t.nodeName.toLowerCase())t=t[o]||t;else{if((u=c[i])&&u[0]===N&&u[1]===l)return p[2]=u[2];if(c[i]=p,p[2]=e(t,r,s))return!0}return!1}}function f(e){return e.length>1?function(t,r,o){for(var n=e.length;n--;)if(!e[n](t,r,o))return!1;return!0}:e[0]}function y(e,r,o){for(var n=0,i=r.length;n<i;n++)t(e,r[n],o);return o}function h(e,t,r,o,n){for(var i,a=[],l=0,s=e.length,u=null!=t;l<s;l++)(i=e[l])&&(r&&!r(i,o,n)||(a.push(i),u&&t.push(l)));return a}function v(e,t,r,n,i,a){return n&&!n[j]&&(n=v(n)),i&&!i[j]&&(i=v(i,a)),o(function(o,a,l,s){var u,c,d,p=[],f=[],v=a.length,m=o||y(t||"*",l.nodeType?[l]:l,[]),g=!e||!o&&t?m:h(m,p,e,l,s),b=r?i||(o?e:v||n)?[]:a:g;if(r&&r(g,b,l,s),n)for(u=h(b,f),n(u,[],l,s),c=u.length;c--;)(d=u[c])&&(b[f[c]]=!(g[f[c]]=d));if(o){if(i||e){if(i){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(g[c]=d);i(null,b=[],u,s)}for(c=b.length;c--;)(d=b[c])&&(u=i?Y(o,d):p[c])>-1&&(o[u]=!(a[u]=d))}}else b=h(b===a?b.splice(v,b.length):b),i?i(null,a,b,s):G.apply(a,b)})}function m(e){for(var t,r,o,n=e.length,i=C.relative[e[0].type],a=i||C.relative[" "],l=i?1:0,s=p(function(e){return e===t},a,!0),u=p(function(e){return Y(t,e)>-1},a,!0),c=[function(e,r,o){var n=!i&&(o||r!==I)||((t=r).nodeType?s(e,r,o):u(e,r,o));return t=null,n}];l<n;l++)if(r=C.relative[e[l].type])c=[p(f(c),r)];else{if(r=C.filter[e[l].type].apply(null,e[l].matches),r[j]){for(o=++l;o<n&&!C.relative[e[o].type];o++);return v(l>1&&f(c),l>1&&d(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(ie,"$1"),r,l<o&&m(e.slice(l,o)),o<n&&m(e=e.slice(o)),o<n&&d(e))}c.push(r)}return f(c)}function g(e,r){var n=r.length>0,i=e.length>0,a=function(o,a,l,s,u){var c,d,p,f=0,y="0",v=o&&[],m=[],g=I,b=o||i&&C.find.TAG("*",u),w=N+=null==g?1:Math.random()||.1,x=b.length;for(u&&(I=a===T||a||u);y!==x&&null!=(c=b[y]);y++){if(i&&c){for(d=0,a||c.ownerDocument===T||(L(c),l=!D);p=e[d++];)if(p(c,a||T,l)){s.push(c);break}u&&(N=w)}n&&((c=!p&&c)&&f--,o&&v.push(c))}if(f+=y,n&&y!==f){for(d=0;p=r[d++];)p(v,m,a,l);if(o){if(f>0)for(;y--;)v[y]||m[y]||(m[y]=X.call(s));m=h(m)}G.apply(s,m),u&&!o&&m.length>0&&f+r.length>1&&t.uniqueSort(s)}return u&&(N=w,I=g),v};return n?o(a):a}var b,w,C,x,P,S,B,M,I,A,k,L,T,H,D,E,V,R,O,j="sizzle"+1*new Date,F=e.document,N=0,_=0,q=r(),U=r(),W=r(),z=function(e,t){return e===t&&(k=!0),0},J={}.hasOwnProperty,Q=[],X=Q.pop,$=Q.push,G=Q.push,K=Q.slice,Y=function(e,t){for(var r=0,o=e.length;r<o;r++)if(e[r]===t)return r;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",re="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",oe=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ne=new RegExp(ee+"+","g"),ie=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),le=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),se=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ue=new RegExp(oe),ce=new RegExp("^"+te+"$"),de={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,ye=/^[^{]+\{\s*\[native \w/,he=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,me=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),ge=function(e,t,r){var o="0x"+t-65536;return o!==o||r?t:o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,we=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Ce=function(){L()},xe=p(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{G.apply(Q=K.call(F.childNodes),F.childNodes),Q[F.childNodes.length].nodeType}catch(e){G={apply:Q.length?function(e,t){$.apply(e,K.call(t))}:function(e,t){for(var r=e.length,o=0;e[r++]=t[o++];);e.length=r-1}}}w=t.support={},P=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},L=t.setDocument=function(e){var t,r,o=e?e.ownerDocument||e:F;return o!==T&&9===o.nodeType&&o.documentElement?(T=o,H=T.documentElement,D=!P(T),F!==T&&(r=T.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",Ce,!1):r.attachEvent&&r.attachEvent("onunload",Ce)),w.attributes=n(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=n(function(e){return e.appendChild(T.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ye.test(T.getElementsByClassName),w.getById=n(function(e){return H.appendChild(e).id=j,!T.getElementsByName||!T.getElementsByName(j).length}),w.getById?(C.filter.ID=function(e){var t=e.replace(me,ge);return function(e){return e.getAttribute("id")===t}},C.find.ID=function(e,t){if(void 0!==t.getElementById&&D){var r=t.getElementById(e);return r?[r]:[]}}):(C.filter.ID=function(e){var t=e.replace(me,ge);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},C.find.ID=function(e,t){if(void 0!==t.getElementById&&D){var r,o,n,i=t.getElementById(e);if(i){if((r=i.getAttributeNode("id"))&&r.value===e)return[i];for(n=t.getElementsByName(e),o=0;i=n[o++];)if((r=i.getAttributeNode("id"))&&r.value===e)return[i]}return[]}}),C.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,o=[],n=0,i=t.getElementsByTagName(e);if("*"===e){for(;r=i[n++];)1===r.nodeType&&o.push(r);return o}return i},C.find.CLASS=w.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&D)return t.getElementsByClassName(e)},V=[],E=[],(w.qsa=ye.test(T.querySelectorAll))&&(n(function(e){H.appendChild(e).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&E.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||E.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+j+"-]").length||E.push("~="),e.querySelectorAll(":checked").length||E.push(":checked"),e.querySelectorAll("a#"+j+"+*").length||E.push(".#.+[+~]")}),n(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=T.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&E.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&E.push(":enabled",":disabled"),H.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&E.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),E.push(",.*:")})),(w.matchesSelector=ye.test(R=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&n(function(e){w.disconnectedMatch=R.call(e,"*"),R.call(e,"[s!='']:x"),V.push("!=",oe)}),E=E.length&&new RegExp(E.join("|")),V=V.length&&new RegExp(V.join("|")),t=ye.test(H.compareDocumentPosition),O=t||ye.test(H.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(r.contains?r.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},z=t?function(e,t){if(e===t)return k=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!w.sortDetached&&t.compareDocumentPosition(e)===r?e===T||e.ownerDocument===F&&O(F,e)?-1:t===T||t.ownerDocument===F&&O(F,t)?1:A?Y(A,e)-Y(A,t):0:4&r?-1:1)}:function(e,t){if(e===t)return k=!0,0;var r,o=0,n=e.parentNode,i=t.parentNode,l=[e],s=[t];if(!n||!i)return e===T?-1:t===T?1:n?-1:i?1:A?Y(A,e)-Y(A,t):0;if(n===i)return a(e,t);for(r=e;r=r.parentNode;)l.unshift(r);for(r=t;r=r.parentNode;)s.unshift(r);for(;l[o]===s[o];)o++;return o?a(l[o],s[o]):l[o]===F?-1:s[o]===F?1:0},T):T},t.matches=function(e,r){return t(e,null,null,r)},t.matchesSelector=function(e,r){if((e.ownerDocument||e)!==T&&L(e),r=r.replace(se,"='$1']"),w.matchesSelector&&D&&!W[r+" "]&&(!V||!V.test(r))&&(!E||!E.test(r)))try{var o=R.call(e,r);if(o||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(e){}return t(r,T,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==T&&L(e),O(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==T&&L(e);var r=C.attrHandle[t.toLowerCase()],o=r&&J.call(C.attrHandle,t.toLowerCase())?r(e,t,!D):void 0;return void 0!==o?o:w.attributes||!D?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},t.escape=function(e){return(e+"").replace(be,we)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,r=[],o=0,n=0;if(k=!w.detectDuplicates,A=!w.sortStable&&e.slice(0),e.sort(z),k){for(;t=e[n++];)t===e[n]&&(o=r.push(n));for(;o--;)e.splice(r[o],1)}return A=null,e},x=t.getText=function(e){var t,r="",o=0,n=e.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=x(e)}else if(3===n||4===n)return e.nodeValue}else for(;t=e[o++];)r+=x(t);return r},C=t.selectors={cacheLength:50,createPseudo:o,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(me,ge),e[3]=(e[3]||e[4]||e[5]||"").replace(me,ge),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&ue.test(r)&&(t=S(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(me,ge).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,r,o){return function(n){var i=t.attr(n,e);return null==i?"!="===r:!r||(i+="","="===r?i===o:"!="===r?i!==o:"^="===r?o&&0===i.indexOf(o):"*="===r?o&&i.indexOf(o)>-1:"$="===r?o&&i.slice(-o.length)===o:"~="===r?(" "+i.replace(ne," ")+" ").indexOf(o)>-1:"|="===r&&(i===o||i.slice(0,o.length+1)===o+"-"))}},CHILD:function(e,t,r,o,n){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),l="of-type"===t;return 1===o&&0===n?function(e){return!!e.parentNode}:function(t,r,s){var u,c,d,p,f,y,h=i!==a?"nextSibling":"previousSibling",v=t.parentNode,m=l&&t.nodeName.toLowerCase(),g=!s&&!l,b=!1;if(v){if(i){for(;h;){for(p=t;p=p[h];)if(l?p.nodeName.toLowerCase()===m:1===p.nodeType)return!1;y=h="only"===e&&!y&&"nextSibling"}return!0}if(y=[a?v.firstChild:v.lastChild],a&&g){for(p=v,d=p[j]||(p[j]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),u=c[e]||[],f=u[0]===N&&u[1],b=f&&u[2],p=f&&v.childNodes[f];p=++f&&p&&p[h]||(b=f=0)||y.pop();)if(1===p.nodeType&&++b&&p===t){c[e]=[N,f,b];break}}else if(g&&(p=t,d=p[j]||(p[j]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),u=c[e]||[],f=u[0]===N&&u[1],b=f),!1===b)for(;(p=++f&&p&&p[h]||(b=f=0)||y.pop())&&((l?p.nodeName.toLowerCase()!==m:1!==p.nodeType)||!++b||(g&&(d=p[j]||(p[j]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),c[e]=[N,b]),p!==t)););return(b-=n)===o||b%o==0&&b/o>=0}}},PSEUDO:function(e,r){var n,i=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[j]?i(r):i.length>1?(n=[e,e,"",r],C.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,t){for(var o,n=i(e,r),a=n.length;a--;)o=Y(e,n[a]),e[o]=!(t[o]=n[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:o(function(e){var t=[],r=[],n=B(e.replace(ie,"$1"));return n[j]?o(function(e,t,r,o){for(var i,a=n(e,null,o,[]),l=e.length;l--;)(i=a[l])&&(e[l]=!(t[l]=i))}):function(e,o,i){return t[0]=e,n(t,null,i,r),t[0]=null,!r.pop()}}),has:o(function(e){return function(r){return t(e,r).length>0}}),contains:o(function(e){return e=e.replace(me,ge),function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:o(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(me,ge).toLowerCase(),function(t){var r;do{if(r=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===H},focus:function(e){return e===T.activeElement&&(!T.hasFocus||T.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return fe.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,r){return[r<0?r+t:r]}),even:s(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:s(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:s(function(e,t,r){for(var o=r<0?r+t:r;--o>=0;)e.push(o);return e}),gt:s(function(e,t,r){for(var o=r<0?r+t:r;++o<t;)e.push(o);return e})}},C.pseudos.nth=C.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[b]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(b);for(b in{submit:!0,reset:!0})C.pseudos[b]=function(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}(b);return c.prototype=C.filters=C.pseudos,C.setFilters=new c,S=t.tokenize=function(e,r){var o,n,i,a,l,s,u,c=U[e+" "];if(c)return r?0:c.slice(0);for(l=e,s=[],u=C.preFilter;l;){o&&!(n=ae.exec(l))||(n&&(l=l.slice(n[0].length)||l),s.push(i=[])),o=!1,(n=le.exec(l))&&(o=n.shift(),i.push({value:o,type:n[0].replace(ie," ")}),l=l.slice(o.length));for(a in C.filter)!(n=de[a].exec(l))||u[a]&&!(n=u[a](n))||(o=n.shift(),i.push({value:o,type:a,matches:n}),l=l.slice(o.length));if(!o)break}return r?l.length:l?t.error(e):U(e,s).slice(0)},B=t.compile=function(e,t){var r,o=[],n=[],i=W[e+" "];if(!i){for(t||(t=S(e)),r=t.length;r--;)i=m(t[r]),i[j]?o.push(i):n.push(i);i=W(e,g(n,o)),i.selector=e}return i},M=t.select=function(e,t,r,o){var n,i,a,l,s,c="function"==typeof e&&e,p=!o&&S(e=c.selector||e);if(r=r||[],1===p.length){if(i=p[0]=p[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&9===t.nodeType&&D&&C.relative[i[1].type]){if(!(t=(C.find.ID(a.matches[0].replace(me,ge),t)||[])[0]))return r;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(n=de.needsContext.test(e)?0:i.length;n--&&(a=i[n],!C.relative[l=a.type]);)if((s=C.find[l])&&(o=s(a.matches[0].replace(me,ge),ve.test(i[0].type)&&u(t.parentNode)||t))){if(i.splice(n,1),!(e=o.length&&d(i)))return G.apply(r,o),r;break}}return(c||B(e,p))(o,t,!D,r,!t||ve.test(e)&&u(t.parentNode)||t),r},w.sortStable=j.split("").sort(z).join("")===j,w.detectDuplicates=!!k,L(),w.sortDetached=n(function(e){return 1&e.compareDocumentPosition(T.createElement("fieldset"))}),n(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&n(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),n(function(e){return null==e.getAttribute("disabled")})||i(Z,function(e,t,r){var o;if(!r)return!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null}),t}(r);Be.find=Ie,Be.expr=Ie.selectors,Be.expr[":"]=Be.expr.pseudos,Be.uniqueSort=Be.unique=Ie.uniqueSort,Be.text=Ie.getText,Be.isXMLDoc=Ie.isXML,Be.contains=Ie.contains,Be.escapeSelector=Ie.escape;var Ae=function(e,t,r){for(var o=[],n=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&Be(e).is(r))break;o.push(e)}return o},ke=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},Le=Be.expr.match.needsContext,Te=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Be.filter=function(e,t,r){var o=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?Be.find.matchesSelector(o,e)?[o]:[]:Be.find.matches(e,Be.grep(t,function(e){return 1===e.nodeType}))},Be.fn.extend({find:function(e){var t,r,o=this.length,n=this;if("string"!=typeof e)return this.pushStack(Be(e).filter(function(){for(t=0;t<o;t++)if(Be.contains(n[t],this))return!0}));for(r=this.pushStack([]),t=0;t<o;t++)Be.find(e,n[t],r);return o>1?Be.uniqueSort(r):r},filter:function(e){return this.pushStack(c(this,e||[],!1))},not:function(e){return this.pushStack(c(this,e||[],!0))},is:function(e){return!!c(this,"string"==typeof e&&Le.test(e)?Be(e):e||[],!1).length}});var He,De=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Be.fn.init=function(e,t,r){var o,n;if(!e)return this;if(r=r||He,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:De.exec(e))||!o[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof Be?t[0]:t,Be.merge(this,Be.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:ce,!0)),Te.test(o[1])&&Be.isPlainObject(t))for(o in t)xe(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return n=ce.getElementById(o[2]),n&&(this[0]=n,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):xe(e)?void 0!==r.ready?r.ready(e):e(Be):Be.makeArray(e,this)}).prototype=Be.fn,He=Be(ce);var Ee=/^(?:parents|prev(?:Until|All))/,Ve={children:!0,contents:!0,next:!0,prev:!0};Be.fn.extend({has:function(e){var t=Be(e,this),r=t.length;return this.filter(function(){for(var e=0;e<r;e++)if(Be.contains(this,t[e]))return!0})},closest:function(e,t){var r,o=0,n=this.length,i=[],a="string"!=typeof e&&Be(e);if(!Le.test(e))for(;o<n;o++)for(r=this[o];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&Be.find.matchesSelector(r,e))){i.push(r);break}return this.pushStack(i.length>1?Be.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?he.call(Be(e),this[0]):he.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Be.uniqueSort(Be.merge(this.get(),Be(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Be.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ae(e,"parentNode")},parentsUntil:function(e,t,r){return Ae(e,"parentNode",r)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return Ae(e,"nextSibling")},prevAll:function(e){return Ae(e,"previousSibling")},nextUntil:function(e,t,r){return Ae(e,"nextSibling",r)},prevUntil:function(e,t,r){return Ae(e,"previousSibling",r)},siblings:function(e){return ke((e.parentNode||{}).firstChild,e)},children:function(e){return ke(e.firstChild)},contents:function(e){return u(e,"iframe")?e.contentDocument:(u(e,"template")&&(e=e.content||e),Be.merge([],e.childNodes))}},function(e,t){Be.fn[e]=function(r,o){var n=Be.map(this,t,r);return"Until"!==e.slice(-5)&&(o=r),o&&"string"==typeof o&&(n=Be.filter(o,n)),this.length>1&&(Ve[e]||Be.uniqueSort(n),Ee.test(e)&&n.reverse()),this.pushStack(n)}});var Re=/[^\x20\t\r\n\f]+/g;Be.Callbacks=function(e){e="string"==typeof e?p(e):Be.extend({},e);var t,r,o,n,i=[],a=[],s=-1,u=function(){for(n=n||e.once,o=t=!0;a.length;s=-1)for(r=a.shift();++s<i.length;)!1===i[s].apply(r[0],r[1])&&e.stopOnFalse&&(s=i.length,r=!1);e.memory||(r=!1),t=!1,n&&(i=r?[]:"")},c={add:function(){return i&&(r&&!t&&(s=i.length-1,a.push(r)),function t(r){Be.each(r,function(r,o){xe(o)?e.unique&&c.has(o)||i.push(o):o&&o.length&&"string"!==l(o)&&t(o)})}(arguments),r&&!t&&u()),this},remove:function(){return Be.each(arguments,function(e,t){for(var r;(r=Be.inArray(t,i,r))>-1;)i.splice(r,1),r<=s&&s--}),this},has:function(e){return e?Be.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return n=a=[],i=r="",this},disabled:function(){return!i},lock:function(){return n=a=[],r||t||(i=r=""),this},locked:function(){return!!n},fireWith:function(e,r){return n||(r=r||[],r=[e,r.slice?r.slice():r],a.push(r),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!o}};return c},Be.extend({Deferred:function(e){var t=[["notify","progress",Be.Callbacks("memory"),Be.Callbacks("memory"),2],["resolve","done",Be.Callbacks("once memory"),Be.Callbacks("once memory"),0,"resolved"],["reject","fail",Be.Callbacks("once memory"),Be.Callbacks("once memory"),1,"rejected"]],o="pending",n={state:function(){return o},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return n.then(null,e)},pipe:function(){var e=arguments;return Be.Deferred(function(r){Be.each(t,function(t,o){var n=xe(e[o[4]])&&e[o[4]];i[o[1]](function(){var e=n&&n.apply(this,arguments);e&&xe(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[o[0]+"With"](this,n?[e]:arguments)})}),e=null}).promise()},then:function(e,o,n){function i(e,t,o,n){return function(){var l=this,s=arguments,u=function(){var r,u;if(!(e<a)){if((r=o.apply(l,s))===t.promise())throw new TypeError("Thenable self-resolution");u=r&&("object"==typeof r||"function"==typeof r)&&r.then,xe(u)?n?u.call(r,i(a,t,f,n),i(a,t,y,n)):(a++,u.call(r,i(a,t,f,n),i(a,t,y,n),i(a,t,f,t.notifyWith))):(o!==f&&(l=void 0,s=[r]),(n||t.resolveWith)(l,s))}},c=n?u:function(){try{u()}catch(r){Be.Deferred.exceptionHook&&Be.Deferred.exceptionHook(r,c.stackTrace),e+1>=a&&(o!==y&&(l=void 0,s=[r]),t.rejectWith(l,s))}};e?c():(Be.Deferred.getStackHook&&(c.stackTrace=Be.Deferred.getStackHook()),r.setTimeout(c))}}var a=0;return Be.Deferred(function(r){t[0][3].add(i(0,r,xe(n)?n:f,r.notifyWith)),t[1][3].add(i(0,r,xe(e)?e:f)),t[2][3].add(i(0,r,xe(o)?o:y))}).promise()},promise:function(e){return null!=e?Be.extend(e,n):n}},i={};return Be.each(t,function(e,r){var a=r[2],l=r[5];n[r[1]]=a.add,l&&a.add(function(){o=l},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(r[3].fire),i[r[0]]=function(){return i[r[0]+"With"](this===i?void 0:this,arguments),this},i[r[0]+"With"]=a.fireWith}),n.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,r=t,o=Array(r),n=pe.call(arguments),i=Be.Deferred(),a=function(e){return function(r){o[e]=this,n[e]=arguments.length>1?pe.call(arguments):r,--t||i.resolveWith(o,n)}};if(t<=1&&(h(e,i.done(a(r)).resolve,i.reject,!t),"pending"===i.state()||xe(n[r]&&n[r].then)))return i.then();for(;r--;)h(n[r],a(r),i.reject);return i.promise()}});var Oe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Be.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&Oe.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},Be.readyException=function(e){r.setTimeout(function(){throw e})};var je=Be.Deferred();Be.fn.ready=function(e){return je.then(e).catch(function(e){Be.readyException(e)}),this},Be.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--Be.readyWait:Be.isReady)||(Be.isReady=!0,!0!==e&&--Be.readyWait>0||je.resolveWith(ce,[Be]))}}),Be.ready.then=je.then,"complete"===ce.readyState||"loading"!==ce.readyState&&!ce.documentElement.doScroll?r.setTimeout(Be.ready):(ce.addEventListener("DOMContentLoaded",v),r.addEventListener("load",v));var Fe=function(e,t,r,o,n,i,a){var s=0,u=e.length,c=null==r;if("object"===l(r)){n=!0;for(s in r)Fe(e,t,s,r[s],!0,i,a)}else if(void 0!==o&&(n=!0,xe(o)||(a=!0),c&&(a?(t.call(e,o),t=null):(c=t,t=function(e,t,r){return c.call(Be(e),r)})),t))for(;s<u;s++)t(e[s],r,a?o:o.call(e[s],s,t(e[s],r)));return n?e:c?t.call(e):u?t(e[0],r):i},Ne=/^-ms-/,_e=/-([a-z])/g,qe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};b.uid=1,b.prototype={cache:function(e){var t=e[this.expando];return t||(t={},qe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var o,n=this.cache(e);if("string"==typeof t)n[g(t)]=r;else for(o in t)n[g(o)]=t[o];return n},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][g(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,o=e[this.expando];if(void 0!==o){if(void 0!==t){Array.isArray(t)?t=t.map(g):(t=g(t),t=t in o?[t]:t.match(Re)||[]),r=t.length;for(;r--;)delete o[t[r]]}(void 0===t||Be.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Be.isEmptyObject(t)}};var Ue=new b,We=new b,ze=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Je=/[A-Z]/g;Be.extend({hasData:function(e){return We.hasData(e)||Ue.hasData(e)},data:function(e,t,r){return We.access(e,t,r)},removeData:function(e,t){We.remove(e,t)},_data:function(e,t,r){return Ue.access(e,t,r)},_removeData:function(e,t){Ue.remove(e,t)}}),Be.fn.extend({data:function(e,t){var r,o,n,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(n=We.get(i),1===i.nodeType&&!Ue.get(i,"hasDataAttrs"))){for(r=a.length;r--;)a[r]&&(o=a[r].name,0===o.indexOf("data-")&&(o=g(o.slice(5)),C(i,o,n[o])));Ue.set(i,"hasDataAttrs",!0)}return n}return"object"==typeof e?this.each(function(){We.set(this,e)}):Fe(this,function(t){var r;if(i&&void 0===t){if(void 0!==(r=We.get(i,e)))return r;if(void 0!==(r=C(i,e)))return r}else this.each(function(){We.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){We.remove(this,e)})}}),Be.extend({queue:function(e,t,r){var o;if(e)return t=(t||"fx")+"queue",o=Ue.get(e,t),r&&(!o||Array.isArray(r)?o=Ue.access(e,t,Be.makeArray(r)):o.push(r)),o||[]},dequeue:function(e,t){t=t||"fx";var r=Be.queue(e,t),o=r.length,n=r.shift(),i=Be._queueHooks(e,t),a=function(){Be.dequeue(e,t)};"inprogress"===n&&(n=r.shift(),o--),n&&("fx"===t&&r.unshift("inprogress"),delete i.stop,n.call(e,a,i)),!o&&i&&i.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return Ue.get(e,r)||Ue.access(e,r,{empty:Be.Callbacks("once memory").add(function(){Ue.remove(e,[t+"queue",r])})})}}),Be.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?Be.queue(this[0],e):void 0===t?this:this.each(function(){var r=Be.queue(this,e,t);Be._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&Be.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Be.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,o=1,n=Be.Deferred(),i=this,a=this.length,l=function(){--o||n.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(r=Ue.get(i[a],e+"queueHooks"))&&r.empty&&(o++,r.empty.add(l));return l(),n.promise(t)}});var Qe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Xe=new RegExp("^(?:([+-])=|)("+Qe+")([a-z%]*)$","i"),$e=["Top","Right","Bottom","Left"],Ge=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&Be.contains(e.ownerDocument,e)&&"none"===Be.css(e,"display")},Ke=function(e,t,r,o){var n,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];n=r.apply(e,o||[]);for(i in t)e.style[i]=a[i];return n},Ye={};Be.fn.extend({show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ge(this)?Be(this).show():Be(this).hide()})}});var Ze=/^(?:checkbox|radio)$/i,et=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,tt=/^$|^module$|\/(?:java|ecma)script/i,rt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};rt.optgroup=rt.option,rt.tbody=rt.tfoot=rt.colgroup=rt.caption=rt.thead,rt.th=rt.td;var ot=/<|&#?\w+;/;!function(){var e=ce.createDocumentFragment(),t=e.appendChild(ce.createElement("div")),r=ce.createElement("input");r.setAttribute("type","radio"),r.setAttribute("checked","checked"),r.setAttribute("name","t"),t.appendChild(r),Ce.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Ce.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var nt=ce.documentElement,it=/^key/,at=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,lt=/^([^.]*)(?:\.(.+)|)/;Be.event={global:{},add:function(e,t,r,o,n){var i,a,l,s,u,c,d,p,f,y,h,v=Ue.get(e);if(v)for(r.handler&&(i=r,r=i.handler,n=i.selector),n&&Be.find.matchesSelector(nt,n),r.guid||(r.guid=Be.guid++),(s=v.events)||(s=v.events={}),(a=v.handle)||(a=v.handle=function(t){return void 0!==Be&&Be.event.triggered!==t.type?Be.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Re)||[""],u=t.length;u--;)l=lt.exec(t[u])||[],f=h=l[1],y=(l[2]||"").split(".").sort(),f&&(d=Be.event.special[f]||{},f=(n?d.delegateType:d.bindType)||f,d=Be.event.special[f]||{},c=Be.extend({type:f,origType:h,data:o,handler:r,guid:r.guid,selector:n,needsContext:n&&Be.expr.match.needsContext.test(n),namespace:y.join(".")},i),(p=s[f])||(p=s[f]=[],p.delegateCount=0,d.setup&&!1!==d.setup.call(e,o,y,a)||e.addEventListener&&e.addEventListener(f,a)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),n?p.splice(p.delegateCount++,0,c):p.push(c),Be.event.global[f]=!0)},remove:function(e,t,r,o,n){var i,a,l,s,u,c,d,p,f,y,h,v=Ue.hasData(e)&&Ue.get(e);if(v&&(s=v.events)){for(t=(t||"").match(Re)||[""],u=t.length;u--;)if(l=lt.exec(t[u])||[],f=h=l[1],y=(l[2]||"").split(".").sort(),f){for(d=Be.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,p=s[f]||[],l=l[2]&&new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=p.length;i--;)c=p[i],!n&&h!==c.origType||r&&r.guid!==c.guid||l&&!l.test(c.namespace)||o&&o!==c.selector&&("**"!==o||!c.selector)||(p.splice(i,1),c.selector&&p.delegateCount--,d.remove&&d.remove.call(e,c));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,y,v.handle)||Be.removeEvent(e,f,v.handle),delete s[f])}else for(f in s)Be.event.remove(e,f+t[u],r,o,!0);Be.isEmptyObject(s)&&Ue.remove(e,"handle events")}},dispatch:function(e){var t,r,o,n,i,a,l=Be.event.fix(e),s=new Array(arguments.length),u=(Ue.get(this,"events")||{})[l.type]||[],c=Be.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(a=Be.event.handlers.call(this,l,u),t=0;(n=a[t++])&&!l.isPropagationStopped();)for(l.currentTarget=n.elem,r=0;(i=n.handlers[r++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!l.rnamespace.test(i.namespace)||(l.handleObj=i,l.data=i.data,void 0!==(o=((Be.event.special[i.origType]||{}).handle||i.handler).apply(n.elem,s))&&!1===(l.result=o)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(e,t){var r,o,n,i,a,l=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(i=[],a={},r=0;r<s;r++)o=t[r],n=o.selector+" ",void 0===a[n]&&(a[n]=o.needsContext?Be(n,this).index(u)>-1:Be.find(n,this,null,[u]).length),a[n]&&i.push(o);i.length&&l.push({elem:u,handlers:i})}return u=this,s<t.length&&l.push({elem:u,handlers:t.slice(s)}),l},addProp:function(e,t){Object.defineProperty(Be.Event.prototype,e,{enumerable:!0,configurable:!0,get:xe(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Be.expando]?e:new Be.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==L()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===L()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&u(this,"input"))return this.click(),!1},_default:function(e){return u(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Be.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},Be.Event=function(e,t){if(!(this instanceof Be.Event))return new Be.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?A:k,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Be.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[Be.expando]=!0},Be.Event.prototype={constructor:Be.Event,isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=A,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=A,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=A,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Be.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&it.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&at.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Be.event.addProp),Be.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Be.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,o=this,n=e.relatedTarget,i=e.handleObj;return n&&(n===o||Be.contains(o,n))||(e.type=i.origType,r=i.handler.apply(this,arguments),e.type=t),r}}}),Be.fn.extend({on:function(e,t,r,o){return T(this,e,t,r,o)},one:function(e,t,r,o){return T(this,e,t,r,o,1)},off:function(e,t,r){var o,n;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,Be(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=k),this.each(function(){Be.event.remove(this,e,r,t)})}});var st=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ut=/<script|<style|<link/i,ct=/checked\s*(?:[^=]|=\s*.checked.)/i,dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Be.extend({htmlPrefilter:function(e){return e.replace(st,"<$1></$2>")},clone:function(e,t,r){var o,n,i,a,l=e.cloneNode(!0),s=Be.contains(e.ownerDocument,e);if(!(Ce.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Be.isXMLDoc(e)))for(a=B(l),i=B(e),o=0,n=i.length;o<n;o++)R(i[o],a[o]);if(t)if(r)for(i=i||B(e),a=a||B(l),o=0,n=i.length;o<n;o++)V(i[o],a[o]);else V(e,l);return a=B(l,"script"),a.length>0&&M(a,!s&&B(e,"script")),l},cleanData:function(e){for(var t,r,o,n=Be.event.special,i=0;void 0!==(r=e[i]);i++)if(qe(r)){if(t=r[Ue.expando]){if(t.events)for(o in t.events)n[o]?Be.event.remove(r,o):Be.removeEvent(r,o,t.handle);r[Ue.expando]=void 0}r[We.expando]&&(r[We.expando]=void 0)}}}),Be.fn.extend({detach:function(e){return j(this,e,!0)},remove:function(e){return j(this,e)},text:function(e){return Fe(this,function(e){return void 0===e?Be.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return O(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){H(this,e).appendChild(e)}})},prepend:function(){return O(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=H(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return O(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return O(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Be.cleanData(B(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Be.clone(this,e,t)})},html:function(e){return Fe(this,function(e){var t=this[0]||{},r=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ut.test(e)&&!rt[(et.exec(e)||["",""])[1].toLowerCase()]){e=Be.htmlPrefilter(e);try{for(;r<o;r++)t=this[r]||{},1===t.nodeType&&(Be.cleanData(B(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return O(this,arguments,function(t){var r=this.parentNode;Be.inArray(this,e)<0&&(Be.cleanData(B(this)),r&&r.replaceChild(t,this))},e)}}),Be.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Be.fn[e]=function(e){for(var r,o=[],n=Be(e),i=n.length-1,a=0;a<=i;a++)r=a===i?this:this.clone(!0),Be(n[a])[t](r),ye.apply(o,r.get());return this.pushStack(o)}});var pt=new RegExp("^("+Qe+")(?!px)[a-z%]+$","i"),ft=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},yt=new RegExp($e.join("|"),"i");!function(){function e(){if(u){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nt.appendChild(s).appendChild(u);var e=r.getComputedStyle(u);o="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",a=36===t(e.right),n=36===t(e.width),u.style.position="absolute",i=36===u.offsetWidth||"absolute",nt.removeChild(s),u=null}}function t(e){return Math.round(parseFloat(e))}var o,n,i,a,l,s=ce.createElement("div"),u=ce.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",Ce.clearCloneStyle="content-box"===u.style.backgroundClip,Be.extend(Ce,{boxSizingReliable:function(){return e(),n},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),o},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),i}}))}();var ht=/^(none|table(?!-c[ea]).+)/,vt=/^--/,mt={position:"absolute",visibility:"hidden",display:"block"},gt={letterSpacing:"0",fontWeight:"400"},bt=["Webkit","Moz","ms"],wt=ce.createElement("div").style;Be.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=F(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,i,a,l=g(t),s=vt.test(t),u=e.style;if(s||(t=q(l)),a=Be.cssHooks[t]||Be.cssHooks[l],void 0===r)return a&&"get"in a&&void 0!==(n=a.get(e,!1,o))?n:u[t];i=typeof r,"string"===i&&(n=Xe.exec(r))&&n[1]&&(r=x(e,t,n),i="number"),null!=r&&r===r&&("number"===i&&(r+=n&&n[3]||(Be.cssNumber[l]?"":"px")),Ce.clearCloneStyle||""!==r||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(r=a.set(e,r,o))||(s?u.setProperty(t,r):u[t]=r))}},css:function(e,t,r,o){var n,i,a,l=g(t);return vt.test(t)||(t=q(l)),a=Be.cssHooks[t]||Be.cssHooks[l],a&&"get"in a&&(n=a.get(e,!0,r)),void 0===n&&(n=F(e,t,o)),"normal"===n&&t in gt&&(n=gt[t]),""===r||r?(i=parseFloat(n),!0===r||isFinite(i)?i||0:n):n}}),Be.each(["height","width"],function(e,t){Be.cssHooks[t]={get:function(e,r,o){if(r)return!ht.test(Be.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?z(e,t,o):Ke(e,mt,function(){return z(e,t,o)})},set:function(e,r,o){var n,i=ft(e),a="border-box"===Be.css(e,"boxSizing",!1,i),l=o&&W(e,t,o,a,i);return a&&Ce.scrollboxSize()===i.position&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-W(e,t,"border",!1,i)-.5)),l&&(n=Xe.exec(r))&&"px"!==(n[3]||"px")&&(e.style[t]=r,r=Be.css(e,t)),U(e,r,l)}}}),Be.cssHooks.marginLeft=N(Ce.reliableMarginLeft,function(e,t){if(t)return(parseFloat(F(e,"marginLeft"))||e.getBoundingClientRect().left-Ke(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Be.each({margin:"",padding:"",border:"Width"},function(e,t){Be.cssHooks[e+t]={expand:function(r){for(var o=0,n={},i="string"==typeof r?r.split(" "):[r];o<4;o++)n[e+$e[o]+t]=i[o]||i[o-2]||i[0];return n}},"margin"!==e&&(Be.cssHooks[e+t].set=U)}),Be.fn.extend({css:function(e,t){return Fe(this,function(e,t,r){var o,n,i={},a=0;if(Array.isArray(t)){for(o=ft(e),n=t.length;a<n;a++)i[t[a]]=Be.css(e,t[a],!1,o);return i}return void 0!==r?Be.style(e,t,r):Be.css(e,t)},e,t,arguments.length>1)}}),Be.Tween=J,J.prototype={constructor:J,init:function(e,t,r,o,n,i){this.elem=e,this.prop=r,this.easing=n||Be.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=i||(Be.cssNumber[r]?"":"px")},cur:function(){var e=J.propHooks[this.prop];return e&&e.get?e.get(this):J.propHooks._default.get(this)},run:function(e){var t,r=J.propHooks[this.prop];return this.options.duration?this.pos=t=Be.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):J.propHooks._default.set(this),this}},J.prototype.init.prototype=J.prototype,J.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Be.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){Be.fx.step[e.prop]?Be.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[Be.cssProps[e.prop]]&&!Be.cssHooks[e.prop]?e.elem[e.prop]=e.now:Be.style(e.elem,e.prop,e.now+e.unit)}}},J.propHooks.scrollTop=J.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Be.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},Be.fx=J.prototype.init,Be.fx.step={};var Ct,xt,Pt=/^(?:toggle|show|hide)$/,St=/queueHooks$/;Be.Animation=Be.extend(Z,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return x(r.elem,e,Xe.exec(t),r),r}]},tweener:function(e,t){xe(e)?(t=e,e=["*"]):e=e.match(Re);for(var r,o=0,n=e.length;o<n;o++)r=e[o],Z.tweeners[r]=Z.tweeners[r]||[],Z.tweeners[r].unshift(t)},prefilters:[K],prefilter:function(e,t){t?Z.prefilters.unshift(e):Z.prefilters.push(e)}}),Be.speed=function(e,t,r){var o=e&&"object"==typeof e?Be.extend({},e):{complete:r||!r&&t||xe(e)&&e,duration:e,easing:r&&t||t&&!xe(t)&&t};return Be.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration in Be.fx.speeds?o.duration=Be.fx.speeds[o.duration]:o.duration=Be.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){xe(o.old)&&o.old.call(this),o.queue&&Be.dequeue(this,o.queue)},o},Be.fn.extend({fadeTo:function(e,t,r,o){return this.filter(Ge).css("opacity",0).show().end().animate({opacity:t},e,r,o)},animate:function(e,t,r,o){var n=Be.isEmptyObject(e),i=Be.speed(t,r,o),a=function(){var t=Z(this,Be.extend({},e),i);(n||Ue.get(this,"finish"))&&t.stop(!0)};return a.finish=a,n||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,r){var o=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",i=Be.timers,a=Ue.get(this);if(n)a[n]&&a[n].stop&&o(a[n]);else for(n in a)a[n]&&a[n].stop&&St.test(n)&&o(a[n]);for(n=i.length;n--;)i[n].elem!==this||null!=e&&i[n].queue!==e||(i[n].anim.stop(r),t=!1,i.splice(n,1));!t&&r||Be.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,r=Ue.get(this),o=r[e+"queue"],n=r[e+"queueHooks"],i=Be.timers,a=o?o.length:0;for(r.finish=!0,Be.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete r.finish})}}),Be.each(["toggle","show","hide"],function(e,t){var r=Be.fn[t];Be.fn[t]=function(e,o,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate($(t,!0),e,o,n)}}),Be.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Be.fn[e]=function(e,r,o){return this.animate(t,e,r,o)}}),Be.timers=[],Be.fx.tick=function(){var e,t=0,r=Be.timers;for(Ct=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||Be.fx.stop(),Ct=void 0},Be.fx.timer=function(e){Be.timers.push(e),Be.fx.start()},Be.fx.interval=13,Be.fx.start=function(){xt||(xt=!0,Q())},Be.fx.stop=function(){xt=null},Be.fx.speeds={slow:600,fast:200,_default:400},Be.fn.delay=function(e,t){return e=Be.fx?Be.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,o){var n=r.setTimeout(t,e);o.stop=function(){r.clearTimeout(n)}})},function(){var e=ce.createElement("input"),t=ce.createElement("select"),r=t.appendChild(ce.createElement("option"));e.type="checkbox",Ce.checkOn=""!==e.value,Ce.optSelected=r.selected,e=ce.createElement("input"),e.value="t",e.type="radio",Ce.radioValue="t"===e.value}();var Bt,Mt=Be.expr.attrHandle;Be.fn.extend({attr:function(e,t){return Fe(this,Be.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Be.removeAttr(this,e)})}}),Be.extend({attr:function(e,t,r){var o,n,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?Be.prop(e,t,r):(1===i&&Be.isXMLDoc(e)||(n=Be.attrHooks[t.toLowerCase()]||(Be.expr.match.bool.test(t)?Bt:void 0)),void 0!==r?null===r?void Be.removeAttr(e,t):n&&"set"in n&&void 0!==(o=n.set(e,r,t))?o:(e.setAttribute(t,r+""),r):n&&"get"in n&&null!==(o=n.get(e,t))?o:(o=Be.find.attr(e,t),null==o?void 0:o))},attrHooks:{type:{set:function(e,t){if(!Ce.radioValue&&"radio"===t&&u(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,o=0,n=t&&t.match(Re);if(n&&1===e.nodeType)for(;r=n[o++];)e.removeAttribute(r)}}),Bt={set:function(e,t,r){return!1===t?Be.removeAttr(e,r):e.setAttribute(r,r),r}},Be.each(Be.expr.match.bool.source.match(/\w+/g),function(e,t){var r=Mt[t]||Be.find.attr;Mt[t]=function(e,t,o){var n,i,a=t.toLowerCase();return o||(i=Mt[a],Mt[a]=n,n=null!=r(e,t,o)?a:null,Mt[a]=i),n}});var It=/^(?:input|select|textarea|button)$/i,At=/^(?:a|area)$/i;Be.fn.extend({prop:function(e,t){return Fe(this,Be.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Be.propFix[e]||e]})}}),Be.extend({prop:function(e,t,r){var o,n,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&Be.isXMLDoc(e)||(t=Be.propFix[t]||t,n=Be.propHooks[t]),void 0!==r?n&&"set"in n&&void 0!==(o=n.set(e,r,t))?o:e[t]=r:n&&"get"in n&&null!==(o=n.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=Be.find.attr(e,"tabindex");return t?parseInt(t,10):It.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Ce.optSelected||(Be.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Be.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Be.propFix[this.toLowerCase()]=this}),Be.fn.extend({addClass:function(e){var t,r,o,n,i,a,l,s=0;if(xe(e))return this.each(function(t){Be(this).addClass(e.call(this,t,te(this)))});if(t=re(e),t.length)for(;r=this[s++];)if(n=te(r),o=1===r.nodeType&&" "+ee(n)+" "){for(a=0;i=t[a++];)o.indexOf(" "+i+" ")<0&&(o+=i+" ");l=ee(o),n!==l&&r.setAttribute("class",l)}return this},removeClass:function(e){var t,r,o,n,i,a,l,s=0;if(xe(e))return this.each(function(t){Be(this).removeClass(e.call(this,t,te(this)))});if(!arguments.length)return this.attr("class","");if(t=re(e),t.length)for(;r=this[s++];)if(n=te(r),o=1===r.nodeType&&" "+ee(n)+" "){for(a=0;i=t[a++];)for(;o.indexOf(" "+i+" ")>-1;)o=o.replace(" "+i+" "," ");l=ee(o),n!==l&&r.setAttribute("class",l)}return this},toggleClass:function(e,t){var r=typeof e,o="string"===r||Array.isArray(e);return"boolean"==typeof t&&o?t?this.addClass(e):this.removeClass(e):xe(e)?this.each(function(r){Be(this).toggleClass(e.call(this,r,te(this),t),t)}):this.each(function(){var t,n,i,a;if(o)for(n=0,i=Be(this),a=re(e);t=a[n++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==r||(t=te(this),t&&Ue.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Ue.get(this,"__className__")||""))})},hasClass:function(e){var t,r,o=0;for(t=" "+e+" ";r=this[o++];)if(1===r.nodeType&&(" "+ee(te(r))+" ").indexOf(t)>-1)return!0;return!1}});var kt=/\r/g;Be.fn.extend({val:function(e){var t,r,o,n=this[0];{if(arguments.length)return o=xe(e),this.each(function(r){var n;1===this.nodeType&&(n=o?e.call(this,r,Be(this).val()):e,null==n?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=Be.map(n,function(e){return null==e?"":e+""})),(t=Be.valHooks[this.type]||Be.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))});if(n)return(t=Be.valHooks[n.type]||Be.valHooks[n.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(n,"value"))?r:(r=n.value,"string"==typeof r?r.replace(kt,""):null==r?"":r)}}}),Be.extend({valHooks:{option:{get:function(e){var t=Be.find.attr(e,"value");return null!=t?t:ee(Be.text(e))}},select:{get:function(e){var t,r,o,n=e.options,i=e.selectedIndex,a="select-one"===e.type,l=a?null:[],s=a?i+1:n.length;for(o=i<0?s:a?i:0;o<s;o++)if(r=n[o],(r.selected||o===i)&&!r.disabled&&(!r.parentNode.disabled||!u(r.parentNode,"optgroup"))){if(t=Be(r).val(),a)return t;l.push(t)}return l},set:function(e,t){for(var r,o,n=e.options,i=Be.makeArray(t),a=n.length;a--;)o=n[a],(o.selected=Be.inArray(Be.valHooks.option.get(o),i)>-1)&&(r=!0);return r||(e.selectedIndex=-1),i}}}}),Be.each(["radio","checkbox"],function(){Be.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=Be.inArray(Be(e).val(),t)>-1}},Ce.checkOn||(Be.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Ce.focusin="onfocusin"in r;var Lt=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};Be.extend(Be.event,{trigger:function(e,t,o,n){var i,a,l,s,u,c,d,p,f=[o||ce],y=ge.call(e,"type")?e.type:e,h=ge.call(e,"namespace")?e.namespace.split("."):[];if(a=p=l=o=o||ce,3!==o.nodeType&&8!==o.nodeType&&!Lt.test(y+Be.event.triggered)&&(y.indexOf(".")>-1&&(h=y.split("."),y=h.shift(),h.sort()),u=y.indexOf(":")<0&&"on"+y,e=e[Be.expando]?e:new Be.Event(y,"object"==typeof e&&e),e.isTrigger=n?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=o),t=null==t?[e]:Be.makeArray(t,[e]),d=Be.event.special[y]||{},n||!d.trigger||!1!==d.trigger.apply(o,t))){if(!n&&!d.noBubble&&!Pe(o)){for(s=d.delegateType||y,Lt.test(s+y)||(a=a.parentNode);a;a=a.parentNode)f.push(a),l=a;l===(o.ownerDocument||ce)&&f.push(l.defaultView||l.parentWindow||r)}for(i=0;(a=f[i++])&&!e.isPropagationStopped();)p=a,e.type=i>1?s:d.bindType||y,c=(Ue.get(a,"events")||{})[e.type]&&Ue.get(a,"handle"),c&&c.apply(a,t),(c=u&&a[u])&&c.apply&&qe(a)&&(e.result=c.apply(a,t),!1===e.result&&e.preventDefault());return e.type=y,n||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(f.pop(),t)||!qe(o)||u&&xe(o[y])&&!Pe(o)&&(l=o[u],l&&(o[u]=null),Be.event.triggered=y,e.isPropagationStopped()&&p.addEventListener(y,Tt),o[y](),e.isPropagationStopped()&&p.removeEventListener(y,Tt),Be.event.triggered=void 0,l&&(o[u]=l)),e.result}},simulate:function(e,t,r){var o=Be.extend(new Be.Event,r,{type:e,isSimulated:!0});Be.event.trigger(o,null,t)}}),Be.fn.extend({trigger:function(e,t){return this.each(function(){Be.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return Be.event.trigger(e,t,r,!0)}}),Ce.focusin||Be.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){Be.event.simulate(t,e.target,Be.event.fix(e))};Be.event.special[t]={setup:function(){var o=this.ownerDocument||this,n=Ue.access(o,t);n||o.addEventListener(e,r,!0),Ue.access(o,t,(n||0)+1)},teardown:function(){var o=this.ownerDocument||this,n=Ue.access(o,t)-1;n?Ue.access(o,t,n):(o.removeEventListener(e,r,!0),Ue.remove(o,t))}}});var Ht=r.location,Dt=Date.now(),Et=/\?/;Be.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||Be.error("Invalid XML: "+e),t};var Vt=/\[\]$/,Rt=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;Be.param=function(e,t){var r,o=[],n=function(e,t){var r=xe(t)?t():t;o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(Array.isArray(e)||e.jquery&&!Be.isPlainObject(e))Be.each(e,function(){n(this.name,this.value)});else for(r in e)oe(r,e[r],t,n);return o.join("&")},Be.fn.extend({serialize:function(){return Be.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Be.prop(this,"elements");return e?Be.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Be(this).is(":disabled")&&jt.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!Ze.test(e))}).map(function(e,t){var r=Be(this).val();return null==r?null:Array.isArray(r)?Be.map(r,function(e){return{name:t.name,value:e.replace(Rt,"\r\n")}}):{name:t.name,value:r.replace(Rt,"\r\n")}}).get()}});var Ft=/%20/g,Nt=/#.*$/,_t=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ut=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Wt=/^(?:GET|HEAD)$/,zt=/^\/\//,Jt={},Qt={},Xt="*/".concat("*"),$t=ce.createElement("a");$t.href=Ht.href,Be.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ht.href,type:"GET",isLocal:Ut.test(Ht.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Be.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ae(ae(e,Be.ajaxSettings),t):ae(Be.ajaxSettings,e)},ajaxPrefilter:ne(Jt),ajaxTransport:ne(Qt),ajax:function(e,t){function o(e,t,o,l){var u,p,f,w,C,x=t;c||(c=!0,s&&r.clearTimeout(s),n=void 0,a=l||"",P.readyState=e>0?4:0,u=e>=200&&e<300||304===e,o&&(w=le(y,P,o)),w=se(y,w,P,u),u?(y.ifModified&&(C=P.getResponseHeader("Last-Modified"),C&&(Be.lastModified[i]=C),(C=P.getResponseHeader("etag"))&&(Be.etag[i]=C)),204===e||"HEAD"===y.type?x="nocontent":304===e?x="notmodified":(x=w.state,p=w.data,f=w.error,u=!f)):(f=x,!e&&x||(x="error",e<0&&(e=0))),P.status=e,P.statusText=(t||x)+"",u?m.resolveWith(h,[p,x,P]):m.rejectWith(h,[P,x,f]),P.statusCode(b),b=void 0,d&&v.trigger(u?"ajaxSuccess":"ajaxError",[P,y,u?p:f]),g.fireWith(h,[P,x]),d&&(v.trigger("ajaxComplete",[P,y]),--Be.active||Be.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,a,l,s,u,c,d,p,f,y=Be.ajaxSetup({},t),h=y.context||y,v=y.context&&(h.nodeType||h.jquery)?Be(h):Be.event,m=Be.Deferred(),g=Be.Callbacks("once memory"),b=y.statusCode||{},w={},C={},x="canceled",P={readyState:0,getResponseHeader:function(e){var t;if(c){if(!l)for(l={};t=qt.exec(a);)l[t[1].toLowerCase()]=t[2];t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=C[e.toLowerCase()]=C[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(y.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)P.always(e[P.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||x;return n&&n.abort(t),o(0,t),this}};if(m.promise(P),y.url=((e||y.url||Ht.href)+"").replace(zt,Ht.protocol+"//"),y.type=t.method||t.type||y.method||y.type,y.dataTypes=(y.dataType||"*").toLowerCase().match(Re)||[""],null==y.crossDomain){u=ce.createElement("a");try{u.href=y.url,u.href=u.href,y.crossDomain=$t.protocol+"//"+$t.host!=u.protocol+"//"+u.host}catch(e){y.crossDomain=!0}}if(y.data&&y.processData&&"string"!=typeof y.data&&(y.data=Be.param(y.data,y.traditional)),ie(Jt,y,t,P),c)return P;d=Be.event&&y.global,d&&0==Be.active++&&Be.event.trigger("ajaxStart"),y.type=y.type.toUpperCase(),y.hasContent=!Wt.test(y.type),i=y.url.replace(Nt,""),y.hasContent?y.data&&y.processData&&0===(y.contentType||"").indexOf("application/x-www-form-urlencoded")&&(y.data=y.data.replace(Ft,"+")):(f=y.url.slice(i.length),y.data&&(y.processData||"string"==typeof y.data)&&(i+=(Et.test(i)?"&":"?")+y.data,delete y.data),!1===y.cache&&(i=i.replace(_t,"$1"),f=(Et.test(i)?"&":"?")+"_="+Dt+++f),y.url=i+f),y.ifModified&&(Be.lastModified[i]&&P.setRequestHeader("If-Modified-Since",Be.lastModified[i]),Be.etag[i]&&P.setRequestHeader("If-None-Match",Be.etag[i])),(y.data&&y.hasContent&&!1!==y.contentType||t.contentType)&&P.setRequestHeader("Content-Type",y.contentType),P.setRequestHeader("Accept",y.dataTypes[0]&&y.accepts[y.dataTypes[0]]?y.accepts[y.dataTypes[0]]+("*"!==y.dataTypes[0]?", "+Xt+"; q=0.01":""):y.accepts["*"]);for(p in y.headers)P.setRequestHeader(p,y.headers[p]);if(y.beforeSend&&(!1===y.beforeSend.call(h,P,y)||c))return P.abort();if(x="abort",g.add(y.complete),P.done(y.success),P.fail(y.error),n=ie(Qt,y,t,P)){if(P.readyState=1,d&&v.trigger("ajaxSend",[P,y]),c)return P;y.async&&y.timeout>0&&(s=r.setTimeout(function(){P.abort("timeout")},y.timeout));try{c=!1,n.send(w,o)}catch(e){if(c)throw e;o(-1,e)}}else o(-1,"No Transport");return P},getJSON:function(e,t,r){return Be.get(e,t,r,"json")},getScript:function(e,t){return Be.get(e,void 0,t,"script")}}),Be.each(["get","post"],function(e,t){Be[t]=function(e,r,o,n){return xe(r)&&(n=n||o,o=r,r=void 0),Be.ajax(Be.extend({url:e,type:t,dataType:n,data:r,success:o},Be.isPlainObject(e)&&e))}}),Be._evalUrl=function(e){return Be.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},Be.fn.extend({wrapAll:function(e){var t;return this[0]&&(xe(e)&&(e=e.call(this[0])),t=Be(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return xe(e)?this.each(function(t){Be(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Be(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=xe(e);return this.each(function(r){Be(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Be(this).replaceWith(this.childNodes)}),this}}),Be.expr.pseudos.hidden=function(e){return!Be.expr.pseudos.visible(e)},Be.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Be.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Gt={0:200,1223:204},Kt=Be.ajaxSettings.xhr();Ce.cors=!!Kt&&"withCredentials"in Kt,Ce.ajax=Kt=!!Kt,Be.ajaxTransport(function(e){var t,o;if(Ce.cors||Kt&&!e.crossDomain)return{send:function(n,i){var a,l=e.xhr();if(l.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)l[a]=e.xhrFields[a];e.mimeType&&l.overrideMimeType&&l.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(a in n)l.setRequestHeader(a,n[a]);t=function(e){return function(){t&&(t=o=l.onload=l.onerror=l.onabort=l.ontimeout=l.onreadystatechange=null,"abort"===e?l.abort():"error"===e?"number"!=typeof l.status?i(0,"error"):i(l.status,l.statusText):i(Gt[l.status]||l.status,l.statusText,"text"!==(l.responseType||"text")||"string"!=typeof l.responseText?{binary:l.response}:{text:l.responseText},l.getAllResponseHeaders()))}},l.onload=t(),o=l.onerror=l.ontimeout=t("error"),void 0!==l.onabort?l.onabort=o:l.onreadystatechange=function(){4===l.readyState&&r.setTimeout(function(){t&&o()})},t=t("abort");try{l.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),Be.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Be.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Be.globalEval(e),e}}}),Be.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Be.ajaxTransport("script",function(e){if(e.crossDomain){var t,r;return{send:function(o,n){t=Be("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&n("error"===e.type?404:200,e.type)}),ce.head.appendChild(t[0])},abort:function(){r&&r()}}}});var Yt=[],Zt=/(=)\?(?=&|$)|\?\?/;Be.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||Be.expando+"_"+Dt++;return this[e]=!0,e}}),Be.ajaxPrefilter("json jsonp",function(e,t,o){var n,i,a,l=!1!==e.jsonp&&(Zt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(e.data)&&"data");if(l||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=xe(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,l?e[l]=e[l].replace(Zt,"$1"+n):!1!==e.jsonp&&(e.url+=(Et.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return a||Be.error(n+" was not called"),a[0]},e.dataTypes[0]="json",i=r[n],r[n]=function(){a=arguments},o.always(function(){void 0===i?Be(r).removeProp(n):r[n]=i,e[n]&&(e.jsonpCallback=t.jsonpCallback,Yt.push(n)),a&&xe(i)&&i(a[0]),a=i=void 0}),"script"}),Ce.createHTMLDocument=function(){var e=ce.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),Be.parseHTML=function(e,t,r){if("string"!=typeof e)return[];"boolean"==typeof t&&(r=t,t=!1);var o,n,i;return t||(Ce.createHTMLDocument?(t=ce.implementation.createHTMLDocument(""),o=t.createElement("base"),o.href=ce.location.href,t.head.appendChild(o)):t=ce),n=Te.exec(e),i=!r&&[],n?[t.createElement(n[1])]:(n=I([e],t,i),i&&i.length&&Be(i).remove(),Be.merge([],n.childNodes))},Be.fn.load=function(e,t,r){var o,n,i,a=this,l=e.indexOf(" ");return l>-1&&(o=ee(e.slice(l)),e=e.slice(0,l)),xe(t)?(r=t,t=void 0):t&&"object"==typeof t&&(n="POST"),a.length>0&&Be.ajax({url:e,type:n||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(o?Be("<div>").append(Be.parseHTML(e)).find(o):e)}).always(r&&function(e,t){a.each(function(){r.apply(this,i||[e.responseText,t,e])})}),this},Be.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Be.fn[t]=function(e){return this.on(t,e)}}),Be.expr.pseudos.animated=function(e){return Be.grep(Be.timers,function(t){return e===t.elem}).length},Be.offset={setOffset:function(e,t,r){var o,n,i,a,l,s,u,c=Be.css(e,"position"),d=Be(e),p={};"static"===c&&(e.style.position="relative"),l=d.offset(),i=Be.css(e,"top"),s=Be.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(i+s).indexOf("auto")>-1,u?(o=d.position(),a=o.top,n=o.left):(a=parseFloat(i)||0,n=parseFloat(s)||0),xe(t)&&(t=t.call(e,r,Be.extend({},l))),null!=t.top&&(p.top=t.top-l.top+a),null!=t.left&&(p.left=t.left-l.left+n),"using"in t?t.using.call(e,p):d.css(p)}},Be.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Be.offset.setOffset(this,e,t)});var t,r,o=this[0];if(o)return o.getClientRects().length?(t=o.getBoundingClientRect(),r=o.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,r,o=this[0],n={top:0,left:0};if("fixed"===Be.css(o,"position"))t=o.getBoundingClientRect();else{for(t=this.offset(),r=o.ownerDocument,e=o.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===Be.css(e,"position");)e=e.parentNode;e&&e!==o&&1===e.nodeType&&(n=Be(e).offset(),n.top+=Be.css(e,"borderTopWidth",!0),n.left+=Be.css(e,"borderLeftWidth",!0))}return{top:t.top-n.top-Be.css(o,"marginTop",!0),left:t.left-n.left-Be.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Be.css(e,"position");)e=e.offsetParent;return e||nt})}}),Be.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;Be.fn[e]=function(o){return Fe(this,function(e,o,n){var i;if(Pe(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===n)return i?i[t]:e[o];i?i.scrollTo(r?i.pageXOffset:n,r?n:i.pageYOffset):e[o]=n},e,o,arguments.length)}}),Be.each(["top","left"],function(e,t){Be.cssHooks[t]=N(Ce.pixelPosition,function(e,r){if(r)return r=F(e,t),pt.test(r)?Be(e).position()[t]+"px":r})}),Be.each({Height:"height",Width:"width"},function(e,t){Be.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,o){Be.fn[o]=function(n,i){var a=arguments.length&&(r||"boolean"!=typeof n),l=r||(!0===n||!0===i?"margin":"border");return Fe(this,function(t,r,n){var i;return Pe(t)?0===o.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===n?Be.css(t,r,l):Be.style(t,r,n,l)},t,a?n:void 0,a)}})}),Be.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){Be.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}),Be.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Be.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,o){return this.on(t,e,r,o)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)}}),Be.proxy=function(e,t){var r,o,n;if("string"==typeof t&&(r=e[t],t=e,e=r),xe(e))return o=pe.call(arguments,2),n=function(){return e.apply(t||this,o.concat(pe.call(arguments)))},n.guid=e.guid=e.guid||Be.guid++,n},Be.holdReady=function(e){e?Be.readyWait++:Be.ready(!0)},Be.isArray=Array.isArray,Be.parseJSON=JSON.parse,Be.nodeName=u,Be.isFunction=xe,Be.isWindow=Pe,Be.camelCase=g,Be.type=l,Be.now=Date.now,Be.isNumeric=function(e){var t=Be.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},o=[],void 0!==(n=function(){return Be}.apply(t,o))&&(e.exports=n);var er=r.jQuery,tr=r.$;return Be.noConflict=function(e){return r.$===Be&&(r.$=tr),e&&r.jQuery===Be&&(r.jQuery=er),Be},i||(r.jQuery=r.$=Be),Be})},function(e,t,r){var o,n,i;!function(r,a){n=[t],o=a,void 0!==(i="function"==typeof o?o.apply(t,n):o)&&(e.exports=i)}(0,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t,r,o="http://www.w3.org/2000/svg",n=[],i=function(e,t){var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),t&&Object.keys(t).forEach(function(e){r[e]=t[e]}),r},a=function(e,t){return e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties)},l=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},s=function(e,t,r){for(var o=0,n=t.length;o<n;o++){var i=t[o];Array.isArray(i)?s(e,i,r):null!==i&&void 0!==i&&(i.hasOwnProperty("vnodeSelector")||(i=l(i)),r.push(i))}},u=function(){throw new Error("Provide a transitions object to the projectionOptions to do animations")},c={namespace:void 0,eventHandlerInterceptor:void 0,styleApplyer:function(e,t,r){e.style[t]=r},transitions:{enter:u,exit:u}},d=function(e){return i(c,e)},p=function(e){if("string"!=typeof e)throw new Error("Style values must be strings")},f=function(e,t,r){if(t)for(var n=r.eventHandlerInterceptor,i=Object.keys(t),a=i.length,l=0;l<a;l++)!function(a){var l=i[a],s=t[l];if("className"===l)throw new Error('Property "className" is not supported, use "class".');if("class"===l)s.split(/\s+/).forEach(function(t){return e.classList.add(t)});else if("classes"===l)for(var u=Object.keys(s),c=u.length,d=0;d<c;d++){var f=u[d];s[f]&&e.classList.add(f)}else if("styles"===l)for(var y=Object.keys(s),h=y.length,d=0;d<h;d++){var v=y[d],m=s[v];m&&(p(m),r.styleApplyer(e,v,m))}else if("key"!==l&&null!==s&&void 0!==s){var g=typeof s;"function"===g?0===l.lastIndexOf("on",0)&&(n&&(s=n(l,s,e,t)),"oninput"===l&&function(){var e=s;s=function(t){e.apply(this,[t]),t.target["oninput-value"]=t.target.value}}(),e[l]=s):"string"===g&&"value"!==l&&"innerHTML"!==l?r.namespace===o&&"href"===l?e.setAttributeNS("http://www.w3.org/1999/xlink",l,s):e.setAttribute(l,s):e[l]=s}}(l)},y=function(e,t,r,n){if(r){for(var i=!1,a=Object.keys(r),l=a.length,s=0;s<l;s++){var u=a[s],c=r[u],d=t[u];if("class"===u){if(d!==c)throw new Error('"class" property may not be updated. Use the "classes" property for conditional css classes.')}else if("classes"===u)for(var f=e.classList,y=Object.keys(c),h=y.length,v=0;v<h;v++){var m=y[v],g=!!c[m],b=!!d[m];g!==b&&(i=!0,g?f.add(m):f.remove(m))}else if("styles"===u)for(var w=Object.keys(c),C=w.length,v=0;v<C;v++){var x=w[v],P=c[x],S=d[x];P!==S&&(i=!0,P?(p(P),n.styleApplyer(e,x,P)):n.styleApplyer(e,x,""))}else if(c||"string"!=typeof d||(c=""),"value"===u){var B=e[u];B!==c&&(e["oninput-value"]?B===e["oninput-value"]:c!==d)&&(e[u]=c,e["oninput-value"]=void 0),c!==d&&(i=!0)}else if(c!==d){var M=typeof c;if("function"===M)throw new Error("Functions may not be updated on subsequent renders (property: "+u+"). Hint: declare event handler functions outside the render() function.");"string"===M&&"innerHTML"!==u?n.namespace===o&&"href"===u?e.setAttributeNS("http://www.w3.org/1999/xlink",u,c):"role"===u&&""===c?e.removeAttribute(u):e.setAttribute(u,c):e[u]!==c&&(e[u]=c),i=!0}}return i}},h=function(e,t,r){if(""!==t.vnodeSelector)for(var o=r;o<e.length;o++)if(a(e[o],t))return o;return-1},v=function(e,t){if(e.properties){var r=e.properties.enterAnimation;r&&("function"==typeof r?r(e.domNode,e.properties):t.enter(e.domNode,e.properties,r))}},m=function(e,t){var r=e.domNode;if(e.properties){var o=e.properties.exitAnimation;if(o){r.style.pointerEvents="none";var n=function(){r.parentNode&&r.parentNode.removeChild(r)};return"function"==typeof o?void o(r,n,e.properties):void t.exit(e.domNode,e.properties,o,n)}}r.parentNode&&r.parentNode.removeChild(r)},g=function(e,t,r,o){var n=e[t];if(""!==n.vnodeSelector){var i=n.properties;if(!(i?void 0===i.key?i.bind:i.key:void 0))for(var l=0;l<e.length;l++)if(l!==t){var s=e[l];if(a(s,n))throw"added"===o?new Error(r.vnodeSelector+" had a "+n.vnodeSelector+" child added, but there is now more than one. You must add unique key properties to make them distinguishable."):new Error(r.vnodeSelector+" had a "+n.vnodeSelector+" child removed, but there were more than one. You must add unique key properties to make them distinguishable.")}}},b=function(e,o,i,l,s){if(i===l)return!1;i=i||n,l=l||n;for(var u,c=i.length,d=l.length,p=s.transitions,f=0,y=0,b=!1;y<d;){var w=f<c?i[f]:void 0,C=l[y];if(void 0!==w&&a(w,C))b=r(w,C,s)||b,f++;else{var x=h(i,C,f+1);if(x>=0){for(u=f;u<x;u++)m(i[u],p),g(i,u,e,"removed");b=r(i[x],C,s)||b,f=x+1}else t(C,o,f<c?i[f].domNode:void 0,s),v(C,p),g(l,y,e,"added")}y++}if(c>f)for(u=f;u<c;u++)m(i[u],p),g(i,u,e,"removed");return b},w=function(e,r,o){if(r)for(var n=0;n<r.length;n++)t(r[n],e,void 0,o)},C=function(e,t,r){w(e,t.children,r),t.text&&(e.textContent=t.text),f(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])};t=function(e,t,r,n){var a,l,s,u,c,d=0,p=e.vnodeSelector,f=t.ownerDocument;if(""===p)a=e.domNode=f.createTextNode(e.text),void 0!==r?t.insertBefore(a,r):t.appendChild(a);else{for(l=0;l<=p.length;++l)s=p.charAt(l),l!==p.length&&"."!==s&&"#"!==s||(u=p.charAt(d-1),c=p.slice(d,l),"."===u?a.classList.add(c):"#"===u?a.id=c:("svg"===c&&(n=i(n,{namespace:o})),void 0!==n.namespace?a=e.domNode=f.createElementNS(n.namespace,c):(a=e.domNode=e.domNode||f.createElement(c),"input"===c&&e.properties&&void 0!==e.properties.type&&a.setAttribute("type",e.properties.type)),void 0!==r?t.insertBefore(a,r):a.parentNode!==t&&t.appendChild(a)),d=l+1);C(a,e,n)}},r=function(e,t,r){var n=e.domNode,a=!1;if(e===t)return!1;var l=!1;if(""===t.vnodeSelector){if(t.text!==e.text){var s=n.ownerDocument.createTextNode(t.text);return n.parentNode.replaceChild(s,n),t.domNode=s,a=!0}}else 0===t.vnodeSelector.lastIndexOf("svg",0)&&(r=i(r,{namespace:o})),e.text!==t.text&&(l=!0,void 0===t.text?n.removeChild(n.firstChild):n.textContent=t.text),l=b(t,n,e.children,t.children,r)||l,l=y(n,e.properties,t.properties,r)||l,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[n,r,t.vnodeSelector,t.properties,t.children]);return l&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(n,t.properties,e.properties),t.domNode=e.domNode,a};var x=function(e,t){return{update:function(o){if(e.vnodeSelector!==o.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");r(e,o,t),e=o},domNode:e.domNode}};e.h=function(e){var t=arguments[1];if("string"!=typeof e)throw new Error;var r=1;!t||t.hasOwnProperty("vnodeSelector")||Array.isArray(t)||"object"!=typeof t?t=void 0:r=2;var o,n,i=arguments.length;if(i===r+1){var a=arguments[r];"string"==typeof a?o=a:void 0!==a&&null!==a&&1===a.length&&"string"==typeof a[0]&&(o=a[0])}if(void 0===o)for(n=[];r<i;r++){var u=arguments[r];null===u||void 0===u||(Array.isArray(u)?s(e,u,n):u.hasOwnProperty("vnodeSelector")?n.push(u):n.push(l(u)))}return{vnodeSelector:e,properties:t,children:n,text:""===o?void 0:o,domNode:null}},e.dom={create:function(e,r){return r=d(r),t(e,document.createElement("div"),void 0,r),x(e,r)},append:function(e,r,o){return o=d(o),t(r,e,void 0,o),x(r,o)},insertBefore:function(e,r,o){return o=d(o),t(r,e.parentNode,e,o),x(r,o)},merge:function(e,t,r){return r=d(r),t.domNode=e,C(e,t,r),x(t,r)},replace:function(e,r,o){return o=d(o),t(r,e.parentNode,e,o),e.parentNode.removeChild(e),x(r,o)}},e.createCache=function(){var e,t;return{invalidate:function(){t=void 0,e=void 0},result:function(r,o){if(e)for(var n=0;n<r.length;n++)e[n]!==r[n]&&(t=void 0);return t||(t=o(),e=r),t}}},e.createMapping=function(e,t,r){var o=[],n=[];return{results:n,map:function(i){for(var a=i.map(e),l=n.slice(),s=0,u=0;u<i.length;u++){var c=i[u],d=a[u];if(d===o[s])n[u]=l[s],r(c,l[s],u),s++;else{for(var p=!1,f=1;f<o.length+1;f++){var y=(s+f)%o.length;if(o[y]===d){n[u]=l[y],r(i[u],l[y],u),s=y+1,p=!0;break}}p||(n[u]=t(c,u))}}n.length=i.length,o=a}}},e.createProjector=function(t){var r,o=d(t);o.eventHandlerInterceptor=function(e,t,o,n){return function(){return r.scheduleRender(),t.apply(n.bind||this,arguments)}};var n,i=!0,a=!1,l=[],s=[],u=function(){if(n=void 0,i){i=!1;for(var e=0;e<l.length;e++){var t=s[e]();l[e].update(t)}i=!0}};return r={renderNow:u,scheduleRender:function(){n||a||(n=requestAnimationFrame(u))},stop:function(){n&&(cancelAnimationFrame(n),n=void 0),a=!0},resume:function(){a=!1,i=!0,r.scheduleRender()},append:function(t,r){l.push(e.dom.append(t,r(),o)),s.push(r)},insertBefore:function(t,r){l.push(e.dom.insertBefore(t,r(),o)),s.push(r)},merge:function(t,r){l.push(e.dom.merge(t,r(),o)),s.push(r)},replace:function(t,r){l.push(e.dom.replace(t,r(),o)),s.push(r)},detach:function(e){for(var t=0;t<s.length;t++)if(s[t]===e)return s.splice(t,1),l.splice(t,1)[0];throw new Error("renderMaquetteFunction was not found")}}}})},function(e,t,r){"use strict";function o(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),o(r(15)),o(r(17)),o(r(18)),o(r(19)),o(r(20)),o(r(21)),o(r(22)),o(r(23)),o(r(24)),o(r(25)),o(r(26)),o(r(27)),o(r(28)),o(r(29)),o(r(30)),o(r(31)),o(r(32)),o(r(33)),o(r(34)),o(r(35)),o(r(36))},function(e,t,r){"use strict";function o(e){return Object.keys(e).map(function(t){return e[t]}).filter(function(e){return"string"==typeof e})}function n(e,t){void 0===e&&console.log("cannot read attribute: element is null");var r=e.attributes.getNamedItem(t);return null===r?(console.log("could not find attribute "+t+" on target"),console.log(e),0):parseInt(r.value)}function i(e,t){void 0===e&&console.log("cannot read attribute: element is null");var r=e.attributes.getNamedItem(t);return null===r?(console.log("could not find attribute "+t+" on target"),console.log(e),""):r.value}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),l=a.h,s=r(2),u=r(37),c=r(39),d=r(41),p=r(4),f=r(42);t.DEFAULT_EXCEPTION="unexpected error",t.UI_Z_INDEX=11;var y=200;t.getArrayForEnum=o,t.parseIntFromAttribute=n,t.parseStringFromAttribute=i;var h=function(){function e(){var t=this;this.californiaMainDiv=document.getElementById("california-main"),this.styleSheet=document.getElementById("california-styles").sheet,this.pagePreviewHolder=void 0,this._propertyBars=[],this._propertyBarVMs=[],this._propertyBarBoxTreeDomReferences=[],this._propertyBarBoxTreeScrollHandled=[],this.isAjaxRequestRunning=!1,this.resizeRtime=new Date,this.resizeTimeout=!1,this.navigationHeigthPx=32,this.controlAreaWidthPx=500,this._propertyBarCount=4,this.clientData={CurrentRevision:0,StatusText:"",CaliforniaEvent:s.CaliforniaEvent.ReadInitialClientData,CaliforniaProject:new s.CaliforniaProject,AllCssProperties:[],StyleAtomCssPropertyMapping:{},UrlToReadAndEdit:"",UrlToReadOnly:"",PartialUpdate:new f.CaliforniaClientPartialData},this.resizeCheckHandler=function(){Date.now()-e.CaliforniaAppInstance.resizeRtime.getMilliseconds()<y?setTimeout(e.CaliforniaAppInstance.resizeCheckHandler,y):(e.CaliforniaAppInstance.resizeChangedHandler(),e.CaliforniaAppInstance.resizeTimeout=!1)},this.resizeChangedHandler=function(){e.CaliforniaAppInstance.state.overrideResponsiveDeviceId=0,e.CaliforniaAppInstance.router.setupUiForDevice(),e.CaliforniaAppInstance.projector.scheduleRender()},this.renderCaliforniaApp=function(){for(var e={width:"100%","max-width":"100%",height:"100%","max-height":"100%",display:"flex","flex-flow":"row nowrap"},r=[],o=t.state.visiblePropertyBarMaxCount>t._propertyBarCount?t._propertyBarCount:t.state.visiblePropertyBarMaxCount,n=0;n<o;n++)r.push(t._propertyBars[n].renderPropertyBar());return l("div",{styles:e},t.pagePreview.renderPreviewArea(),t.state.isHideUserInterface||t.state.editViewMode===p.EditViewMode.PagePreviewOnly?void 0:r,t._propertyBars[0].renderPropertyBarPoppersRenderOnce())},this.projector=a.createProjector(),this.pagePreview=new u.PagePreview(this),this.pagePreviewVM=this.pagePreview.viewModel;for(var r=0;r<this.propertyBarCount;r++){var o=new c.PropertyBar(this,r);this._propertyBars.push(o),this._propertyBarVMs.push(o.viewModel),this._propertyBarBoxTreeDomReferences.push(void 0),this._propertyBarBoxTreeScrollHandled.push(!1)}this.controller=new s.CaliforniaController(this),this.router=new d.CaliforniaRouter(this),this.state=new p.ClientState(this),this.controller.InitialClientDataJson((new Date).toString()).done(function(t){e.CaliforniaAppInstance.router.updateData(t,!0)}).fail(function(){console.log("could not get data")}),document.addEventListener("DOMContentLoaded",function(){e.CaliforniaAppInstance.projector.append(e.CaliforniaAppInstance.californiaMainDiv,e.CaliforniaAppInstance.renderCaliforniaApp)}),window.addEventListener("resize",function(){e.CaliforniaAppInstance.resizeRtime=new Date,!1===e.CaliforniaAppInstance.resizeTimeout&&(e.CaliforniaAppInstance.resizeTimeout=!0,setTimeout(e.CaliforniaAppInstance.resizeCheckHandler,y))})}return Object.defineProperty(e.prototype,"propertyBarCount",{get:function(){return this._propertyBarCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"propertyBars",{get:function(){return this._propertyBars},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"propertyBarVMs",{get:function(){return this._propertyBarVMs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"propertyBarBoxTreeDomReferences",{get:function(){return this._propertyBarBoxTreeDomReferences},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"propertyBarBoxTreeScrollHandled",{get:function(){return this._propertyBarBoxTreeScrollHandled},enumerable:!0,configurable:!0}),e}();t.CaliforniaApp=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n,i=r(2),a=r(5);t.STATIC_MARGIN_PX=25;var l;!function(e){e[e.Styles=0]="Styles",e[e.Content=1]="Content"}(l=t.SelectionMode||(t.SelectionMode={}));var s;!function(e){e[e.Ok=0]="Ok",e[e.Pending=1]="Pending"}(s=t.ReadyState||(t.ReadyState={}));var u;!function(e){e[e.Default=0]="Default",e[e.SidebarOnly=1]="SidebarOnly",e[e.PagePreviewOnly=2]="PagePreviewOnly"}(u=t.EditViewMode||(t.EditViewMode={}));var c=function(){function e(e){this.isDataLoaded=!1,this.isHideUserInterface=!1,this.editViewMode=u.Default,this.currentSelectionMode=l.Content,this.currentReadyState=s.Ok,this.isJaxOn=!1,this.lowestWidthThresholdResponsiveDeviceId=0,this.highestWidthThresholdResponsiveDeviceId=0,this.specialStyleHolder=void 0,this.currentResponsiveDeviceId=0,this.noneResponsiveDeviceId=0,this.defaultSymmetricPagePreviewHolderMarginPx=t.STATIC_MARGIN_PX,this.overrideResponsiveDeviceId=0,this.isEnoughAvailableSpacePagePreview=!0,this.targetPagePreviewHolderMarginPx=t.STATIC_MARGIN_PX,this.visiblePropertyBarMaxCount=2,this.popupTargetPropertyBarIndex=0,this.currentTransactionMode=a.TransactionMode.MoveLayoutMoleculeIntoLayoutMolecule,this.highlightedLayoutBaseId=0,this.isSelectAllTextArea=!1,this.lastCommand=i.CaliforniaEvent.ReadInitialClientData,this.lastCaliforniaEventData=[],this.selectedLayoutBaseId=0,this.preselectedLayoutBaseId=0,this.isDrawHelperLines=!1,this.hoveredBoxTreeLayoutBaseId=0,this.hoveredPagePreviewLayoutBaseId=0,this.hoveredInsertLayoutBaseId=0,this.backupSortOrder=void 0,this.newBoxStyleMoleculeId=0,n=this,o=e}return e}();t.ClientState=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=r(1),i=(n.h,r(2));!function(e){e[e.None=0]="None",e[e.CaliforniaView=1]="CaliforniaView",e[e.LayoutMolecules=2]="LayoutMolecules",e[e.LayoutAtoms=3]="LayoutAtoms",e[e.AllStyleQuantums=4]="AllStyleQuantums",e[e.AllStyleAtoms=5]="AllStyleAtoms",e[e.AllStyleMolecules=6]="AllStyleMolecules",e[e.StyleMolecule=7]="StyleMolecule",e[e.AllLayoutMolecules=8]="AllLayoutMolecules",e[e.LayoutBase=9]="LayoutBase",e[e.AllCaliforniaViews=10]="AllCaliforniaViews"}(o=t.PropertyBarMode||(t.PropertyBarMode={}));var a;!function(e){e[e.None=0]="None",e[e.SelectBoxIntoBox=1]="SelectBoxIntoBox",e[e.SelectBoxIntoBoxAtomInPlace=2]="SelectBoxIntoBoxAtomInPlace"}(a=t.PopupSecondaryMode||(t.PopupSecondaryMode={}));var l;!function(e){e[e.None=0]="None",e[e.AddCssProperty=1]="AddCssProperty",e[e.AllCssProperties=2]="AllCssProperties",e[e.UpdateCssValue=3]="UpdateCssValue",e[e.MatchingQuantums=4]="MatchingQuantums",e[e.UpdateCssQuantum=5]="UpdateCssQuantum",e[e.AllCssPropertiesForQuantum=6]="AllCssPropertiesForQuantum",e[e.InsertLayoutRowIntoView=7]="InsertLayoutRowIntoView",e[e.InsertLayoutAtomIntoBox=8]="InsertLayoutAtomIntoBox",e[e.SelectBox=9]="SelectBox",e[e.MoveStyleAtom=10]="MoveStyleAtom",e[e.ShareCaliforniaProject=11]="ShareCaliforniaProject",e[e.SelectInteractionTarget=12]="SelectInteractionTarget",e[e.SelectInteractionTargetLayoutFilter=13]="SelectInteractionTargetLayoutFilter",e[e.CaliforniaViewSelection=14]="CaliforniaViewSelection"}(l=t.PopupMode||(t.PopupMode={}));!function(e){e[e.MoveLayoutMoleculeIntoLayoutMolecule=0]="MoveLayoutMoleculeIntoLayoutMolecule",e[e.MoveLayoutMoleculeBeforeLayoutMolecule=1]="MoveLayoutMoleculeBeforeLayoutMolecule",e[e.SyncLayoutStylesImitating=2]="SyncLayoutStylesImitating"}(t.TransactionMode||(t.TransactionMode={}));var s,u=function(){function e(e,t,r){var n=this;this.propertyBarVMIndex=-1,this.currentPropertyBarMode=o.None,this.currentPopupMode=l.None,this.currentSecondaryPopupMode=a.None,this.tempQuantumName="Quantum",this.tempCssPropertyName="",this.tempCssValue="",this.lastUsedTempCssValue="",this.tempPseudoSelector="",this.tempCaliforniaViewName="",this.tempCssValueForInteraction="",this.selectedStyleAtomId=0,this.selectedStyleValueId=0,this.selectedStyleQuantumId=0,this.selectedStyleMoleculeId=0,this._selectedCaliforniaViewId=0,this.selectedResponsiveDeviceId=0,this.selectedStateModifier="",this.selectedStyleAtomType=i.StyleAtomType.Generic,this.selectedLayoutBaseIdForFilter=0,this.selectedLayoutStyleInteraction=0,this.tempOriginalContent="",this.tempContent="",this.editedLayoutAtomId=0,this._deepestLevelActiveView=0,this.selectedStyleAtomIdForPopup=0,this.isSyncedWithBoxTreeToTheLeft=!1,this.isSyncedWithPagePreview=!1,this.setSelectedResponsiveDeviceId=function(e,t){(t||0==n.currentVM.selectedResponsiveDeviceId)&&(n.currentVM.selectedResponsiveDeviceId=e)},this.setSelectedCaliforniaView=function(e,t){t||0==n.currentVM.selectedCaliforniaViewId?(n.currentVM._selectedCaliforniaViewId=e.CaliforniaViewId,n.currentVM._deepestLevelActiveView=e.DeepestLevel,n.currentVM.boxTreeProjector.map([e])):(n.currentVM.boxTreeProjector.map([]),n.currentVM._deepestLevelActiveView=0,n.currentVM._selectedCaliforniaViewId=0)},this.updateData=function(e,t,r,o,i,a,l){n.currentVM.styleQuantumProjector.map(e),n.currentVM.styleAtomProjector.map(t),n.currentVM.styleMoleculeProjector.map(r),n.currentVM.allLayoutMoleculesProjector.map(o),n.currentVM.allCaliforniaViewsProjector.map(i),n.currentVM.instanceableAtomProjector.map(a.PlacedLayoutRows),n.currentVM.instanceableMoleculeProjector.map(l.PlacedLayoutRows)},s=r,this.propertyBarVMIndex=t,this.styleQuantumProjector=e.renderStyleQuantumArray(e),this.styleAtomProjector=e.renderStyleAtomArray(e),this.styleMoleculeProjector=e.renderStyleMoleculeArray(e),this.instanceableAtomProjector=e.renderLayoutRowArray(e),this.instanceableMoleculeProjector=e.renderLayoutRowArray(e),this.allLayoutMoleculesProjector=e.renderLayoutMoleculeArray(e),this.allCaliforniaViewsProjector=e.renderCaliforniaViewArray(e),this.boxTreeProjector=e.renderBoxTreeForCaliforniaView(e)}return Object.defineProperty(e.prototype,"currentVM",{get:function(){return s.propertyBarVMs[this.propertyBarVMIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCaliforniaViewId",{get:function(){return this._selectedCaliforniaViewId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deepestLevelActiveView",{get:function(){return this._deepestLevelActiveView},enumerable:!0,configurable:!0}),e.prototype.clearSelectedCaliforniaView=function(e,t){!0!==e&&this.currentVM.selectedCaliforniaViewId!=t||(this.currentVM._selectedCaliforniaViewId=0,this.currentVM._deepestLevelActiveView=0,this.currentVM.boxTreeProjector.map([]))},e}();t.PropertyBarVM=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function r(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function o(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},de))}}function n(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function i(e,t){if(1!==e.nodeType)return[];var r=getComputedStyle(e,null);return t?r[t]:r}function a(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function l(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=i(e),r=t.overflow,o=t.overflowX;return/(auto|scroll|overlay)/.test(r+t.overflowY+o)?e:l(a(e))}function s(e){return 11===e?he:10===e?ve:he||ve}function u(e){if(!e)return document.documentElement;for(var t=s(10)?document.body:null,r=e.offsetParent;r===t&&e.nextElementSibling;)r=(e=e.nextElementSibling).offsetParent;var o=r&&r.nodeName;return o&&"BODY"!==o&&"HTML"!==o?-1!==["TD","TABLE"].indexOf(r.nodeName)&&"static"===i(r,"position")?u(r):r:e?e.ownerDocument.documentElement:document.documentElement}function c(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||u(e.firstElementChild)===e)}function d(e){return null!==e.parentNode?d(e.parentNode):e}function p(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,o=r?e:t,n=r?t:e,i=document.createRange();i.setStart(o,0),i.setEnd(n,0);var a=i.commonAncestorContainer;if(e!==a&&t!==a||o.contains(n))return c(a)?a:u(a);var l=d(e);return l.host?p(l.host,t):p(e,d(t).host)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",r="top"===t?"scrollTop":"scrollLeft",o=e.nodeName;if("BODY"===o||"HTML"===o){var n=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||n)[r]}return e[r]}function y(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=f(t,"top"),n=f(t,"left"),i=r?-1:1;return e.top+=o*i,e.bottom+=o*i,e.left+=n*i,e.right+=n*i,e}function h(e,t){var r="x"===t?"Left":"Top",o="Left"===r?"Right":"Bottom";return parseFloat(e["border"+r+"Width"],10)+parseFloat(e["border"+o+"Width"],10)}function v(e,t,r,o){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],s(10)?r["offset"+e]+o["margin"+("Height"===e?"Top":"Left")]+o["margin"+("Height"===e?"Bottom":"Right")]:0)}function m(){var e=document.body,t=document.documentElement,r=s(10)&&getComputedStyle(t);return{height:v("Height",e,t,r),width:v("Width",e,t,r)}}function g(e){return we({},e,{right:e.left+e.width,bottom:e.top+e.height})}function b(e){var t={};try{if(s(10)){t=e.getBoundingClientRect();var r=f(e,"top"),o=f(e,"left");t.top+=r,t.left+=o,t.bottom+=r,t.right+=o}else t=e.getBoundingClientRect()}catch(e){}var n={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?m():{},l=a.width||e.clientWidth||n.right-n.left,u=a.height||e.clientHeight||n.bottom-n.top,c=e.offsetWidth-l,d=e.offsetHeight-u;if(c||d){var p=i(e);c-=h(p,"x"),d-=h(p,"y"),n.width-=c,n.height-=d}return g(n)}function w(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=s(10),n="HTML"===t.nodeName,a=b(e),u=b(t),c=l(e),d=i(t),p=parseFloat(d.borderTopWidth,10),f=parseFloat(d.borderLeftWidth,10);r&&"HTML"===t.nodeName&&(u.top=Math.max(u.top,0),u.left=Math.max(u.left,0));var h=g({top:a.top-u.top-p,left:a.left-u.left-f,width:a.width,height:a.height});if(h.marginTop=0,h.marginLeft=0,!o&&n){var v=parseFloat(d.marginTop,10),m=parseFloat(d.marginLeft,10);h.top-=p-v,h.bottom-=p-v,h.left-=f-m,h.right-=f-m,h.marginTop=v,h.marginLeft=m}return(o&&!r?t.contains(c):t===c&&"BODY"!==c.nodeName)&&(h=y(h,t)),h}function C(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.ownerDocument.documentElement,o=w(e,r),n=Math.max(r.clientWidth,window.innerWidth||0),i=Math.max(r.clientHeight,window.innerHeight||0),a=t?0:f(r),l=t?0:f(r,"left");return g({top:a-o.top+o.marginTop,left:l-o.left+o.marginLeft,width:n,height:i})}function x(e){var t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===i(e,"position")||x(a(e)))}function P(e){if(!e||!e.parentElement||s())return document.documentElement;for(var t=e.parentElement;t&&"none"===i(t,"transform");)t=t.parentElement;return t||document.documentElement}function S(e,t,r,o){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},s=n?P(e):p(e,t);if("viewport"===o)i=C(s,n);else{var u=void 0;"scrollParent"===o?(u=l(a(t)),"BODY"===u.nodeName&&(u=e.ownerDocument.documentElement)):u="window"===o?e.ownerDocument.documentElement:o;var c=w(u,s,n);if("HTML"!==u.nodeName||x(s))i=c;else{var d=m(),f=d.height,y=d.width;i.top+=c.top-c.marginTop,i.bottom=f+c.top,i.left+=c.left-c.marginLeft,i.right=y+c.left}}return i.left+=r,i.top+=r,i.right-=r,i.bottom-=r,i}function B(e){return e.width*e.height}function M(e,t,r,o,n){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=S(r,o,i,n),l={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},s=Object.keys(l).map(function(e){return we({key:e},l[e],{area:B(l[e])})}).sort(function(e,t){return t.area-e.area}),u=s.filter(function(e){var t=e.width,o=e.height;return t>=r.clientWidth&&o>=r.clientHeight}),c=u.length>0?u[0].key:s[0].key,d=e.split("-")[1];return c+(d?"-"+d:"")}function I(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return w(r,o?P(t):p(t,r),o)}function A(e){var t=getComputedStyle(e),r=parseFloat(t.marginTop)+parseFloat(t.marginBottom),o=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+o,height:e.offsetHeight+r}}function k(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function L(e,t,r){r=r.split("-")[0];var o=A(e),n={width:o.width,height:o.height},i=-1!==["right","left"].indexOf(r),a=i?"top":"left",l=i?"left":"top",s=i?"height":"width",u=i?"width":"height";return n[a]=t[a]+t[s]/2-o[s]/2,n[l]=r===l?t[l]-o[u]:t[k(l)],n}function T(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function H(e,t,r){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===r});var o=T(e,function(e){return e[t]===r});return e.indexOf(o)}function D(e,t,r){return(void 0===r?e:e.slice(0,H(e,"name",r))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=e.function||e.fn;e.enabled&&n(r)&&(t.offsets.popper=g(t.offsets.popper),t.offsets.reference=g(t.offsets.reference),t=r(t,e))}),t}function E(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=I(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=M(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=L(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=D(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function V(e,t){return e.some(function(e){var r=e.name;return e.enabled&&r===t})}function R(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<t.length;o++){var n=t[o],i=n?""+n+r:e;if(void 0!==document.body.style[i])return i}return null}function O(){return this.state.isDestroyed=!0,V(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[R("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function j(e){var t=e.ownerDocument;return t?t.defaultView:window}function F(e,t,r,o){var n="BODY"===e.nodeName,i=n?e.ownerDocument.defaultView:e;i.addEventListener(t,r,{passive:!0}),n||F(l(i.parentNode),t,r,o),o.push(i)}function N(e,t,r,o){r.updateBound=o,j(e).addEventListener("resize",r.updateBound,{passive:!0});var n=l(e);return F(n,"scroll",r.updateBound,r.scrollParents),r.scrollElement=n,r.eventsEnabled=!0,r}function _(){this.state.eventsEnabled||(this.state=N(this.reference,this.options,this.state,this.scheduleUpdate))}function q(e,t){return j(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function U(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=q(this.reference,this.state))}function W(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function z(e,t){Object.keys(t).forEach(function(r){var o="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&W(t[r])&&(o="px"),e.style[r]=t[r]+o})}function J(e,t){Object.keys(t).forEach(function(r){!1!==t[r]?e.setAttribute(r,t[r]):e.removeAttribute(r)})}function Q(e){return z(e.instance.popper,e.styles),J(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&z(e.arrowElement,e.arrowStyles),e}function X(e,t,r,o,n){var i=I(n,t,e,r.positionFixed),a=M(r.placement,i,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",a),z(t,{position:r.positionFixed?"fixed":"absolute"}),r}function $(e,t){var r=t.x,o=t.y,n=e.offsets.popper,i=T(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,l=u(e.instance.popper),s=b(l),c={position:n.position},d={left:Math.floor(n.left),top:Math.round(n.top),bottom:Math.round(n.bottom),right:Math.floor(n.right)},p="bottom"===r?"top":"bottom",f="right"===o?"left":"right",y=R("transform"),h=void 0,v=void 0;if(v="bottom"===p?-s.height+d.bottom:d.top,h="right"===f?-s.width+d.right:d.left,a&&y)c[y]="translate3d("+h+"px, "+v+"px, 0)",c[p]=0,c[f]=0,c.willChange="transform";else{var m="bottom"===p?-1:1,g="right"===f?-1:1;c[p]=v*m,c[f]=h*g,c.willChange=p+", "+f}var w={"x-placement":e.placement};return e.attributes=we({},w,e.attributes),e.styles=we({},c,e.styles),e.arrowStyles=we({},e.offsets.arrow,e.arrowStyles),e}function G(e,t,r){var o=T(e,function(e){return e.name===t}),n=!!o&&e.some(function(e){return e.name===r&&e.enabled&&e.order<o.order});if(!n){var i="`"+t+"`",a="`"+r+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return n}function K(e,t){var r;if(!G(e.instance.modifiers,"arrow","keepTogether"))return e;var o=t.element;if("string"==typeof o){if(!(o=e.instance.popper.querySelector(o)))return e}else if(!e.instance.popper.contains(o))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var n=e.placement.split("-")[0],a=e.offsets,l=a.popper,s=a.reference,u=-1!==["left","right"].indexOf(n),c=u?"height":"width",d=u?"Top":"Left",p=d.toLowerCase(),f=u?"left":"top",y=u?"bottom":"right",h=A(o)[c];s[y]-h<l[p]&&(e.offsets.popper[p]-=l[p]-(s[y]-h)),s[p]+h>l[y]&&(e.offsets.popper[p]+=s[p]+h-l[y]),e.offsets.popper=g(e.offsets.popper);var v=s[p]+s[c]/2-h/2,m=i(e.instance.popper),b=parseFloat(m["margin"+d],10),w=parseFloat(m["border"+d+"Width"],10),C=v-e.offsets.popper[p]-b-w;return C=Math.max(Math.min(l[c]-h,C),0),e.arrowElement=o,e.offsets.arrow=(r={},be(r,p,Math.round(C)),be(r,f,""),r),e}function Y(e){return"end"===e?"start":"start"===e?"end":e}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=xe.indexOf(e),o=xe.slice(r+1).concat(xe.slice(0,r));return t?o.reverse():o}function ee(e,t){if(V(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var r=S(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),o=e.placement.split("-")[0],n=k(o),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case Pe.FLIP:a=[o,n];break;case Pe.CLOCKWISE:a=Z(o);break;case Pe.COUNTERCLOCKWISE:a=Z(o,!0);break;default:a=t.behavior}return a.forEach(function(l,s){if(o!==l||a.length===s+1)return e;o=e.placement.split("-")[0],n=k(o);var u=e.offsets.popper,c=e.offsets.reference,d=Math.floor,p="left"===o&&d(u.right)>d(c.left)||"right"===o&&d(u.left)<d(c.right)||"top"===o&&d(u.bottom)>d(c.top)||"bottom"===o&&d(u.top)<d(c.bottom),f=d(u.left)<d(r.left),y=d(u.right)>d(r.right),h=d(u.top)<d(r.top),v=d(u.bottom)>d(r.bottom),m="left"===o&&f||"right"===o&&y||"top"===o&&h||"bottom"===o&&v,g=-1!==["top","bottom"].indexOf(o),b=!!t.flipVariations&&(g&&"start"===i&&f||g&&"end"===i&&y||!g&&"start"===i&&h||!g&&"end"===i&&v);(p||m||b)&&(e.flipped=!0,(p||m)&&(o=a[s+1]),b&&(i=Y(i)),e.placement=o+(i?"-"+i:""),e.offsets.popper=we({},e.offsets.popper,L(e.instance.popper,e.offsets.reference,e.placement)),e=D(e.instance.modifiers,e,"flip"))}),e}function te(e){var t=e.offsets,r=t.popper,o=t.reference,n=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(n),l=a?"right":"bottom",s=a?"left":"top",u=a?"width":"height";return r[l]<i(o[s])&&(e.offsets.popper[s]=i(o[s])-r[u]),r[s]>i(o[l])&&(e.offsets.popper[s]=i(o[l])),e}function re(e,t,r,o){var n=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+n[1],a=n[2];if(!i)return e;if(0===a.indexOf("%")){var l=void 0;switch(a){case"%p":l=r;break;case"%":case"%r":default:l=o}return g(l)[t]/100*i}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i}return i}function oe(e,t,r,o){var n=[0,0],i=-1!==["right","left"].indexOf(o),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),l=a.indexOf(T(a,function(e){return-1!==e.search(/,|\s/)}));a[l]&&-1===a[l].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var s=/\s*,\s*|\s+/,u=-1!==l?[a.slice(0,l).concat([a[l].split(s)[0]]),[a[l].split(s)[1]].concat(a.slice(l+1))]:[a];return u=u.map(function(e,o){var n=(1===o?!i:i)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return re(e,n,t,r)})}),u.forEach(function(e,t){e.forEach(function(r,o){W(r)&&(n[t]+=r*("-"===e[o-1]?-1:1))})}),n}function ne(e,t){var r=t.offset,o=e.placement,n=e.offsets,i=n.popper,a=n.reference,l=o.split("-")[0],s=void 0;return s=W(+r)?[+r,0]:oe(r,i,a,l),"left"===l?(i.top+=s[0],i.left-=s[1]):"right"===l?(i.top+=s[0],i.left+=s[1]):"top"===l?(i.left+=s[0],i.top-=s[1]):"bottom"===l&&(i.left+=s[0],i.top+=s[1]),e.popper=i,e}function ie(e,t){var r=t.boundariesElement||u(e.instance.popper);e.instance.reference===r&&(r=u(r));var o=R("transform"),n=e.instance.popper.style,i=n.top,a=n.left,l=n[o];n.top="",n.left="",n[o]="";var s=S(e.instance.popper,e.instance.reference,t.padding,r,e.positionFixed);n.top=i,n.left=a,n[o]=l,t.boundaries=s;var c=t.priority,d=e.offsets.popper,p={primary:function(e){var r=d[e];return d[e]<s[e]&&!t.escapeWithReference&&(r=Math.max(d[e],s[e])),be({},e,r)},secondary:function(e){var r="right"===e?"left":"top",o=d[r];return d[e]>s[e]&&!t.escapeWithReference&&(o=Math.min(d[r],s[e]-("right"===e?d.width:d.height))),be({},r,o)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";d=we({},d,p[t](e))}),e.offsets.popper=d,e}function ae(e){var t=e.placement,r=t.split("-")[0],o=t.split("-")[1];if(o){var n=e.offsets,i=n.reference,a=n.popper,l=-1!==["bottom","top"].indexOf(r),s=l?"left":"top",u=l?"width":"height",c={start:be({},s,i[s]),end:be({},s,i[s]+i[u]-a[u])};e.offsets.popper=we({},a,c[o])}return e}function le(e){if(!G(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=T(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function se(e){var t=e.placement,r=t.split("-")[0],o=e.offsets,n=o.popper,i=o.reference,a=-1!==["left","right"].indexOf(r),l=-1===["top","left"].indexOf(r);return n[a?"left":"top"]=i[r]-(l?n[a?"width":"height"]:0),e.placement=k(t),e.offsets.popper=g(n),e}for(var ue="undefined"!=typeof window&&"undefined"!=typeof document,ce=["Edge","Trident","Firefox"],de=0,pe=0;pe<ce.length;pe+=1)if(ue&&navigator.userAgent.indexOf(ce[pe])>=0){de=1;break}var fe=ue&&window.Promise,ye=fe?r:o,he=ue&&!(!window.MSInputMethodContext||!document.documentMode),ve=ue&&/MSIE 10/.test(navigator.userAgent),me=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ge=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),be=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ce=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],xe=Ce.slice(3),Pe={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},Se={shift:{order:100,enabled:!0,fn:ae},offset:{order:200,enabled:!0,fn:ne,offset:0},preventOverflow:{order:300,enabled:!0,fn:ie,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:te},arrow:{order:500,enabled:!0,fn:K,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:ee,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:se},hide:{order:800,enabled:!0,fn:le},computeStyle:{order:850,enabled:!0,fn:$,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:Q,onLoad:X,gpuAcceleration:void 0}},Be={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Se},Me=function(){function e(t,r){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};me(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=ye(this.update.bind(this)),this.options=we({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(we({},e.Defaults.modifiers,i.modifiers)).forEach(function(t){o.options.modifiers[t]=we({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return we({name:e},o.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&n(e.onLoad)&&e.onLoad(o.reference,o.popper,o.options,e,o.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return ge(e,[{key:"update",value:function(){return E.call(this)}},{key:"destroy",value:function(){return O.call(this)}},{key:"enableEventListeners",value:function(){return _.call(this)}},{key:"disableEventListeners",value:function(){return U.call(this)}}]),e}();Me.Utils=("undefined"!=typeof window?window:e).PopperUtils,Me.placements=Ce,Me.Defaults=Be,t.default=Me}.call(t,r(12))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Text=0]="Text",e[e.Html=1]="Html",e[e.Picture=2]="Picture",e[e.Link=3]="Link",e[e.NavLink=4]="NavLink"}(t.ContentAtomType||(t.ContentAtomType={}))},function(e,t,r){r(0),r(9),r(10),r(11),r(6),r(13),e.exports=r(14)},function(e,t,r){var o,n,i;!function(a){n=[r(0)],o=a,void 0!==(i="function"==typeof o?o.apply(t,n):o)&&(e.exports=i)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var r=e.data(this[0],"validator");return r||(this.attr("novalidate","novalidate"),r=new e.validator(t,this[0]),e.data(this[0],"validator",r),r.settings.onsubmit&&(this.on("click.validate",":submit",function(t){r.submitButton=t.currentTarget,e(this).hasClass("cancel")&&(r.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(r.cancelSubmit=!0)}),this.on("submit.validate",function(t){function o(){var o,n;return r.submitButton&&(r.settings.submitHandler||r.formSubmitted)&&(o=e("<input type='hidden'/>").attr("name",r.submitButton.name).val(e(r.submitButton).val()).appendTo(r.currentForm)),!r.settings.submitHandler||(n=r.settings.submitHandler.call(r,r.currentForm,t),o&&o.remove(),void 0!==n&&n)}return r.settings.debug&&t.preventDefault(),r.cancelSubmit?(r.cancelSubmit=!1,o()):r.form()?r.pendingRequest?(r.formSubmitted=!0,!1):o():(r.focusInvalid(),!1)})),r)},valid:function(){var t,r,o;return e(this[0]).is("form")?t=this.validate().form():(o=[],t=!0,r=e(this[0].form).validate(),this.each(function(){(t=r.element(this)&&t)||(o=o.concat(r.errorList))}),r.errorList=o),t},rules:function(t,r){var o,n,i,a,l,s,u=this[0];if(null!=u&&(!u.form&&u.hasAttribute("contenteditable")&&(u.form=this.closest("form")[0],u.name=this.attr("name")),null!=u.form)){if(t)switch(o=e.data(u.form,"validator").settings,n=o.rules,i=e.validator.staticRules(u),t){case"add":e.extend(i,e.validator.normalizeRule(r)),delete i.messages,n[u.name]=i,r.messages&&(o.messages[u.name]=e.extend(o.messages[u.name],r.messages));break;case"remove":return r?(s={},e.each(r.split(/\s/),function(e,t){s[t]=i[t],delete i[t]}),s):(delete n[u.name],i)}return a=e.validator.normalizeRules(e.extend({},e.validator.classRules(u),e.validator.attributeRules(u),e.validator.dataRules(u),e.validator.staticRules(u)),u),a.required&&(l=a.required,delete a.required,a=e.extend({required:l},a)),a.remote&&(l=a.remote,delete a.remote,a=e.extend(a,{remote:l})),a}}}),e.extend(e.expr.pseudos||e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){var r=e(t).val();return null!==r&&!!e.trim(""+r)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,r){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=r,this.init()},e.validator.format=function(t,r){return 1===arguments.length?function(){var r=e.makeArray(arguments);return r.unshift(t),e.validator.format.apply(this,r)}:void 0===r?t:(arguments.length>2&&r.constructor!==Array&&(r=e.makeArray(arguments).slice(1)),r.constructor!==Array&&(r=[r]),e.each(r,function(e,r){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return r})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,r){var o=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===r.which&&""===this.elementValue(t)||-1!==e.inArray(r.keyCode,o)||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,r,o){"radio"===t.type?this.findByName(t.name).addClass(r).removeClass(o):e(t).addClass(r).removeClass(o)},unhighlight:function(t,r,o){"radio"===t.type?this.findByName(t.name).removeClass(r).addClass(o):e(t).removeClass(r).addClass(o)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){!this.form&&this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0],this.name=e(this).attr("name"));var r=e.data(this.form,"validator"),o="on"+t.type.replace(/^validate/,""),n=r.settings;n[o]&&!e(this).is(n.ignore)&&n[o].call(r,this,t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var r,o=this.groups={};e.each(this.settings.groups,function(t,r){"string"==typeof r&&(r=r.split(/\s/)),e.each(r,function(e,r){o[r]=t})}),r=this.settings.rules,e.each(r,function(t,o){r[t]=e.validator.normalizeRule(o)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var r,o,n=this.clean(t),i=this.validationTargetFor(n),a=this,l=!0;return void 0===i?delete this.invalid[n.name]:(this.prepareElement(i),this.currentElements=e(i),o=this.groups[i.name],o&&e.each(this.groups,function(e,t){t===o&&e!==i.name&&(n=a.validationTargetFor(a.clean(a.findByName(e))))&&n.name in a.invalid&&(a.currentElements.push(n),l=a.check(n)&&l)}),r=!1!==this.check(i),l=l&&r,this.invalid[i.name]=!r,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!r)),l},showErrors:function(t){if(t){var r=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,function(e,t){return{message:e,element:r.findByName(t)[0]}}),this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,r=0;for(t in e)void 0!==e[t]&&null!==e[t]&&!1!==e[t]&&r++;return r},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,r={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var o=this.name||e(this).attr("name");return!o&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0],this.name=o),!(o in r||!t.objectLength(e(this).rules()))&&(r[o]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var r,o,n=e(t),i=t.type;return"radio"===i||"checkbox"===i?this.findByName(t.name).filter(":checked").val():"number"===i&&void 0!==t.validity?t.validity.badInput?"NaN":n.val():(r=t.hasAttribute("contenteditable")?n.text():n.val(),"file"===i?"C:\\fakepath\\"===r.substr(0,12)?r.substr(12):(o=r.lastIndexOf("/"))>=0?r.substr(o+1):(o=r.lastIndexOf("\\"),o>=0?r.substr(o+1):r):"string"==typeof r?r.replace(/\r/g,""):r)},check:function(t){t=this.validationTargetFor(this.clean(t));var r,o,n,i,a=e(t).rules(),l=e.map(a,function(e,t){return t}).length,s=!1,u=this.elementValue(t);if("function"==typeof a.normalizer?i=a.normalizer:"function"==typeof this.settings.normalizer&&(i=this.settings.normalizer),i){if("string"!=typeof(u=i.call(t,u)))throw new TypeError("The normalizer should return a string value.");delete a.normalizer}for(o in a){n={method:o,parameters:a[o]};try{if("dependency-mismatch"===(r=e.validator.methods[o].call(this,u,t,n.parameters))&&1===l){s=!0;continue}if(s=!1,"pending"===r)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!r)return this.formatAndAdd(t,n),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+n.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+n.method+"' method."),e}}if(!s)return this.objectLength(a)&&this.successList.push(t),!0},customDataMessage:function(t,r){return e(t).data("msg"+r.charAt(0).toUpperCase()+r.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var r=this.settings.messages[e];return r&&(r.constructor===String?r:r[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,r){"string"==typeof r&&(r={method:r});var o=this.findDefined(this.customMessage(t.name,r.method),this.customDataMessage(t,r.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[r.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),n=/\$?\{(\d+)\}/g;return"function"==typeof o?o=o.call(this,r.parameters,t):n.test(o)&&(o=e.validator.format(o.replace(n,"{$1}"),r.parameters)),o},formatAndAdd:function(e,t){var r=this.defaultMessage(e,t);this.errorList.push({message:r,element:e,method:t.method}),this.errorMap[e.name]=r,this.submitted[e.name]=r},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,r;for(e=0;this.errorList[e];e++)r=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,r.element,this.settings.errorClass,this.settings.validClass),this.showLabel(r.element,r.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,r){var o,n,i,a,l=this.errorsFor(t),s=this.idOrName(t),u=e(t).attr("aria-describedby");l.length?(l.removeClass(this.settings.validClass).addClass(this.settings.errorClass),l.html(r)):(l=e("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(r||""),o=l,this.settings.wrapper&&(o=l.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(o):this.settings.errorPlacement?this.settings.errorPlacement.call(this,o,e(t)):o.insertAfter(t),l.is("label")?l.attr("for",s):0===l.parents("label[for='"+this.escapeCssMeta(s)+"']").length&&(i=l.attr("id"),u?u.match(new RegExp("\\b"+this.escapeCssMeta(i)+"\\b"))||(u+=" "+i):u=i,e(t).attr("aria-describedby",u),(n=this.groups[t.name])&&(a=this,e.each(a.groups,function(t,r){r===n&&e("[name='"+a.escapeCssMeta(t)+"']",a.currentForm).attr("aria-describedby",l.attr("id"))})))),!r&&this.settings.success&&(l.text(""),"string"==typeof this.settings.success?l.addClass(this.settings.success):this.settings.success(l,t)),this.toShow=this.toShow.add(l)},errorsFor:function(t){var r=this.escapeCssMeta(this.idOrName(t)),o=e(t).attr("aria-describedby"),n="label[for='"+r+"'], label[for='"+r+"'] *";return o&&(n=n+", #"+this.escapeCssMeta(o).replace(/\s+/g,", #")),this.errors().filter(n)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,r){switch(r.nodeName.toLowerCase()){case"select":return e("option:selected",r).length;case"input":if(this.checkable(r))return this.findByName(r.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,r){return!!e(t,r.form).length},function:function(e,t){return e(t)}},optional:function(t){var r=this.elementValue(t);return!e.validator.methods.required.call(this,r,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,r){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),r&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.submitButton&&e("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!r&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,r){return r="string"==typeof r&&r||"remote",e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:r})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,r){t.constructor===String?this.classRuleSettings[t]=r:e.extend(this.classRuleSettings,t)},classRules:function(t){var r={},o=e(t).attr("class");return o&&e.each(o.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(r,e.validator.classRuleSettings[this])}),r},normalizeAttributeRule:function(e,t,r,o){/min|max|step/.test(r)&&(null===t||/number|range|text/.test(t))&&(o=Number(o),isNaN(o)&&(o=void 0)),o||0===o?e[r]=o:t===r&&"range"!==t&&(e[r]=!0)},attributeRules:function(t){var r,o,n={},i=e(t),a=t.getAttribute("type");for(r in e.validator.methods)"required"===r?(o=t.getAttribute(r),""===o&&(o=!0),o=!!o):o=i.attr(r),this.normalizeAttributeRule(n,a,r,o);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var r,o,n={},i=e(t),a=t.getAttribute("type");for(r in e.validator.methods)o=i.data("rule"+r.charAt(0).toUpperCase()+r.substring(1).toLowerCase()),this.normalizeAttributeRule(n,a,r,o);return n},staticRules:function(t){var r={},o=e.data(t.form,"validator");return o.settings.rules&&(r=e.validator.normalizeRule(o.settings.rules[t.name])||{}),r},normalizeRules:function(t,r){return e.each(t,function(o,n){if(!1===n)return void delete t[o];if(n.param||n.depends){var i=!0;switch(typeof n.depends){case"string":i=!!e(n.depends,r.form).length;break;case"function":i=n.depends.call(r,r)}i?t[o]=void 0===n.param||n.param:(e.data(r.form,"validator").resetElements(e(r)),delete t[o])}}),e.each(t,function(o,n){t[o]=e.isFunction(n)&&"normalizer"!==o?n(r):n}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var r;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(r=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(r[0]),Number(r[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var r={};e.each(t.split(/\s/),function(){r[this]=!0}),t=r}return t},addMethod:function(t,r,o){e.validator.methods[t]=r,e.validator.messages[t]=void 0!==o?o:e.validator.messages[t],r.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,r,o){if(!this.depend(o,r))return"dependency-mismatch";if("select"===r.nodeName.toLowerCase()){var n=e(r).val();return n&&n.length>0}return this.checkable(r)?this.getLength(t,r)>0:t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,r,o){var n=e.isArray(t)?t.length:this.getLength(t,r);return this.optional(r)||n>=o},maxlength:function(t,r,o){var n=e.isArray(t)?t.length:this.getLength(t,r);return this.optional(r)||n<=o},rangelength:function(t,r,o){var n=e.isArray(t)?t.length:this.getLength(t,r);return this.optional(r)||n>=o[0]&&n<=o[1]},min:function(e,t,r){return this.optional(t)||e>=r},max:function(e,t,r){return this.optional(t)||e<=r},range:function(e,t,r){return this.optional(t)||e>=r[0]&&e<=r[1]},step:function(t,r,o){var n,i=e(r).attr("type"),a="Step attribute on input type "+i+" is not supported.",l=["text","number","range"],s=new RegExp("\\b"+i+"\\b"),u=i&&!s.test(l.join()),c=function(e){var t=(""+e).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0},d=function(e){return Math.round(e*Math.pow(10,n))},p=!0;if(u)throw new Error(a);return n=c(o),(c(t)>n||d(t)%d(o)!=0)&&(p=!1),this.optional(r)||p},equalTo:function(t,r,o){var n=e(o);return this.settings.onfocusout&&n.not(".validate-equalTo-blur").length&&n.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){e(r).valid()}),t===n.val()},remote:function(t,r,o,n){if(this.optional(r))return"dependency-mismatch";n="string"==typeof n&&n||"remote";var i,a,l,s=this.previousValue(r,n);return this.settings.messages[r.name]||(this.settings.messages[r.name]={}),s.originalMessage=s.originalMessage||this.settings.messages[r.name][n],this.settings.messages[r.name][n]=s.message,o="string"==typeof o&&{url:o}||o,l=e.param(e.extend({data:t},o.data)),s.old===l?s.valid:(s.old=l,i=this,this.startRequest(r),a={},a[r.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+r.name,dataType:"json",data:a,context:i.currentForm,success:function(e){var o,a,l,u=!0===e||"true"===e;i.settings.messages[r.name][n]=s.originalMessage,u?(l=i.formSubmitted,i.resetInternals(),i.toHide=i.errorsFor(r),i.formSubmitted=l,i.successList.push(r),i.invalid[r.name]=!1,i.showErrors()):(o={},a=e||i.defaultMessage(r,{method:n,parameters:t}),o[r.name]=s.message=a,i.invalid[r.name]=!0,i.showErrors(o)),s.valid=u,i.stopRequest(r,u)}},o)),"pending")}}});var t,r={};return e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,o){var n=e.port;"abort"===e.mode&&(r[n]&&r[n].abort(),r[n]=o)}):(t=e.ajax,e.ajax=function(o){var n=("mode"in o?o:e.ajaxSettings).mode,i=("port"in o?o:e.ajaxSettings).port;return"abort"===n?(r[i]&&r[i].abort(),r[i]=t.apply(this,arguments),r[i]):t.apply(this,arguments)}),e})},function(e,t,r){(function(e){!function(e){function t(e,t,r){e.rules[t]=r,e.message&&(e.messages[t]=e.message)}function r(e){return e.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function o(e){return e.replace(/([!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function n(e){return e.substr(0,e.lastIndexOf(".")+1)}function i(e,t){return 0===e.indexOf("*.")&&(e=e.replace("*.",t)),e}function a(t,r){var n=e(this).find("[data-valmsg-for='"+o(r[0].name)+"']"),i=n.attr("data-valmsg-replace"),a=i?!1!==e.parseJSON(i):null;n.removeClass("field-validation-valid").addClass("field-validation-error"),t.data("unobtrusiveContainer",n),a?(n.empty(),t.removeClass("input-validation-error").appendTo(n)):t.hide()}function l(t,r){var o=e(this).find("[data-valmsg-summary=true]"),n=o.find("ul");n&&n.length&&r.errorList.length&&(n.empty(),o.addClass("validation-summary-errors").removeClass("validation-summary-valid"),e.each(r.errorList,function(){e("<li />").html(this.message).appendTo(n)}))}function s(t){var r=t.data("unobtrusiveContainer");if(r){var o=r.attr("data-valmsg-replace"),n=o?e.parseJSON(o):null;r.addClass("field-validation-valid").removeClass("field-validation-error"),t.removeData("unobtrusiveContainer"),n&&r.empty()}}function u(t){var r=e(this),o="__jquery_unobtrusive_validation_form_reset";if(!r.data(o)){r.data(o,!0);try{r.data("validator").resetForm()}finally{r.removeData(o)}r.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors"),r.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer")}}function c(t){var r=e(t),o=r.data(f),n=e.proxy(u,t),i=p.unobtrusive.options||{},c=function(r,o){var n=i[r];n&&e.isFunction(n)&&n.apply(t,o)};return o||(o={options:{errorClass:i.errorClass||"input-validation-error",errorElement:i.errorElement||"span",errorPlacement:function(){a.apply(t,arguments),c("errorPlacement",arguments)},invalidHandler:function(){l.apply(t,arguments),c("invalidHandler",arguments)},messages:{},rules:{},success:function(){s.apply(t,arguments),c("success",arguments)}},attachValidation:function(){r.off("reset."+f,n).on("reset."+f,n).validate(this.options)},validate:function(){return r.validate(),r.valid()}},r.data(f,o)),o}var d,p=e.validator,f="unobtrusiveValidation";p.unobtrusive={adapters:[],parseElement:function(t,r){var o,n,i,a=e(t),l=a.parents("form")[0];l&&(o=c(l),o.options.rules[t.name]=n={},o.options.messages[t.name]=i={},e.each(this.adapters,function(){var r="data-val-"+this.name,o=a.attr(r),s={};void 0!==o&&(r+="-",e.each(this.params,function(){s[this]=a.attr(r+this)}),this.adapt({element:t,form:l,message:o,params:s,rules:n,messages:i}))}),e.extend(n,{__dummy__:!0}),r||o.attachValidation())},parse:function(t){var r=e(t),o=r.parents().addBack().filter("form").add(r.find("form")).has("[data-val=true]");r.find("[data-val=true]").each(function(){p.unobtrusive.parseElement(this,!0)}),o.each(function(){var e=c(this);e&&e.attachValidation()})}},d=p.unobtrusive.adapters,d.add=function(e,t,r){return r||(r=t,t=[]),this.push({name:e,params:t,adapt:r}),this},d.addBool=function(e,r){return this.add(e,function(o){t(o,r||e,!0)})},d.addMinMax=function(e,r,o,n,i,a){return this.add(e,[i||"min",a||"max"],function(e){var i=e.params.min,a=e.params.max;i&&a?t(e,n,[i,a]):i?t(e,r,i):a&&t(e,o,a)})},d.addSingleVal=function(e,r,o){return this.add(e,[r||"val"],function(n){t(n,o||e,n.params[r])})},p.addMethod("__dummy__",function(e,t,r){return!0}),p.addMethod("regex",function(e,t,r){var o;return!!this.optional(t)||(o=new RegExp(r).exec(e))&&0===o.index&&o[0].length===e.length}),p.addMethod("nonalphamin",function(e,t,r){var o;return r&&(o=e.match(/\W/g),o=o&&o.length>=r),o}),p.methods.extension?(d.addSingleVal("accept","mimtype"),d.addSingleVal("extension","extension")):d.addSingleVal("extension","extension","accept"),d.addSingleVal("regex","pattern"),d.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),d.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),d.addMinMax("minlength","minlength").addMinMax("maxlength","minlength","maxlength"),d.add("equalto",["other"],function(r){var a=n(r.element.name),l=r.params.other,s=i(l,a);t(r,"equalTo",e(r.form).find(":input").filter("[name='"+o(s)+"']")[0])}),d.add("required",function(e){"INPUT"===e.element.tagName.toUpperCase()&&"CHECKBOX"===e.element.type.toUpperCase()||t(e,"required",!0)}),d.add("remote",["url","type","additionalfields"],function(a){var l={url:a.params.url,type:a.params.type||"GET",data:{}},s=n(a.element.name);e.each(r(a.params.additionalfields||a.element.name),function(t,r){var n=i(r,s);l.data[n]=function(){var t=e(a.form).find(":input").filter("[name='"+o(n)+"']");return t.is(":checkbox")?t.filter(":checked").val()||t.filter(":hidden").val()||"":t.is(":radio")?t.filter(":checked").val()||"":t.val()}}),t(a,"remote",l)}),d.add("password",["min","nonalphamin","regex"],function(e){e.params.min&&t(e,"minlength",e.params.min),e.params.nonalphamin&&t(e,"nonalphamin",e.params.nonalphamin),e.params.regex&&t(e,"regex",e.params.regex)}),e(function(){p.unobtrusive.parse(document)})}(e)}).call(t,r(0))},function(e,t,r){var o,n;!function(i,a){o=a,void 0!==(n="function"==typeof o?o.call(t,r,t,e):o)&&(e.exports=n)}(0,function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e){var t=e.getBoundingClientRect(),r={};for(var o in t)r[o]=t[o];if(e.ownerDocument!==document){var i=e.ownerDocument.defaultView.frameElement;if(i){var a=n(i);r.top+=a.top,r.bottom+=a.top,r.left+=a.left,r.right+=a.left}}return r}function i(e){var t=getComputedStyle(e)||{},r=t.position,o=[];if("fixed"===r)return[e];for(var n=e;(n=n.parentNode)&&n&&1===n.nodeType;){var i=void 0;try{i=getComputedStyle(n)}catch(e){}if(void 0===i||null===i)return o.push(n),o;var a=i,l=a.overflow,s=a.overflowX;/(auto|scroll|overlay)/.test(l+a.overflowY+s)&&("absolute"!==r||["relative","absolute","fixed"].indexOf(i.position)>=0)&&o.push(n)}return o.push(e.ownerDocument.body),e.ownerDocument!==document&&o.push(e.ownerDocument.defaultView),o}function a(){B&&document.body.removeChild(B),B=null}function l(e){var t=void 0;e===document?(t=document,e=document.documentElement):t=e.ownerDocument;var r=t.documentElement,o=n(e),i=A();return o.top-=i.top,o.left-=i.left,void 0===o.width&&(o.width=document.body.scrollWidth-o.left-o.right),void 0===o.height&&(o.height=document.body.scrollHeight-o.top-o.bottom),o.top=o.top-r.clientTop,o.left=o.left-r.clientLeft,o.right=t.body.clientWidth-o.width-o.left,o.bottom=t.body.clientHeight-o.height-o.top,o}function s(e){return e.offsetParent||document.documentElement}function u(){if(k)return k;var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");c(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);var r=e.offsetWidth;t.style.overflow="scroll";var o=e.offsetWidth;r===o&&(o=t.clientWidth),document.body.removeChild(t);var n=r-o;return k={width:n,height:n}}function c(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}),e}function d(e,t){if(void 0!==e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.remove(t)});else{var r=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),o=y(e).replace(r," ");h(e,o)}}function p(e,t){if(void 0!==e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.add(t)});else{d(e,t);var r=y(e)+" "+t;h(e,r)}}function f(e,t){if(void 0!==e.classList)return e.classList.contains(t);var r=y(e);return new RegExp("(^| )"+t+"( |$)","gi").test(r)}function y(e){return e.className instanceof e.ownerDocument.defaultView.SVGAnimatedString?e.className.baseVal:e.className}function h(e,t){e.setAttribute("class",t)}function v(e,t,r){r.forEach(function(r){-1===t.indexOf(r)&&f(e,r)&&d(e,r)}),t.forEach(function(t){f(e,t)||p(e,t)})}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function g(e,t){var r=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return e+r>=t&&t>=e-r}function b(){return"object"==typeof performance&&"function"==typeof performance.now?performance.now():+new Date}function w(){for(var e={top:0,left:0},t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return r.forEach(function(t){var r=t.top,o=t.left;"string"==typeof r&&(r=parseFloat(r,10)),"string"==typeof o&&(o=parseFloat(o,10)),e.top+=r,e.left+=o}),e}function C(e,t){return"string"==typeof e.left&&-1!==e.left.indexOf("%")&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&-1!==e.top.indexOf("%")&&(e.top=parseFloat(e.top,10)/100*t.height),e}function x(e,t){return"scrollParent"===t?t=e.scrollParents[0]:"window"===t&&(t=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),t===document&&(t=t.documentElement),void 0!==t.nodeType&&function(){var e=t,r=l(t),o=r,n=getComputedStyle(t);if(t=[o.left,o.top,r.width+o.left,r.height+o.top],e.ownerDocument!==document){var i=e.ownerDocument.defaultView;t[0]+=i.pageXOffset,t[1]+=i.pageYOffset,t[2]+=i.pageXOffset,t[3]+=i.pageYOffset}$.forEach(function(e,r){e=e[0].toUpperCase()+e.substr(1),"Top"===e||"Left"===e?t[r]+=parseFloat(n["border"+e+"Width"]):t[r]-=parseFloat(n["border"+e+"Width"])})}(),t}var P=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),S=void 0;void 0===S&&(S={modules:[]});var B=null,M=function(){var e=0;return function(){return++e}}(),I={},A=function(){var e=B;e&&document.body.contains(e)||(e=document.createElement("div"),e.setAttribute("data-tether-id",M()),c(e.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(e),B=e);var t=e.getAttribute("data-tether-id");return void 0===I[t]&&(I[t]=n(e),T(function(){delete I[t]})),I[t]},k=null,L=[],T=function(e){L.push(e)},H=function(){for(var e=void 0;e=L.pop();)e()},D=function(){function e(){o(this,e)}return P(e,[{key:"on",value:function(e,t,r){var o=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];void 0===this.bindings&&(this.bindings={}),void 0===this.bindings[e]&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:r,once:o})}},{key:"once",value:function(e,t,r){this.on(e,t,r,!0)}},{key:"off",value:function(e,t){if(void 0!==this.bindings&&void 0!==this.bindings[e])if(void 0===t)delete this.bindings[e];else for(var r=0;r<this.bindings[e].length;)this.bindings[e][r].handler===t?this.bindings[e].splice(r,1):++r}},{key:"trigger",value:function(e){if(void 0!==this.bindings&&this.bindings[e]){for(var t=0,r=arguments.length,o=Array(r>1?r-1:0),n=1;n<r;n++)o[n-1]=arguments[n];for(;t<this.bindings[e].length;){var i=this.bindings[e][t],a=i.handler,l=i.ctx,s=i.once,u=l;void 0===u&&(u=this),a.apply(u,o),s?this.bindings[e].splice(t,1):++t}}}}]),e}();S.Utils={getActualBoundingClientRect:n,getScrollParents:i,getBounds:l,getOffsetParent:s,extend:c,addClass:p,removeClass:d,hasClass:f,updateClasses:v,defer:T,flush:H,uniqueId:M,Evented:D,getScrollBarSize:u,removeUtilElements:a};var E=function(){function e(e,t){var r=[],o=!0,n=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){n=!0,i=e}finally{try{!o&&l.return&&l.return()}finally{if(n)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),V=function(e,t,r){for(var o=!0;o;){var n=e,i=t,a=r;o=!1,null===n&&(n=Function.prototype);var l=Object.getOwnPropertyDescriptor(n,i);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(a)}var u=Object.getPrototypeOf(n);if(null===u)return;e=u,t=i,r=a,o=!0,l=u=void 0}};if(void 0===S)throw new Error("You must include the utils.js file before tether.js");var R=S.Utils,i=R.getScrollParents,l=R.getBounds,s=R.getOffsetParent,c=R.extend,p=R.addClass,d=R.removeClass,v=R.updateClasses,T=R.defer,H=R.flush,u=R.getScrollBarSize,a=R.removeUtilElements,O=function(){if("undefined"==typeof document)return"";for(var e=document.createElement("div"),t=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],r=0;r<t.length;++r){var o=t[r];if(void 0!==e.style[o])return o}}(),j=[],F=function(){j.forEach(function(e){e.position(!1)}),H()};!function(){var e=null,t=null,r=null,o=function o(){if(void 0!==t&&t>16)return t=Math.min(t-16,250),void(r=setTimeout(o,250));void 0!==e&&b()-e<10||(null!=r&&(clearTimeout(r),r=null),e=b(),F(),t=b()-e)};"undefined"!=typeof window&&void 0!==window.addEventListener&&["resize","scroll","touchmove"].forEach(function(e){window.addEventListener(e,o)})}();var N={center:"center",left:"right",right:"left"},_={middle:"middle",top:"bottom",bottom:"top"},q={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},U=function(e,t){var r=e.left,o=e.top;return"auto"===r&&(r=N[t.left]),"auto"===o&&(o=_[t.top]),{left:r,top:o}},W=function(e){var t=e.left,r=e.top;return void 0!==q[e.left]&&(t=q[e.left]),void 0!==q[e.top]&&(r=q[e.top]),{left:t,top:r}},z=function(e){var t=e.split(" "),r=E(t,2);return{top:r[0],left:r[1]}},J=z,Q=function(e){function t(e){var r=this;o(this,t),V(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.position=this.position.bind(this),j.push(this),this.history=[],this.setOptions(e,!1),S.modules.forEach(function(e){void 0!==e.initialize&&e.initialize.call(r)}),this.position()}return m(t,e),P(t,[{key:"getClass",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this.options.classes;return void 0!==t&&t[e]?this.options.classes[e]:this.options.classPrefix?this.options.classPrefix+"-"+e:e}},{key:"setOptions",value:function(e){var t=this,r=arguments.length<=1||void 0===arguments[1]||arguments[1],o={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=c(o,e);var n=this.options,a=n.element,l=n.target,s=n.targetModifier;if(this.element=a,this.target=l,this.targetModifier=s,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(e){if(void 0===t[e])throw new Error("Tether Error: Both element and target must be defined");void 0!==t[e].jquery?t[e]=t[e][0]:"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),p(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&p(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=J(this.options.targetAttachment),this.attachment=J(this.options.attachment),this.offset=z(this.options.offset),this.targetOffset=z(this.options.targetOffset),void 0!==this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=i(this.target),!1!==this.options.enabled&&this.enable(r)}},{key:"getTargetBounds",value:function(){if(void 0===this.targetModifier)return l(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var e=l(this.target),t={height:e.height,width:e.width,top:e.top,left:e.left};return t.height=Math.min(t.height,e.height-(pageYOffset-e.top)),t.height=Math.min(t.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),t.height=Math.min(innerHeight,t.height),t.height-=2,t.width=Math.min(t.width,e.width-(pageXOffset-e.left)),t.width=Math.min(t.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),t.width=Math.min(innerWidth,t.width),t.width-=2,t.top<pageYOffset&&(t.top=pageYOffset),t.left<pageXOffset&&(t.left=pageXOffset),t}if("scroll-handle"===this.targetModifier){var e=void 0,r=this.target;r===document.body?(r=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=l(r);var o=getComputedStyle(r),n=r.scrollWidth>r.clientWidth||[o.overflow,o.overflowX].indexOf("scroll")>=0||this.target!==document.body,i=0;n&&(i=15);var a=e.height-parseFloat(o.borderTopWidth)-parseFloat(o.borderBottomWidth)-i,t={width:15,height:.975*a*(a/r.scrollHeight),left:e.left+e.width-parseFloat(o.borderLeftWidth)-15},s=0;a<408&&this.target===document.body&&(s=-11e-5*Math.pow(a,2)-.00727*a+22.58),this.target!==document.body&&(t.height=Math.max(t.height,24));var u=this.target.scrollTop/(r.scrollHeight-a);return t.top=u*(a-t.height-s)+e.top+parseFloat(o.borderTopWidth),this.target===document.body&&(t.height=Math.max(t.height,24)),t}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(e,t){return void 0===this._cache&&(this._cache={}),void 0===this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]}},{key:"enable",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&p(this.target,this.getClass("enabled")),p(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(t){t!==e.target.ownerDocument&&t.addEventListener("scroll",e.position)}),t&&this.position()}},{key:"disable",value:function(){var e=this;d(this.target,this.getClass("enabled")),d(this.element,this.getClass("enabled")),this.enabled=!1,void 0!==this.scrollParents&&this.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.position)})}},{key:"destroy",value:function(){var e=this;this.disable(),j.forEach(function(t,r){t===e&&j.splice(r,1)}),0===j.length&&a()}},{key:"updateAttachClasses",value:function(e,t){var r=this;e=e||this.attachment,t=t||this.targetAttachment;var o=["left","top","bottom","right","middle","center"];void 0!==this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),void 0===this._addAttachClasses&&(this._addAttachClasses=[]);var n=this._addAttachClasses;e.top&&n.push(this.getClass("element-attached")+"-"+e.top),e.left&&n.push(this.getClass("element-attached")+"-"+e.left),t.top&&n.push(this.getClass("target-attached")+"-"+t.top),t.left&&n.push(this.getClass("target-attached")+"-"+t.left);var i=[];o.forEach(function(e){i.push(r.getClass("element-attached")+"-"+e),i.push(r.getClass("target-attached")+"-"+e)}),T(function(){void 0!==r._addAttachClasses&&(v(r.element,r._addAttachClasses,i),!1!==r.options.addTargetClasses&&v(r.target,r._addAttachClasses,i),delete r._addAttachClasses)})}},{key:"position",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var r=U(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,r);var o=this.cache("element-bounds",function(){return l(e.element)}),n=o.width,i=o.height;if(0===n&&0===i&&void 0!==this.lastSize){var a=this.lastSize;n=a.width,i=a.height}else this.lastSize={width:n,height:i};var c=this.cache("target-bounds",function(){return e.getTargetBounds()}),d=c,p=C(W(this.attachment),{width:n,height:i}),f=C(W(r),d),y=C(this.offset,{width:n,height:i}),h=C(this.targetOffset,d);p=w(p,y),f=w(f,h);for(var v=c.left+f.left-p.left,m=c.top+f.top-p.top,g=0;g<S.modules.length;++g){var b=S.modules[g],x=b.position.call(this,{left:v,top:m,targetAttachment:r,targetPos:c,elementPos:o,offset:p,targetOffset:f,manualOffset:y,manualTargetOffset:h,scrollbarSize:I,attachment:this.attachment});if(!1===x)return!1;void 0!==x&&"object"==typeof x&&(m=x.top,v=x.left)}var P={page:{top:m,left:v},viewport:{top:m-pageYOffset,bottom:pageYOffset-m-i+innerHeight,left:v-pageXOffset,right:pageXOffset-v-n+innerWidth}},B=this.target.ownerDocument,M=B.defaultView,I=void 0;return M.innerHeight>B.documentElement.clientHeight&&(I=this.cache("scrollbar-size",u),P.viewport.bottom-=I.height),M.innerWidth>B.documentElement.clientWidth&&(I=this.cache("scrollbar-size",u),P.viewport.right-=I.width),-1!==["","static"].indexOf(B.body.style.position)&&-1!==["","static"].indexOf(B.body.parentElement.style.position)||(P.page.bottom=B.body.scrollHeight-m-i,P.page.right=B.body.scrollWidth-v-n),void 0!==this.options.optimizations&&!1!==this.options.optimizations.moveElement&&void 0===this.targetModifier&&function(){var t=e.cache("target-offsetparent",function(){return s(e.target)}),r=e.cache("target-offsetparent-bounds",function(){return l(t)}),o=getComputedStyle(t),n=r,i={};if(["Top","Left","Bottom","Right"].forEach(function(e){i[e.toLowerCase()]=parseFloat(o["border"+e+"Width"])}),r.right=B.body.scrollWidth-r.left-n.width+i.right,r.bottom=B.body.scrollHeight-r.top-n.height+i.bottom,P.page.top>=r.top+i.top&&P.page.bottom>=r.bottom&&P.page.left>=r.left+i.left&&P.page.right>=r.right){var a=t.scrollTop,u=t.scrollLeft;P.offset={top:P.page.top-r.top+a-i.top,left:P.page.left-r.left+u-i.left}}}(),this.move(P),this.history.unshift(P),this.history.length>3&&this.history.pop(),t&&H(),!0}}},{key:"move",value:function(e){var t=this;if(void 0!==this.element.parentNode){var r={};for(var o in e){r[o]={};for(var n in e[o]){for(var i=!1,a=0;a<this.history.length;++a){var l=this.history[a];if(void 0!==l[o]&&!g(l[o][n],e[o][n])){i=!0;break}}i||(r[o][n]=!0)}}var u={top:"",left:"",right:"",bottom:""},d=function(e,r){if(!1!==(void 0!==t.options.optimizations?t.options.optimizations.gpu:null)){var o=void 0,n=void 0;e.top?(u.top=0,o=r.top):(u.bottom=0,o=-r.bottom),e.left?(u.left=0,n=r.left):(u.right=0,n=-r.right),window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches||(n=Math.round(n),o=Math.round(o))),u[O]="translateX("+n+"px) translateY("+o+"px)","msTransform"!==O&&(u[O]+=" translateZ(0)")}else e.top?u.top=r.top+"px":u.bottom=r.bottom+"px",e.left?u.left=r.left+"px":u.right=r.right+"px"},p=!1;if((r.page.top||r.page.bottom)&&(r.page.left||r.page.right)?(u.position="absolute",d(r.page,e.page)):(r.viewport.top||r.viewport.bottom)&&(r.viewport.left||r.viewport.right)?(u.position="fixed",d(r.viewport,e.viewport)):void 0!==r.offset&&r.offset.top&&r.offset.left?function(){u.position="absolute";var o=t.cache("target-offsetparent",function(){return s(t.target)});s(t.element)!==o&&T(function(){t.element.parentNode.removeChild(t.element),o.appendChild(t.element)}),d(r.offset,e.offset),p=!0}():(u.position="absolute",d({top:!0,left:!0},e.page)),!p)if(this.options.bodyElement)this.element.parentNode!==this.options.bodyElement&&this.options.bodyElement.appendChild(this.element);else{for(var f=!0,y=this.element.parentNode;y&&1===y.nodeType&&"BODY"!==y.tagName;){if("static"!==getComputedStyle(y).position){f=!1;break}y=y.parentNode}f||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var h={},v=!1;for(var n in u){var m=u[n];this.element.style[n]!==m&&(v=!0,h[n]=m)}v&&T(function(){c(t.element.style,h),t.trigger("repositioned")})}}}]),t}(D);Q.modules=[],S.position=F;var X=c(Q,S),E=function(){function e(e,t){var r=[],o=!0,n=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){n=!0,i=e}finally{try{!o&&l.return&&l.return()}finally{if(n)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),R=S.Utils,l=R.getBounds,c=R.extend,v=R.updateClasses,T=R.defer,$=["left","top","right","bottom"];S.modules.push({position:function(e){var t=this,r=e.top,o=e.left,n=e.targetAttachment;if(!this.options.constraints)return!0;var i=this.cache("element-bounds",function(){return l(t.element)}),a=i.height,s=i.width;if(0===s&&0===a&&void 0!==this.lastSize){var u=this.lastSize;s=u.width,a=u.height}var d=this.cache("target-bounds",function(){return t.getTargetBounds()}),p=d.height,f=d.width,y=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(e){var t=e.outOfBoundsClass,r=e.pinnedClass;t&&y.push(t),r&&y.push(r)}),y.forEach(function(e){["left","top","right","bottom"].forEach(function(t){y.push(e+"-"+t)})});var h=[],m=c({},n),g=c({},this.attachment);return this.options.constraints.forEach(function(e){var i=e.to,l=e.attachment,u=e.pin;void 0===l&&(l="");var c=void 0,d=void 0;if(l.indexOf(" ")>=0){var y=l.split(" "),v=E(y,2);d=v[0],c=v[1]}else c=d=l;var b=x(t,i);"target"!==d&&"both"!==d||(r<b[1]&&"top"===m.top&&(r+=p,m.top="bottom"),r+a>b[3]&&"bottom"===m.top&&(r-=p,m.top="top")),"together"===d&&("top"===m.top&&("bottom"===g.top&&r<b[1]?(r+=p,m.top="bottom",r+=a,g.top="top"):"top"===g.top&&r+a>b[3]&&r-(a-p)>=b[1]&&(r-=a-p,m.top="bottom",g.top="bottom")),"bottom"===m.top&&("top"===g.top&&r+a>b[3]?(r-=p,m.top="top",r-=a,g.top="bottom"):"bottom"===g.top&&r<b[1]&&r+(2*a-p)<=b[3]&&(r+=a-p,m.top="top",g.top="top")),"middle"===m.top&&(r+a>b[3]&&"top"===g.top?(r-=a,g.top="bottom"):r<b[1]&&"bottom"===g.top&&(r+=a,g.top="top"))),"target"!==c&&"both"!==c||(o<b[0]&&"left"===m.left&&(o+=f,m.left="right"),o+s>b[2]&&"right"===m.left&&(o-=f,m.left="left")),"together"===c&&(o<b[0]&&"left"===m.left?"right"===g.left?(o+=f,m.left="right",o+=s,g.left="left"):"left"===g.left&&(o+=f,m.left="right",o-=s,g.left="right"):o+s>b[2]&&"right"===m.left?"left"===g.left?(o-=f,m.left="left",o-=s,g.left="right"):"right"===g.left&&(o-=f,m.left="left",o+=s,g.left="left"):"center"===m.left&&(o+s>b[2]&&"left"===g.left?(o-=s,g.left="right"):o<b[0]&&"right"===g.left&&(o+=s,g.left="left"))),"element"!==d&&"both"!==d||(r<b[1]&&"bottom"===g.top&&(r+=a,g.top="top"),r+a>b[3]&&"top"===g.top&&(r-=a,g.top="bottom")),"element"!==c&&"both"!==c||(o<b[0]&&("right"===g.left?(o+=s,g.left="left"):"center"===g.left&&(o+=s/2,g.left="left")),o+s>b[2]&&("left"===g.left?(o-=s,g.left="right"):"center"===g.left&&(o-=s/2,g.left="right"))),"string"==typeof u?u=u.split(",").map(function(e){return e.trim()}):!0===u&&(u=["top","left","right","bottom"]),u=u||[];var w=[],C=[];r<b[1]&&(u.indexOf("top")>=0?(r=b[1],w.push("top")):C.push("top")),r+a>b[3]&&(u.indexOf("bottom")>=0?(r=b[3]-a,w.push("bottom")):C.push("bottom")),o<b[0]&&(u.indexOf("left")>=0?(o=b[0],w.push("left")):C.push("left")),o+s>b[2]&&(u.indexOf("right")>=0?(o=b[2]-s,w.push("right")):C.push("right")),w.length&&function(){var e=void 0;e=void 0!==t.options.pinnedClass?t.options.pinnedClass:t.getClass("pinned"),h.push(e),w.forEach(function(t){h.push(e+"-"+t)})}(),C.length&&function(){var e=void 0;e=void 0!==t.options.outOfBoundsClass?t.options.outOfBoundsClass:t.getClass("out-of-bounds"),h.push(e),C.forEach(function(t){h.push(e+"-"+t)})}(),(w.indexOf("left")>=0||w.indexOf("right")>=0)&&(g.left=m.left=!1),(w.indexOf("top")>=0||w.indexOf("bottom")>=0)&&(g.top=m.top=!1),m.top===n.top&&m.left===n.left&&g.top===t.attachment.top&&g.left===t.attachment.left||(t.updateAttachClasses(g,m),t.trigger("update",{attachment:g,targetAttachment:m}))}),T(function(){!1!==t.options.addTargetClasses&&v(t.target,h,y),v(t.element,h,y)}),{top:r,left:o}}});var R=S.Utils,l=R.getBounds,v=R.updateClasses,T=R.defer;S.modules.push({position:function(e){var t=this,r=e.top,o=e.left,n=this.cache("element-bounds",function(){return l(t.element)}),i=n.height,a=n.width,s=this.getTargetBounds(),u=r+i,c=o+a,d=[];r<=s.bottom&&u>=s.top&&["left","right"].forEach(function(e){var t=s[e];t!==o&&t!==c||d.push(e)}),o<=s.right&&c>=s.left&&["top","bottom"].forEach(function(e){var t=s[e];t!==r&&t!==u||d.push(e)});var p=[],f=[],y=["left","top","right","bottom"];return p.push(this.getClass("abutted")),y.forEach(function(e){p.push(t.getClass("abutted")+"-"+e)}),d.length&&f.push(this.getClass("abutted")),d.forEach(function(e){f.push(t.getClass("abutted")+"-"+e)}),T(function(){!1!==t.options.addTargetClasses&&v(t.target,f,p),v(t.element,f,p)}),!0}});var E=function(){function e(e,t){var r=[],o=!0,n=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){n=!0,i=e}finally{try{!o&&l.return&&l.return()}finally{if(n)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return S.modules.push({position:function(e){var t=e.top,r=e.left;if(this.options.shift){var o=this.options.shift;"function"==typeof this.options.shift&&(o=this.options.shift.call(this,{top:t,left:r}));var n=void 0,i=void 0;if("string"==typeof o){o=o.split(" "),o[1]=o[1]||o[0];var a=o,l=E(a,2);n=l[0],i=l[1],n=parseFloat(n,10),i=parseFloat(i,10)}else n=o.top,i=o.left;return t+=n,r+=i,{top:t,left:r}}}}),X})},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(3);o.CaliforniaApp.CaliforniaAppInstance=new o.CaliforniaApp,Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var o=arguments[1],n=0;n<r;){var i=t[n];if(e.call(o,i,n,t))return i;n++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var o=arguments[1],n=0;n<r;){var i=t[n];if(e.call(o,i,n,t))return n;n++}return-1}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=r(16),i=function(){function e(e){var t=this;this.beforeSendAjax=function(e,t){if(!0===o.isAjaxRequestRunning)return console.log("ignored request (ajax call still in progress)"),!1;o.isAjaxRequestRunning=!0,e.done(function(e){o.isAjaxRequestRunning=!1}).fail(function(e){o.isAjaxRequestRunning=!1,o.projector.scheduleRender()})},this.LogoutAction=function(){return n.Action("/california/Logout","post",null,t.beforeSendAjax)},this.IndexAction=function(e,r){return n.Action("/california/Index"+encodeURIComponent(e)+"?token="+encodeURIComponent(r),"get",null,t.beforeSendAjax)},this.DeleteLayoutStyleInteractionJson=function(e){return n.Json("/california/DeleteLayoutStyleInteraction?layoutStyleInteractionId="+e,"post",null,t.beforeSendAjax)},this.DeleteStyleValueInteractionJson=function(e,r){return n.Json("/california/DeleteStyleValueInteraction?layoutStyleInteractionId="+e+"&styleValueId="+r,"post",null,t.beforeSendAjax)},this.CreateLayoutStyleInteractionForLayoutAtomJson=function(e){return n.Json("/california/CreateLayoutStyleInteractionForLayoutAtom?layoutAtomId="+e,"post",null,t.beforeSendAjax)},this.StaticCssAction=function(){return n.Action("/california/StaticCss","get",null,t.beforeSendAjax)},this.StaticJsAction=function(){return n.Action("/california/StaticJs","get",null,t.beforeSendAjax)},this.pubAction=function(e,r){return n.Action("/california/pub"+encodeURIComponent(r)+"?view="+encodeURIComponent(e),"get",null,t.beforeSendAjax)},this.PublishAction=function(e){return n.Action("/california/Publish?californiaProjectId="+e,"post",null,t.beforeSendAjax)},this.InitialClientDataJson=function(e){return n.Json("/california/InitialClientData?jsTimeString="+encodeURIComponent(e),"post",null,t.beforeSendAjax)},this.SetSpecialLayoutBoxTypeJson=function(e,r){return n.Json("/california/SetSpecialLayoutBoxType?layoutBoxId="+e+"&specialLayoutBoxType="+r,"post",null,t.beforeSendAjax)},this.DeleteStyleQuantumJson=function(e){return n.Json("/california/DeleteStyleQuantum?styleQuantumId="+e,"post",null,t.beforeSendAjax)},this.DeleteLayoutJson=function(e,r){return n.Json("/california/DeleteLayout?layoutBaseId="+e+"&isOnlyBelow="+r,"post",null,t.beforeSendAjax)},this.SetStyleMoleculeAsReferenceStyleJson=function(e){return n.Json("/california/SetStyleMoleculeAsReferenceStyle?styleMoleculeId="+e,"post",null,t.beforeSendAjax)},this.SetStyleMoleculeReferenceJson=function(e,r){return n.Json("/california/SetStyleMoleculeReference?styleMoleculeId="+e+"&referenceStyleMoleculeId="+r,"post",null,t.beforeSendAjax)},this.SyncStyleMoleculeToReferenceStyleJson=function(e){return n.Json("/california/SyncStyleMoleculeToReferenceStyle?styleMoleculeId="+e,"post",null,t.beforeSendAjax)},this.SyncStyleMoleculeFromReferenceStyleJson=function(e){return n.Json("/california/SyncStyleMoleculeFromReferenceStyle?styleMoleculeId="+e,"post",null,t.beforeSendAjax)},this.SyncLayoutStylesImitatingReferenceLayoutJson=function(e,r){return n.Json("/california/SyncLayoutStylesImitatingReferenceLayout?targetLayoutMoleculeId="+e+"&referenceLayoutMoleculeId="+r,"post",null,t.beforeSendAjax)},this.SetLayoutBoxCountForRowOrBoxJson=function(e,r,o,i){return n.Json("/california/SetLayoutBoxCountForRowOrBox?layoutRowId="+e+"&boxStyleMoleculeId="+r+"&targetBoxCount="+o+"&isFitWidth="+i,"post",null,t.beforeSendAjax)},this.CreateStyleValueForAtomJson=function(e,r){return n.Json("/california/CreateStyleValueForAtom?styleAtomId="+e+"&cssProperty="+encodeURIComponent(r),"post",null,t.beforeSendAjax)},this.CreateCaliforniaViewJson=function(e,r){return n.Json("/california/CreateCaliforniaView?californiaProjectId="+e+"&californiaViewName="+encodeURIComponent(r),"post",null,t.beforeSendAjax)},this.CreateCaliforniaViewFromReferenceViewJson=function(e,r,o){return n.Json("/california/CreateCaliforniaViewFromReferenceView?californiaProjectId="+e+"&californiaViewName="+encodeURIComponent(r)+"&referenceCaliforniaViewId="+o,"post",null,t.beforeSendAjax)},this.DeleteCaliforniaViewJson=function(e){return n.Json("/california/DeleteCaliforniaView?californiaViewId="+e,"post",null,t.beforeSendAjax)},this.CreateStyleValueInteractionJson=function(e,r,o){return n.Json("/california/CreateStyleValueInteraction?layoutStyleInteractionId="+e+"&styleValueId="+r+"&cssValue="+encodeURIComponent(o),"post",null,t.beforeSendAjax)},this.CreateStyleAtomForMoleculeJson=function(e,r,o,i){return n.Json("/california/CreateStyleAtomForMolecule?styleMoleculeId="+e+"&styleAtomType="+r+"&responsiveDeviceId="+o+"&stateModifier="+encodeURIComponent(i),"post",null,t.beforeSendAjax)},this.DeleteStyleAtomJson=function(e){return n.Json("/california/DeleteStyleAtom?styleAtomId="+e,"post",null,t.beforeSendAjax)},this.ApplyStyleQuantumToAtomJson=function(e,r){return n.Json("/california/ApplyStyleQuantumToAtom?styleAtomId="+e+"&styleQuantumId="+r,"post",null,t.beforeSendAjax)},this.CreateStyleQuantumJson=function(e,r,o,i){return n.Json("/california/CreateStyleQuantum?californiaProjectId="+e+"&quantumName="+encodeURIComponent(r)+"&cssProperty="+encodeURIComponent(o)+"&cssValue="+encodeURIComponent(i),"post",null,t.beforeSendAjax)},this.UpdateTextContentAtomJson=function(e,r){return n.Json("/california/UpdateTextContentAtom?contentAtomId="+e+"&updatedTextContent="+encodeURIComponent(r),"post",null,t.beforeSendAjax)},this.UpdateStyleQuantumJson=function(e,r){return n.Json("/california/UpdateStyleQuantum?styleQuantumId="+e+"&cssValue="+encodeURIComponent(r),"post",null,t.beforeSendAjax)},this.UpdateStyleValueJson=function(e,r){return n.Json("/california/UpdateStyleValue?styleValueId="+e+"&cssValue="+encodeURIComponent(r),"post",null,t.beforeSendAjax)},this.DeleteStyleValueJson=function(e){return n.Json("/california/DeleteStyleValue?styleValueId="+e,"post",null,t.beforeSendAjax)},this.DuplicateStyleQuantumJson=function(e){return n.Json("/california/DuplicateStyleQuantum?styleQuantumId="+e,"post",null,t.beforeSendAjax)},this.CreateLayoutAtomForBoxJson=function(e,r){return n.Json("/california/CreateLayoutAtomForBox?targetLayoutBoxId="+e+"&referenceLayoutAtomId="+r,"post",null,t.beforeSendAjax)},this.CreateLayoutBoxForBoxOrRowJson=function(e,r){return n.Json("/california/CreateLayoutBoxForBoxOrRow?targetLayoutBoxOrRowId="+e+"&referenceLayoutBoxId="+r,"post",null,t.beforeSendAjax)},this.CreateLayoutBoxForAtomInPlaceJson=function(e,r){return n.Json("/california/CreateLayoutBoxForAtomInPlace?targetLayoutAtomId="+e+"&referenceLayoutBoxId="+r,"post",null,t.beforeSendAjax)},this.CreateLayoutRowForViewJson=function(e,r){return n.Json("/california/CreateLayoutRowForView?targetCaliforniaViewId="+e+"&referenceLayoutRowId="+r,"post",null,t.beforeSendAjax)},this.SetLayoutRowOrBoxAsInstanceableJson=function(e,r){return n.Json("/california/SetLayoutRowOrBoxAsInstanceable?californiaProjectId="+e+"&layoutRowOrBoxId="+r,"post",null,t.beforeSendAjax)},this.MoveStyleAtomToResponsiveDeviceJson=function(e,r){return n.Json("/california/MoveStyleAtomToResponsiveDevice?styleAtomId="+e+"&targetResponsiveDeviceId="+r,"post",null,t.beforeSendAjax)},this.MoveLayoutMoleculeIntoLayoutMoleculeJson=function(e,r){return n.Json("/california/MoveLayoutMoleculeIntoLayoutMolecule?movedLayoutMoleculeId="+e+"&targetContainerLayoutMoleculeId="+r,"post",null,t.beforeSendAjax)},this.MoveLayoutMoleculeNextToLayoutMoleculeJson=function(e,r,o){return n.Json("/california/MoveLayoutMoleculeNextToLayoutMolecule?movedLayoutMoleculeId="+e+"&targetNeighborLayoutMoleculeId="+r+"&isMoveBefore="+o,"post",null,t.beforeSendAjax)},o=e}return e}();t.CaliforniaController=i},function(e,t,r){"use strict";(function(e){function r(t,r,o,n){var i;return i=null!==o?e.ajax(t,{method:r,data:JSON.stringify(o),contentType:"application/json; charset=utf-8",beforeSend:n}):e.ajax(t,{method:r,beforeSend:n}),i.fail(function(e){void 0!==e.responseJSON&&void 0!==e.responseJSON.StatusText&&console.log(e.responseJSON.StatusText)}),i}function o(t,r,o,n){var i;return i=null!==o?e.ajax(t,{method:r,data:JSON.stringify(o),contentType:"application/json; charset=utf-8",beforeSend:n}):e.ajax(t,{method:r,beforeSend:n}),i.fail(function(e){void 0!==e.statusText&&console.log(e.statusText)}),i}Object.defineProperty(t,"__esModule",{value:!0}),t.Json=r,t.Action=o}).call(t,r(0))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.ReadInitialClientData=0]="ReadInitialClientData",e[e.CreateStore=1]="CreateStore",e[e.ReadStore=2]="ReadStore",e[e.CreateStyleQuantum=3]="CreateStyleQuantum",e[e.DuplicateStyleQuantum=4]="DuplicateStyleQuantum",e[e.DeleteStyleQuantum=5]="DeleteStyleQuantum",e[e.DeleteStyleValue=6]="DeleteStyleValue",e[e.CreateStyleValueForAtom=7]="CreateStyleValueForAtom",e[e.UpdateStyleValue=8]="UpdateStyleValue",e[e.UpdateStyleQuantum=9]="UpdateStyleQuantum",e[e.ApplyStyleQuantumToAtom=10]="ApplyStyleQuantumToAtom",e[e.CreateStyleAtomForMolecule=11]="CreateStyleAtomForMolecule",e[e.DeleteStyleAtom=12]="DeleteStyleAtom",e[e.UpdateContentAtom=13]="UpdateContentAtom",e[e.CreateLayoutAtomForBox=14]="CreateLayoutAtomForBox",e[e.CreateLayoutRowForView=15]="CreateLayoutRowForView",e[e.DeleteLayout=16]="DeleteLayout",e[e.SetBoxCount=17]="SetBoxCount",e[e.CreateLayoutBoxForBoxOrRow=18]="CreateLayoutBoxForBoxOrRow",e[e.MoveStyleAtomToResponsiveDevice=19]="MoveStyleAtomToResponsiveDevice",e[e.SetStyleMoleculeReference=20]="SetStyleMoleculeReference",e[e.SetStyleMoleculeAsReference=21]="SetStyleMoleculeAsReference",e[e.SetLayoutMoleculeAsInstanceable=22]="SetLayoutMoleculeAsInstanceable",e[e.SyncStyleMoleculeToReference=23]="SyncStyleMoleculeToReference",e[e.SyncStyleMoleculeFromReference=24]="SyncStyleMoleculeFromReference",e[e.MoveLayoutMoleculeIntoLayoutMolecule=25]="MoveLayoutMoleculeIntoLayoutMolecule",e[e.MoveLayoutMoleculeNextToLayoutMolecule=26]="MoveLayoutMoleculeNextToLayoutMolecule",e[e.Publish=27]="Publish",e[e.View=28]="View",e[e.CreateCaliforniaView=29]="CreateCaliforniaView",e[e.DeleteCaliforniaView=30]="DeleteCaliforniaView",e[e.CreateLayoutStyleInteraction=31]="CreateLayoutStyleInteraction",e[e.CreateStyleValueInteraction=32]="CreateStyleValueInteraction",e[e.DeleteLayoutStyleInteraction=33]="DeleteLayoutStyleInteraction",e[e.CreateLayoutBoxForAtomInPlace=34]="CreateLayoutBoxForAtomInPlace",e[e.SyncLayoutStylesImitatingReference=35]="SyncLayoutStylesImitatingReference",e[e.CreateCaliforniaViewFromReferenceView=36]="CreateCaliforniaViewFromReferenceView",e[e.DeleteStyleValueInteraction=37]="DeleteStyleValueInteraction",e[e.SetSpecialLayoutBoxType=38]="SetSpecialLayoutBoxType",e[e.ViewJs=39]="ViewJs",e[e.ViewCss=40]="ViewCss"}(t.CaliforniaEvent||(t.CaliforniaEvent={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.CaliforniaProject=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.CaliforniaUserDefaults=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.CaliforniaClientViewModel=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.StyleMolecule=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.StyleQuantum=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.StyleAtom=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Generic=0]="Generic",e[e.Font=1]="Font",e[e.Typography=2]="Typography",e[e.Divider=3]="Divider",e[e.Background=4]="Background",e[e.Spacing=5]="Spacing",e[e.Picture=6]="Picture",e[e.Grid=7]="Grid",e[e.Row=8]="Row",e[e.Navbar=9]="Navbar",e[e.List=10]="List",e[e.Box=11]="Box"}(t.StyleAtomType||(t.StyleAtomType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.StyleValue=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.ResponsiveDevice=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.CaliforniaView=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.LayoutRow=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.LayoutBox=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.LayoutAtom=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.StyleMoleculeAtomMapping=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.ContentAtom=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.LayoutBase=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Row=0]="Row",e[e.Box=1]="Box",e[e.Atom=2]="Atom"}(t.LayoutType||(t.LayoutType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Default=0]="Default",e[e.CaliforniaViewHolder=1]="CaliforniaViewHolder",e[e.Navigation=2]="Navigation",e[e.UnsortedList=3]="UnsortedList",e[e.SortedList=4]="SortedList",e[e.ListItem=5]="ListItem",e[e.RichText=6]="RichText"}(t.SpecialLayoutBoxType||(t.SpecialLayoutBoxType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.LayoutStyleInteraction=o},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o,n,i=r(1),a=i.h,l=r(3),s=r(38),u=r(2),c=r(4),d=r(7);t.HIGHLIGHT_BACKGROUND_COLOR_STRING="rgb(233,233,233)",t.MANUALLY_HIGHLIGHT_BACKGROUND_COLOR_STRING="rgb(222,222,222)";var p=function(){function r(r){this.dynamicClientGridBreakpoints=[],this.virtualStyleIndex=[],this.virtualPseudoStyleIndex=[],this._visibleLayoutAtomDomNodeReferences=[],this._activeViewLayoutAtomDomNodeReferences={},this._visibleLayoutAtomKeys=[],this._mostUpperVisibleLayoutAtomId=0,this.renderPreviewArea=function(){var e={flex:o.state.editViewMode===c.EditViewMode.SidebarOnly?"0 0 1px":"1 1 777px",display:"flex","flex-flow":"column nowrap",width:"533px","max-width":"100%",height:"100%",overflow:"visible"},t=o.state.lastCaliforniaEventData.length>0;return a("div",{key:"0",styles:e},o.state.isHideUserInterface?void 0:n.renderNavigation(),o.state.editViewMode===c.EditViewMode.SidebarOnly?void 0:n.renderPagePreviewHolder(),o.state.isHideUserInterface?a("div",{key:"2",styles:{position:"absolute",left:"0",top:"0","z-index":l.UI_Z_INDEX.toString(),display:"flex","flex-flow":"column nowrap"}},a("button",{key:"a",onclick:n.previewClickHandler},"…"),a("button",{key:"b",onclick:o.propertyBars[0].insertLayoutRowIntoViewClickHandler},"+(R)"),t?a("button",{key:"c",onclick:n.repeatClickHandler,styles:{flex:"0 0 auto",width:"auto"}},"RR"):a("button",{disabled:!0,key:"c0",onclick:n.repeatClickHandler,styles:{flex:"0 0 auto",width:"auto"}},"RR")):void 0)},this.renderNavigation=function(){var e={flex:"0 0 "+o.navigationHeigthPx+"px",position:"relative",display:"flex","flex-flow":"row nowrap","z-index":"3"},t={position:"absolute",right:"0px","background-color":"red",color:"white",border:"solid black 1px"},r=o.state.lastCaliforniaEventData.length>0;return a("div",{key:"0",styles:e},o.isAjaxRequestRunning?a("p",{key:"z",styles:t},"Loading..."):void 0,a("button",{key:"a",onclick:n.previewClickHandler,styles:{flex:"0 0 auto",width:"auto"}},"Preview"),a("button",{key:"b",eid:c.EditViewMode.PagePreviewOnly.toString(),onclick:n.changeEditModeClickHandler,styles:{flex:"0 0 auto","background-color":o.state.editViewMode===c.EditViewMode.PagePreviewOnly?"red":void 0}},"P"),a("button",{key:"c",eid:c.EditViewMode.SidebarOnly.toString(),onclick:n.changeEditModeClickHandler,styles:{flex:"0 0 auto","background-color":o.state.editViewMode===c.EditViewMode.SidebarOnly?"red":void 0}},"S"),a("button",{key:"d",onclick:n.toggleSideBarCount,cid:"1",styles:{flex:"0 0 auto"}},"x1"),a("button",{key:"e",onclick:n.toggleSideBarCount,cid:"2",styles:{flex:"0 0 auto"}},"x2"),a("button",{key:"f",onclick:n.toggleSideBarCount,cid:"4",styles:{flex:"0 0 auto"}},"x4"),n.renderResponsiveDeviceSelectors(),a("button",{key:"h",onclick:n.changeSelectionModeClickHandler,styles:{flex:"0 0 auto","background-color":o.state.currentSelectionMode===c.SelectionMode.Content?"red":void 0,color:o.state.currentSelectionMode===c.SelectionMode.Styles?"red":void 0}},c.SelectionMode[o.state.currentSelectionMode]),a("button",{key:"i",onclick:n.publishClickHandler,styles:{flex:"0 0 auto",width:"auto"}},"Save"),a("button",{key:"j",onclick:n.publishAndOpenClickHandler,styles:{flex:"0 0 auto",width:"auto"}},"Save&Open"),a("button",{key:"k",onclick:n.refreshClickHandler,styles:{flex:"0 0 auto",width:"auto"}},"JAX"),r?a("button",{key:"l",onclick:n.repeatClickHandler,styles:{flex:"0 0 auto",width:"auto"}},"RR"):a("button",{disabled:!0,key:"l0",onclick:n.repeatClickHandler,styles:{flex:"0 0 auto",width:"auto"}},"RR"))},this.toggleSideBarCount=function(e){var t=l.parseIntFromAttribute(e.target,"cid");t>0&&t<=4?o.state.visiblePropertyBarMaxCount=t:console.log(l.DEFAULT_EXCEPTION)},this.publishClickHandler=function(e){n.publish(!1)},this.publishAndOpenClickHandler=function(e){n.publish(!0)},this.publish=function(e){var t=o.clientData.CaliforniaProject.CaliforniaViews.find(function(e){return e.CaliforniaViewId==n.viewModel.activeCaliforniaViewId});e?o.controller.PublishAction(o.clientData.CaliforniaProject.CaliforniaProjectId).done(function(e){window.location.assign(window.location.origin+"/california/pub/"+t.Name)}).fail(function(e){console.log(l.DEFAULT_EXCEPTION)}):o.controller.PublishAction(o.clientData.CaliforniaProject.CaliforniaProjectId)},this.refreshClickHandler=function(e){if(o.state.isJaxOn)MathJax.Hub.Queue(["resetEquationNumbers",MathJax.InputJax.TeX]),n.resetEquationNumbersWhenModifying(!0);else{var t,r=document.getElementsByTagName("head")[0];t=document.createElement("script"),t.type="text/x-mathjax-config",t.text='MathJax.Hub.Config({\n  root: "../third_party/mathjax",\n  extensions: ["tex2jax.js"],\n  jax: ["input/TeX", "output/HTML-CSS"],\n  tex2jax: { inlineMath: [[\'$\',\'$\'], [\'\\\\(\',\'\\\\)\']], skipTags: ["script","noscript","style","textarea","pre","code","input"], processEscapes: true},\n  TeX: { extensions: ["AMSmath.js", "AMSsymbols.js"], equationNumbers: { autoNumber: "AMS" } }, showProcessingMessages: true, messageStyle:"normal",\n  "HTML-CSS": { availableFonts: ["TeX"], preferredFont: "TeX", imageFont: null }\n});',r.appendChild(t),t=document.createElement("script"),t.type="text/javascript",t.src="../third_party/mathjax/MathJax.js",t.onload=function(){o.state.isJaxOn=!0},r.appendChild(t)}},this.repeatClickHandler=function(e){if(o.state.lastCommand===u.CaliforniaEvent.CreateLayoutBoxForBoxOrRow)o.controller.CreateLayoutBoxForBoxOrRowJson(o.state.lastCaliforniaEventData[0],o.state.lastCaliforniaEventData[1]).done(function(e){return o.router.updateData(e)});else{if(o.state.lastCommand!==u.CaliforniaEvent.CreateLayoutRowForView)return void console.log(l.DEFAULT_EXCEPTION);o.controller.CreateLayoutRowForViewJson(o.state.lastCaliforniaEventData[0],o.state.lastCaliforniaEventData[1]).done(function(e){return o.router.updateData(e)})}},this.resetEquationNumbersWhenModifying=function(e){o.state.isJaxOn&&e&&(MathJax.Hub.Queue(["PreProcess",MathJax.Hub]),MathJax.Hub.Queue(["Reprocess",MathJax.Hub]))},this.previewClickHandler=function(e){o.state.isHideUserInterface=!o.state.isHideUserInterface,o.projector.renderNow(),o.resizeChangedHandler()},this.changeEditModeClickHandler=function(e){var t=l.parseIntFromAttribute(e.target,"eid");if(o.state.editViewMode===t){if(o.state.editViewMode===c.EditViewMode.Default)return;o.state.editViewMode=c.EditViewMode.Default,o.projector.renderNow()}else o.state.editViewMode=t;o.resizeChangedHandler()},this.changeSelectionModeClickHandler=function(e){o.state.currentSelectionMode=o.state.currentSelectionMode===c.SelectionMode.Content?c.SelectionMode.Styles:c.SelectionMode.Content,n.resetContentAtomEditMode()},this.renderResponsiveDeviceSelectors=function(){return a("div",{key:"1",styles:{flex:"0 0 auto",display:"flex","flex-flow":"row nowrap"}},void 0!==o.clientData.CaliforniaProject.ResponsiveDevices?o.clientData.CaliforniaProject.ResponsiveDevices.map(function(e){if(!(e.WidthThreshold<0)){var t={flex:"0 0 auto","background-color":e.ResponsiveDeviceId==o.state.overrideResponsiveDeviceId?"red":void 0,color:e.ResponsiveDeviceId==o.state.currentResponsiveDeviceId&&0==o.state.overrideResponsiveDeviceId?"red":void 0},r=e.ResponsiveDeviceId.toString();return a("button",{key:r,rid:r,onclick:n.selectResponsiveDeviceClickHandler,styles:t},e.NameShort)}}):void 0)},this.selectResponsiveDeviceClickHandler=function(e){var t=l.parseIntFromAttribute(e.target,"rid");o.state.overrideResponsiveDeviceId==t?o.state.overrideResponsiveDeviceId=0:o.state.overrideResponsiveDeviceId=t,n.updatePagePreviewDimensions()},this.renderPagePreviewHolder=function(){var e={flex:o.state.isHideUserInterface?"1 1 auto":"1 1 100%",margin:o.state.isHideUserInterface||o.state.editViewMode===c.EditViewMode.PagePreviewOnly?"0":"0 "+o.state.targetPagePreviewHolderMarginPx+"px",position:"relative",height:"100%","max-height":"100%",overflow:"auto"},t={display:"flex","flex-flow":"column nowrap",height:"100%"};return a("div",{key:"1",styles:e,onscroll:n.pagePreviewHolderScrollHandler,afterCreate:n.pagePreviewHolderAfterCreateHandler,afterUpdate:n.pagePreviewHolderAfterUpdateHandler},a("div",{key:"p0",styles:t},n.renderPagePreview()),n.viewModel.fixedLayoutRowsProjector.results.map(function(e){return e.renderMaquette()}))},this.pagePreviewHolderAfterCreateHandler=function(e,t,r,n,i){o.pagePreviewHolder=e,o.resizeChangedHandler()},this.pagePreviewHolderAfterUpdateHandler=function(e,t,r,i,a){o.pagePreviewHolder=e,n.updateVisibleLayoutAtoms()},this.pagePreviewHolderScrollHandler=function(e){o.state.visiblePropertyBarMaxCount>0&&n.updateVisibleLayoutAtoms()},this.syncScrollPositionFromBoxTree=function(){if(o.propertyBarVMs[0].isSyncedWithPagePreview&&void 0!==o.pagePreviewHolder){var e=o.navigationHeigthPx,t=o.propertyBars[0].mostUpperVisibleLayoutAtomId,r=n._visibleLayoutAtomDomNodeReferences.find(function(e){return l.parseIntFromAttribute(e,"aid")==t});void 0===r&&(r=n._activeViewLayoutAtomDomNodeReferences[t],o.pagePreviewHolder.scrollTop=o.pagePreviewHolder.scrollTop+(r.getBoundingClientRect().top-e))}},this.updateVisibleLayoutAtoms=function(){var e=o.pagePreviewHolder;n._visibleLayoutAtomDomNodeReferences=[],n._visibleLayoutAtomKeys=[];var t=0,r=0,i=e.clientHeight+1,a=o.navigationHeigthPx,s=e.scrollTop;e.clientHeight;for(var u in n._activeViewLayoutAtomDomNodeReferences){var c=n._activeViewLayoutAtomDomNodeReferences[u],d=!1,p=c.getBoundingClientRect(),f=p.top-a,y=e.clientHeight-(p.top-a+s+p.height)+s;p.height>0&&(f>=0&&f<=e.clientHeight?d=!0:y>=0&&y<=e.clientHeight?d=!0:f<=0&&y<=0&&(d=!0)),d&&(n._visibleLayoutAtomDomNodeReferences.push(c),n._visibleLayoutAtomKeys.push(u),f<i&&(i=f,n._visibleLayoutAtomKeys.length,r=l.parseIntFromAttribute(c,"aid"))),r!=n._mostUpperVisibleLayoutAtomId&&(n._mostUpperVisibleLayoutAtomId=r,0!=r&&o.propertyBarVMs[0].isSyncedWithPagePreview&&o.propertyBars[0].syncScrollPositionFromPagePreview()),t++}},this.renderPagePreview=function(){var e={width:o.state.isDataLoaded&&!o.state.isEnoughAvailableSpacePagePreview?o.state.targetPagePreviewWidthPx+"px":void 0,display:"flex"},t=void 0!==o.clientData.CaliforniaProject.CaliforniaViews,r=void 0;return void 0!==o.clientData.CaliforniaProject.CaliforniaViews&&(r=o.clientData.CaliforniaProject.CaliforniaViews.find(function(e){return e.CaliforniaViewId==n.viewModel.activeCaliforniaViewId}).SpecialStyleBodyStyleString),t?a("div",{key:"vp"+n.viewModel.activeCaliforniaViewId,class:r,styles:e},n.viewModel.californiaViewProjector.results.map(function(e){return e.renderMaquette()})):a("div",{key:"vp0",styles:e})},this.renderCaliforniaViewArray=function(){return i.createMapping(function(e){return e.CaliforniaViewId},function(e){var t=e.CaliforniaViewId.toString(),r=n.renderLayoutRowArray(!1);return r.map(e.PlacedLayoutRows),{renderMaquette:function(){var o={flex:"1 1 1px"};return a("div",{class:e.SpecialStyleViewStyleString,key:t,id:"california-v"+e.CaliforniaViewId+"_"+e.Name,vid:t,styles:o},r.results.map(function(e){return e.renderMaquette()}))},update:function(o){e=o,r.map(e.PlacedLayoutRows),t=e.CaliforniaViewId.toString()}}},function(e,t){t.update(e)})},this.renderLayoutRowArray=function(e){return i.createMapping(function(e){return e.LayoutBaseId},function(r){var i=r.LayoutBaseId.toString(),l=o.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==r.LayoutBaseId}),s=n.renderLayoutBoxArray(e,l.IsPositionFixed),u=r.AllBoxesBelowRow.filter(function(e){return void 0===e.PlacedBoxInBoxId}),c=u.sort(function(e,t){return e.LayoutSortOrderKey<t.LayoutSortOrderKey?-1:e.LayoutSortOrderKey==t.LayoutSortOrderKey?0:1});s.map(c);var d,p,f,y;l.IsPositionFixed?(p=l.TopCssValuePx+"px",f=void 0!==l.TopCssValuePx?o.navigationHeigthPx+"px":void 0,y=l.LeftCssValuePx+"px"):(p=void 0,f=void 0,y=void 0);var h=l.StyleMoleculeId,v=h.toString(),m="s"+v,g=(e?"f":"g")+i;return{renderMaquette:function(){var n=s.results.length>0?s.results.map(function(e){return e.renderMaquette()}):[],i=o.state.hoveredBoxTreeLayoutBaseId==r.LayoutBaseId;if(e||!l.IsPositionFixed){if(l.IsPositionFixed)d={position:"absolute"};else{if(e&&0==n.filter(function(e){return void 0!==e}).length)return;d={position:void 0}}return d["background-color"]=i?t.HIGHLIGHT_BACKGROUND_COLOR_STRING:void 0,r.LayoutBaseId==o.state.highlightedLayoutBaseId?(d.outline="solid 1px black",d["outline-offset"]="-1px",d["background-color"]=t.MANUALLY_HIGHLIGHT_BACKGROUND_COLOR_STRING):(d.outline=void 0,d["outline-offset"]=void 0),l.IsPositionFixed,a("div",{key:g,class:m,styles:d},n)}},update:function(t){r=t,i=r.LayoutBaseId.toString(),l=o.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==r.LayoutBaseId}),s=n.renderLayoutBoxArray(e,l.IsPositionFixed),u=r.AllBoxesBelowRow.filter(function(e){return void 0===e.PlacedBoxInBoxId}),c=u.sort(function(e,t){return e.LayoutSortOrderKey<t.LayoutSortOrderKey?-1:e.LayoutSortOrderKey==t.LayoutSortOrderKey?0:1}),s.map(c),l.IsPositionFixed?(p=l.TopCssValuePx+"px",f=void 0!==l.TopCssValuePx?o.navigationHeigthPx+"px":void 0,y=l.LeftCssValuePx+"px"):(p=void 0,f=void 0,y=void 0),h=l.StyleMoleculeId,v=h.toString(),m="s"+h,g=(e?"f":"g")+i}}},function(e,t){t.update(e)})},this.renderLayoutBoxArray=function(e,r){return i.createMapping(function(e){return e.LayoutBaseId},function(i){var s,c,d,p,f=i.LayoutBaseId.toString(),y=o.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==i.LayoutBaseId}),h=n.renderLayoutAtomArray(e,y.IsPositionFixed||r),v=n.renderLayoutBoxArray(e,y.IsPositionFixed||r);y.IsPositionFixed?(c=y.TopCssValuePx+"px",d=void 0!==y.TopCssValuePx?o.navigationHeigthPx+"px":void 0,p=y.LeftCssValuePx+"px"):(c=void 0,d=void 0,p=void 0);var m=y.StyleMoleculeId,g=m.toString(),b="s"+m,w="p";if(i.SpecialLayoutBoxType===u.SpecialLayoutBoxType.RichText&&i.PlacedInBoxAtoms.length>0){var C=i.PlacedInBoxAtoms[0].LayoutBaseId,x=o.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==C});void 0!==x.HtmlTag?w=x.HtmlTag:console.log(l.DEFAULT_EXCEPTION)}return{renderMaquette:function(){var l=n.mapAndRenderLayoutBoxContent(i,i.PlacedInBoxAtoms,h,i.PlacedInBoxBoxes,v),c=o.state.hoveredBoxTreeLayoutBaseId==i.LayoutBaseId;if(e||!y.IsPositionFixed){if(y.IsPositionFixed)s={position:"absolute"};else{if(e&&!r&&0==l.filter(function(e){return void 0!==e}).length)return;s={position:void 0}}return s["background-color"]=c?t.HIGHLIGHT_BACKGROUND_COLOR_STRING:void 0,i.LayoutBaseId==o.state.highlightedLayoutBaseId?(s.outline="solid 1px black",s["outline-offset"]="-1px",s["background-color"]=t.MANUALLY_HIGHLIGHT_BACKGROUND_COLOR_STRING):(s.outline=void 0,s["outline-offset"]=void 0),y.IsPositionFixed,i.SpecialLayoutBoxType===u.SpecialLayoutBoxType.Default?a("div",{key:f,class:b,styles:s},l):i.SpecialLayoutBoxType===u.SpecialLayoutBoxType.UnsortedList?a("ul",{key:f,class:b,styles:s},l):i.SpecialLayoutBoxType===u.SpecialLayoutBoxType.SortedList?a("ol",{key:f,class:b,styles:s},l):i.SpecialLayoutBoxType===u.SpecialLayoutBoxType.ListItem?a("li",{key:f,class:b,styles:s},l.length>0?l:a("p",null,"add atoms...")):i.SpecialLayoutBoxType===u.SpecialLayoutBoxType.RichText?a(w,{key:f,styles:s,class:b},[l.length>0?l:a("p",["add atoms..."])]):a("p",null,"TODO Box Type not implemented!")}},update:function(t){if(i=t,f=i.LayoutBaseId.toString(),y=o.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==i.LayoutBaseId}),h=n.renderLayoutAtomArray(e,y.IsPositionFixed||r),v=n.renderLayoutBoxArray(e,y.IsPositionFixed||r),y.IsPositionFixed?(c=y.TopCssValuePx+"px",d=void 0!==y.TopCssValuePx?o.navigationHeigthPx+"px":void 0,p=y.LeftCssValuePx+"px"):(c=void 0,d=void 0,p=void 0),m=y.StyleMoleculeId,g=m.toString(),b="s"+m,w="p",i.SpecialLayoutBoxType===u.SpecialLayoutBoxType.RichText&&i.PlacedInBoxAtoms.length>0){var a=i.PlacedInBoxAtoms[0].LayoutBaseId,s=o.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==a});void 0!==s.HtmlTag?w=s.HtmlTag:console.log(l.DEFAULT_EXCEPTION)}}}},function(e,t){t.update(e)})},this.renderLayoutAtomArray=function(e,r){return i.createMapping(function(e){return e.LayoutBaseId},function(i){var s,p,f,y,h=i.LayoutBaseId.toString(),v=i.HostedContentAtom.ContentAtomId.toString(),m=o.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==i.LayoutBaseId});m.IsPositionFixed?(p=m.TopCssValuePx+"px",f=void 0!==m.TopCssValuePx?o.navigationHeigthPx+"px":void 0,y=m.LeftCssValuePx+"px"):(p=void 0,f=void 0,y=void 0);var g=m.StyleMoleculeId,b=g.toString(),w="s"+b,C=o.clientData.CaliforniaProject.ContentAtoms.find(function(e){return e.ContentAtomId==i.HostedContentAtom.ContentAtomId});if(void 0===m.HtmlTag)return void console.log(l.DEFAULT_EXCEPTION);var x=void 0!==m.HtmlTag?m.HtmlTag:"p";return i.PlacedAtomInBox.SpecialLayoutBoxType===u.SpecialLayoutBoxType.RichText&&(x="span"),{renderMaquette:function(){var u=o.state.hoveredBoxTreeLayoutBaseId==i.LayoutBaseId;if(!e||r){s=m.IsPositionFixed?{"margin-top":p,"margin-left":y,top:f,left:void 0,"max-width":void 0,"z-index":void 0,"background-color":void 0}:{"margin-top":void 0,"margin-left":void 0,top:void 0,left:void 0,"max-width":void 0,"z-index":void 0,"background-color":void 0},s["background-color"]=u?t.HIGHLIGHT_BACKGROUND_COLOR_STRING:void 0,i.LayoutBaseId==o.state.highlightedLayoutBaseId?(s.outline="solid 1px black",s["outline-offset"]="-1px",s["background-color"]=t.MANUALLY_HIGHLIGHT_BACKGROUND_COLOR_STRING):(s.outline=void 0,s["outline-offset"]=void 0),m.IsPositionFixed&&(s["max-width"]=m.IsPositionFixed&&o.state.isDataLoaded&&o.state.isEnoughAvailableSpacePagePreview&&o.state.editViewMode!==c.EditViewMode.PagePreviewOnly?o.state.targetPagePreviewWidthPx+"px":void 0,s.left=m.IsPositionFixed&&void 0!==m.LeftCssValuePx?parseInt(m.LeftCssValuePx)+o.state.targetPagePreviewHolderMarginPx+"px":void 0);var g=i.LayoutBaseId==n.viewModel.editedLayoutAtomId;return s["z-index"]=g?"30":void 0,g?a("textarea",{key:"i"+h,class:w,value:n.viewModel.tempContent,oninput:n.contentAtomInputHandler,onblur:n.contentAtomLostFocusHandler,onkeydown:n.contentAtomKeyDownHandler,afterCreate:n.contentAtomAfterCreateHandler,afterUpdate:n.contentAtomAfterUpdateHandler,exitAnimation:n.contentAtomExitAnimationHandler,cid:v,styles:s}):C.ContentAtomType===d.ContentAtomType.Text?a(x,{key:h,class:w,onclick:n.layoutAtomClickHandler,ondblclick:n.layoutAtomDblClickHandler,aid:h,cid:v,styles:s,afterCreate:n.layoutAtomAfterCreateHandler,afterUpdate:n.layoutAtomAfterUpdateHandler,exitAnimation:n.layoutAtomExitAnimationHandler,onmouseenter:n.layoutAtomMouseEnterHandler,onmouseleave:n.layoutAtomMouseLeaveHandler},[C.TextContent]):C.ContentAtomType===d.ContentAtomType.Link?a(x,{key:h,class:w,onclick:n.layoutAtomClickHandler,ondblclick:n.layoutAtomDblClickHandler,aid:h,cid:v,href:"",styles:s,onmouseenter:n.layoutAtomMouseEnterHandler,onmouseleave:n.layoutAtomMouseLeaveHandler},[C.Url]):void console.log(l.DEFAULT_EXCEPTION)}},update:function(e){i=e,h=i.LayoutBaseId.toString(),v=i.HostedContentAtom.ContentAtomId.toString(),m=o.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==i.LayoutBaseId}),m.IsPositionFixed?(p=m.TopCssValuePx+"px",f=void 0!==m.TopCssValuePx?o.navigationHeigthPx+"px":void 0,y=m.LeftCssValuePx+"px"):(p=void 0,f=void 0,y=void 0),g=m.StyleMoleculeId,b=g.toString(),w="s"+g,C=o.clientData.CaliforniaProject.ContentAtoms.find(function(e){return e.ContentAtomId==i.HostedContentAtom.ContentAtomId}),void 0===m.HtmlTag&&console.log(l.DEFAULT_EXCEPTION),x=void 0!==m.HtmlTag?m.HtmlTag:"p",i.PlacedAtomInBox.SpecialLayoutBoxType===u.SpecialLayoutBoxType.RichText&&(x="span")}}},function(e,t){t.update(e)})},this.resetContentAtomEditMode=function(){n.resetEquationNumbersWhenModifying(!1),n.viewModel.editedLayoutAtomId=0,n.viewModel.tempContent="",n.viewModel.tempOriginalContent="",n.viewModel.stylesOfEditedContent={}},this.contentAtomLostFocusHandler=function(e){n.updateContentAtom(l.parseIntFromAttribute(e.target,"cid"))},this.updateContentAtom=function(e){if(0!=n.viewModel.editedLayoutAtomId&&n.viewModel.tempContent!==n.viewModel.tempOriginalContent){var t=o.clientData.CaliforniaProject.ContentAtoms.find(function(e){return e.InstancedOnLayoutId==n.viewModel.editedLayoutAtomId});if(t.ContentAtomType===d.ContentAtomType.Text)t.TextContent=n.viewModel.tempContent;else{if(t.ContentAtomType!==d.ContentAtomType.Link)return void console.log(l.DEFAULT_EXCEPTION);t.Url=n.viewModel.tempContent}""===n.viewModel.tempContent?o.controller.DeleteLayoutJson(n.viewModel.editedLayoutAtomId,!1).done(function(e){return o.router.updateData(e)}):(o.state.currentReadyState=c.ReadyState.Pending,o.controller.UpdateTextContentAtomJson(e,n.viewModel.tempContent).done(function(e){o.router.updateData(e),n.resetEquationNumbersWhenModifying(!1)}).always(function(e){return o.state.currentReadyState=c.ReadyState.Ok}))}n.resetContentAtomEditMode()},this.contentAtomKeyDownHandler=function(e){13==e.keyCode?(e.preventDefault(),!0===e.shiftKey&&n.contentAtomCreateNewLine(l.parseIntFromAttribute(e.target,"cid")),e.target.blur()):27==e.keyCode?(e.preventDefault(),n.resetContentAtomEditMode(),e.target.blur()):void 0==e.keyCode&&e.preventDefault()},this.contentAtomCreateNewLine=function(e){if(0!=n.viewModel.editedLayoutAtomId){var t=o.clientData.CaliforniaProject.LayoutMolecules.find(function(e){return e.LayoutBaseId==n.viewModel.editedLayoutAtomId}),r=n.viewModel.editedLayoutAtomId,i=t.PlacedAtomInBoxId;n.viewModel.tempContent!==n.viewModel.tempOriginalContent?(o.state.currentReadyState=c.ReadyState.Pending,o.controller.UpdateTextContentAtomJson(e,n.viewModel.tempContent).done(function(e){n.chainedAddMoveLayoutAtomCallWithFullUpdate(i,r)}).always(function(e){return o.state.currentReadyState=c.ReadyState.Ok}),n.resetContentAtomEditMode()):n.chainedAddMoveLayoutAtomCallWithFullUpdate(i,r)}},this.chainedAddMoveLayoutAtomCallWithFullUpdate=function(e,t){o.controller.CreateLayoutAtomForBoxJson(e,t).done(function(r){var i=r.CaliforniaProject.LayoutMolecules.filter(function(t){return t.LayoutType===u.LayoutType.Atom&&t.PlacedAtomInBoxId==e}),a=i[i.length-1].LayoutBaseId;o.controller.MoveLayoutMoleculeNextToLayoutMoleculeJson(a,t,!0).done(function(e){o.controller.MoveLayoutMoleculeNextToLayoutMoleculeJson(t,a,!0).done(function(e){o.router.updateData(e);var t=o.clientData.CaliforniaProject.ContentAtoms.find(function(e){return e.InstancedOnLayoutId==a});if(n.viewModel.tempContent="",n.viewModel.tempOriginalContent="",t.ContentAtomType===d.ContentAtomType.Text)n.viewModel.tempOriginalContent=t.TextContent;else{if(t.ContentAtomType!==d.ContentAtomType.Link)return void console.log(l.DEFAULT_EXCEPTION);n.viewModel.tempOriginalContent=t.Url}n.viewModel.editedLayoutAtomId=a})})})},this.contentAtomAfterCreateHandler=function(t,r,i,a,l){var s=t;e(s).css(n.viewModel.stylesOfEditedContent),!0===o.state.isSelectAllTextArea&&s.setSelectionRange(0,n.viewModel.tempContent.length),s.focus()},this.contentAtomAfterUpdateHandler=function(e,t,r,o,n){},this.contentAtomExitAnimationHandler=function(e,t,r){t()},this.layoutAtomAfterCreateHandler=function(e,t,r,i,a){if(o.state.isJaxOn){var l=e;n._activeViewLayoutAtomDomNodeReferences[i.key]=l,-1!=l.innerText.indexOf("$")&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,l])}},this.layoutAtomExitAnimationHandler=function(e,t,r){delete n._activeViewLayoutAtomDomNodeReferences[r.key],t()},this.layoutAtomMouseEnterHandler=function(e){var t=e.target;o.state.hoveredPagePreviewLayoutBaseId=l.parseIntFromAttribute(t,"aid")},this.layoutAtomMouseLeaveHandler=function(e){o.state.hoveredPagePreviewLayoutBaseId=0},this.layoutAtomAfterUpdateHandler=function(e,t,r,i,a){if(o.state.isJaxOn){var l=e;void 0!==MathJax.Hub.getAllJax(l)[0]||-1!=l.innerText.indexOf("$")&&(MathJax.Hub.Queue(["Typeset",MathJax.Hub,l]),n.resetEquationNumbersWhenModifying(!1))}},this.contentAtomInputHandler=function(e){n.viewModel.tempContent=e.target.value},this.layoutAtomDblClickHandler=function(e){if(e.preventDefault(),o.state.currentReadyState!==c.ReadyState.Ok)return void console.log("pending...");if(o.state.currentSelectionMode===c.SelectionMode.Content){var t=e.currentTarget;n.viewModel.stylesOfEditedContent=n.getStyleObject(t);for(var r=l.parseIntFromAttribute(t,"cid"),i=l.parseIntFromAttribute(t,"aid"),a=t.clientWidth,s=t.clientHeight,u=0;u++<10;)0!=a&&0!=s||null!==t.parentElement&&(a=t.parentElement.clientWidth,s=t.parentElement.clientHeight,t=t.parentElement);n.layoutAtomToTextAreaSetup(r,i,!0,a,s)}},this.layoutAtomClickHandler=function(e){if(e.preventDefault(),o.state.currentReadyState!==c.ReadyState.Ok)return void console.log("pending...");if(o.state.currentSelectionMode===c.SelectionMode.Content){var t=e.currentTarget;n.viewModel.stylesOfEditedContent=n.getStyleObject(t);for(var r=l.parseIntFromAttribute(t,"cid"),i=l.parseIntFromAttribute(t,"aid"),a=t.clientWidth,s=t.clientHeight,u=0;u++<10;)0!=a&&0!=s||null!==t.parentElement&&(a=t.parentElement.clientWidth,s=t.parentElement.clientHeight,t=t.parentElement);n.layoutAtomToTextAreaSetup(r,i,!0,a,s)}},this.layoutAtomToTextAreaSetup=function(e,t,r,i,a){if(o.state.isSelectAllTextArea=r,n.viewModel.stylesOfEditedContent.outline="solid 1px rgb(200,200,200)",n.viewModel.stylesOfEditedContent["outline-offset"]="-1px",void 0===n.viewModel.stylesOfEditedContent.width||void 0===n.viewModel.stylesOfEditedContent.height)console.log(l.DEFAULT_EXCEPTION);else{var s=(0==i?300:i).toString()+"px",u=(0==a?300:a).toString()+"px";n.viewModel.stylesOfEditedContent.width=s,n.viewModel.stylesOfEditedContent["min-width"]=s,n.viewModel.stylesOfEditedContent.height=u,n.viewModel.stylesOfEditedContent["min-height"]=u}var c=o.clientData.CaliforniaProject.ContentAtoms.find(function(t){return t.ContentAtomId==e});if(n.viewModel.tempContent="",c.ContentAtomType===d.ContentAtomType.Text)n.viewModel.tempContent=c.TextContent;else{if(c.ContentAtomType!==d.ContentAtomType.Link)return void console.log(l.DEFAULT_EXCEPTION);n.viewModel.tempContent=c.Url}n.viewModel.tempOriginalContent=n.viewModel.tempContent,n.viewModel.editedLayoutAtomId=t},this.getStyleObject=function(t){var r,o=e(t).get(0),n={},i=function(e,t){return t.toUpperCase()};r=window.getComputedStyle(o,void 0);for(var a=0,l=r.length;a<l;a++){var s=r[a],u=s.replace(/\-([a-z])/g,i),c=r.getPropertyValue(s);n[u]=c}return n},this.mapAndRenderLayoutBoxContent=function(e,t,r,o,n){if(0==t.length&&0==o.length)return[];var i=t.sort(function(e,t){return e.LayoutSortOrderKey<t.LayoutSortOrderKey?-1:e.LayoutSortOrderKey==t.LayoutSortOrderKey?0:1}),a=o.sort(function(e,t){return e.LayoutSortOrderKey<t.LayoutSortOrderKey?-1:e.LayoutSortOrderKey==t.LayoutSortOrderKey?0:1});r.map(i),n.map(a);for(var l=[],s=0,u=0,c=i.length,d=a.length,p=c+d,f=0;f<p;f++){var y=void 0,h=void 0;if(s<c&&(y=i[s]),u<d&&(h=a[u]),void 0===y||void 0===h){if(void 0!==y){for(var v=c-s,m=0;m<v;m++)l.push(r.results[s++].renderMaquette());break}for(var g=d-u,m=0;m<g;m++)l.push(n.results[u++].renderMaquette());break}y.LayoutSortOrderKey<h.LayoutSortOrderKey?l.push(r.results[s++].renderMaquette()):l.push(n.results[u++].renderMaquette())}return l},this.getCssRuleOf=function(e,t,r){var i=".s"+e.StyleMoleculeId;if(void 0===r||""===r){for(var a=i+"{",l=0,s=e.MappedStyleAtoms.filter(function(e){return e.ResponsiveDeviceId==t.ResponsiveDeviceId&&(void 0===e.StateModifier||""===e.StateModifier)});l<s.length;l++){var u=s[l];!function(e){for(var t=o.clientData.CaliforniaProject.StyleAtoms.find(function(t){return t.MappedToMoleculeId==e.StyleMoleculeAtomMappingId}).StyleAtomId,r=o.clientData.CaliforniaProject.StyleValues.filter(function(e){return e.StyleAtomId==t}),n=0,i=r;n<i.length;n++){var l=i[n];""!==l.CssValue&&(a+=l.CssProperty+": "+l.CssValue+";")}}(u)}return a+="}",n.wrapCssMediaQuery(a,t)}for(var c=""+i+r+"{",d=0,p=e.MappedStyleAtoms.filter(function(e){return e.ResponsiveDeviceId==t.ResponsiveDeviceId&&e.StateModifier===r});d<p.length;d++){var f=p[d];!function(e){for(var t=o.clientData.CaliforniaProject.StyleAtoms.find(function(t){return t.MappedToMoleculeId==e.StyleMoleculeAtomMappingId}).StyleAtomId,r=o.clientData.CaliforniaProject.StyleValues.filter(function(e){return e.StyleAtomId==t}),n=0,i=r;n<i.length;n++){var a=i[n];""!==a.CssValue&&(c+=a.CssProperty+": "+a.CssValue+";")}}(f)}return c+="}",n.wrapCssMediaQuery(c,t)},this.wrapCssMediaQuery=function(e,t){return void 0!==t.WidthThreshold&&t.WidthThreshold>0?"@media(min-width:"+n.dynamicClientGridBreakpoints[o.clientData.CaliforniaProject.ResponsiveDevices.indexOf(t)]+"px){"+e+"}":e},this.appendStyleRulesFor=function(e,t){for(var r,i,a=0;a<o.clientData.CaliforniaProject.ResponsiveDevices.length;a++){var l=o.clientData.CaliforniaProject.ResponsiveDevices[a];r=t.cssRules.length,i=n.getCssRuleOf(e,l,void 0),t.insertRule(i,r),n.virtualStyleIndex[a][e.StyleMoleculeId]=r;for(var s=[],u=0;u<e.MappedStyleAtoms.length;u++)!function(t){var r=e.MappedStyleAtoms[t];r.ResponsiveDeviceId==l.ResponsiveDeviceId&&void 0!==r.StateModifier&&-1==s.findIndex(function(e){return e===r.StateModifier})&&s.push(r.StateModifier)}(u);for(var c=0,d=s;c<d.length;c++){var p=d[c];r=t.cssRules.length,i=n.getCssRuleOf(e,l,p),t.insertRule(i,r),n.virtualPseudoStyleIndex[a][""+e.StyleMoleculeId+p]=r}}},this.reloadCssStyles=function(){for(var e=o.styleSheet.cssRules.length;e>0;e--)o.styleSheet.deleteRule(e-1);for(var e=0;e<o.clientData.CaliforniaProject.StyleMolecules.length;e++){var t=o.clientData.CaliforniaProject.StyleMolecules[e];n.appendStyleRulesFor(t,o.styleSheet)}},this.updatePagePreviewDimensions=function(){var t=o.state.defaultSymmetricPagePreviewHolderMarginPx,r=0;if(0==o.state.overrideResponsiveDeviceId)o.state.targetPagePreviewHolderMarginPx=t,r=o.state.availableSpacePagePreviewPx-2*t,o.state.targetPagePreviewWidthPx=r,o.state.isEnoughAvailableSpacePagePreview=!0;else{var i=o.clientData.CaliforniaProject.ResponsiveDevices.find(function(e){return e.ResponsiveDeviceId==o.state.overrideResponsiveDeviceId});if(o.state.overrideResponsiveDeviceId==o.state.highestWidthThresholdResponsiveDeviceId)r=i.WidthThreshold+1;else{var a=o.clientData.CaliforniaProject.ResponsiveDevices[o.clientData.CaliforniaProject.ResponsiveDevices.indexOf(i)+1];r=a.WidthThreshold-1}if(o.state.availableSpacePagePreviewPx-2*t>=r){var s=o.state.availableSpacePagePreviewPx-2*t-r;o.state.targetPagePreviewHolderMarginPx=t+s/2,o.state.targetPagePreviewWidthPx=o.state.availableSpacePagePreviewPx-s,o.state.isEnoughAvailableSpacePagePreview=!0}else o.state.isEnoughAvailableSpacePagePreview=!1,o.state.targetPagePreviewHolderMarginPx=t,o.state.targetPagePreviewWidthPx=r}if(!0===o.state.isDataLoaded){var u=o.clientData.CaliforniaProject.ResponsiveDevices.findIndex(function(e){return r<e.WidthThreshold});0==u?console.log(l.DEFAULT_EXCEPTION):o.state.currentResponsiveDeviceId=-1==u?o.state.highestWidthThresholdResponsiveDeviceId:o.clientData.CaliforniaProject.ResponsiveDevices[u-1].ResponsiveDeviceId}n.dynamicClientGridBreakpoints=[];var c=e(window).width();if(void 0===c)return void console.log(l.DEFAULT_EXCEPTION);for(var d=(o.state.availableSpacePagePreviewPx,0);d<o.clientData.CaliforniaProject.ResponsiveDevices.length;d++){var p=o.clientData.CaliforniaProject.ResponsiveDevices[d];if(p.WidthThreshold<0)n.dynamicClientGridBreakpoints.push(0);else if(0==p.WidthThreshold)n.dynamicClientGridBreakpoints.push(0);else{var f=o.clientData.CaliforniaProject.ResponsiveDevices.findIndex(function(e){return e.ResponsiveDeviceId==o.state.currentResponsiveDeviceId});if(d<=f){var y=c-50-(f+1-d);n.dynamicClientGridBreakpoints.push(y)}else{var y=c+50+(d-f);n.dynamicClientGridBreakpoints.push(y)}}}n.reloadCssStyles()},n=this,o=r,this.viewModel=new s.PagePreviewVM(this)}return Object.defineProperty(r.prototype,"visibleLayoutAtomDomNodeReferences",{get:function(){return this._visibleLayoutAtomDomNodeReferences},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"visibleLayoutAtomKeys",{get:function(){return this._visibleLayoutAtomKeys},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"activeViewLayoutAtomDomNodeReferences",{get:function(){return this._activeViewLayoutAtomDomNodeReferences},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mostUpperVisibleLayoutAtomId",{get:function(){return this._mostUpperVisibleLayoutAtomId},enumerable:!0,configurable:!0}),r}();t.PagePreview=p}).call(t,r(0))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=r(1),i=(n.h,function(){function e(e){this.tempOriginalContent="",this.tempContent="",this.editedLayoutAtomId=0,this.stylesOfEditedContent={},this.activeCaliforniaViewId=0,this.activeCaliforniaViewBodyStyleString="",this.activeCaliforniaViewStyleString="",o=this,this.californiaViewProjector=e.renderCaliforniaViewArray(),this.fixedLayoutRowsProjector=e.renderLayoutRowArray(!0)}return e}());t.PagePreviewVM=i},function(e,t,r){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(40),a=r(1),l=a.h,s=r(3),u=r(5),c=r(2),d=r(4),p=r(6),f=r(7);t.VERY_HIGH_VALUE=23e8;var y;!function(e){e[e.View=0]="View",e[e.Body=1]="Body",e[e.Html=2]="Html"}(y||(y={}));var h=function(){function r(r,y){var h=this;this.propertyBarIndex=-1,this._visibleLayoutAtomDomNodeReferences=[],this._activeViewLayoutAtomDomNodeReferences={},this._visibleLayoutAtomKeys=[],this._mostUpperVisibleLayoutAtomId=0,this.renderPropertyBar=function(){var e={flex:(n.state.editViewMode,d.EditViewMode.SidebarOnly,"1 1 200px"),display:"flex","flex-flow":"row nowrap",height:"100%","min-width":"100px",width:"200px","z-index":"2"},t={flex:(n.state.editViewMode,d.EditViewMode.SidebarOnly,"1 1 1px"),"border-right":h.propertyBarIndex<n.propertyBarCount-1&&h.currentPropertyBar.viewModel.currentPropertyBarMode===u.PropertyBarMode.CaliforniaView?"solid 3px black":void 0,width:"100%",height:"100%",display:"flex","flex-flow":"column nowrap"};return l("div",{key:"p"+h.propertyBarIndex.toString(),styles:e},l("div",{key:"v0",styles:t},h.currentPropertyBar.renderPropertyBarNavigation(),h.currentPropertyBar.renderPropertyBarControls(),0!=h.propertyBarIndex?h.currentPropertyBar.renderPropertyBarPoppersRenderOnce():void 0))},this.renderPropertyBarPoppersRenderOnce=function(){return l("div",{key:"k0"},h.currentPropertyBar.renderAddCssPropertyPopup(),h.currentPropertyBar.renderAllCssPropertiesPopup(),h.currentPropertyBar.renderUpdateCssValuePopup(),h.currentPropertyBar.renderMatchingQuantumsPopup(),h.currentPropertyBar.renderUpdateCssQuantumPopup(),h.currentPropertyBar.renderAllCssPropertiesForQuantumPopup(),h.currentPropertyBar.insertLayoutRowIntoViewPopup(),h.currentPropertyBar.insertLayoutAtomIntoBoxPopup(),h.currentPropertyBar.insertLayoutBoxIntoBoxPopup(),h.currentPropertyBar.moveStyleAtomToResponsiveDevicePopup(),h.currentPropertyBar.renderSelectInteractionTargetPopup(),h.currentPropertyBar.renderSelectInteractionTargetLayoutFilterPopup(),h.currentPropertyBar.renderShareCaliforniaProjectPopup(),h.currentPropertyBar.renderCaliforniaViewSelectionPopup())},this.renderPropertyBarNavigation=function(){var e={"margin-top":n.navigationHeigthPx+"px",display:"flex","flex-flow":"row nowrap",height:"auto",width:"100%",flex:"0 0 auto"},t=[u.PropertyBarMode.None,u.PropertyBarMode.AllStyleAtoms,u.PropertyBarMode.LayoutAtoms,u.PropertyBarMode.LayoutBase,u.PropertyBarMode.LayoutMolecules,u.PropertyBarMode.StyleMolecule],r={};r[u.PropertyBarMode.AllCaliforniaViews]="V",r[u.PropertyBarMode.AllLayoutMolecules]="L",r[u.PropertyBarMode.AllStyleMolecules]="S",r[u.PropertyBarMode.AllStyleQuantums]="Q",r[u.PropertyBarMode.CaliforniaView]=":)";var o=s.getArrayForEnum(u.PropertyBarMode).map(function(e,o){var n={color:o===h.currentPropertyBar.viewModel.currentPropertyBarMode?"red":void 0,width:"1px","margin-right":"5px","margin-left":"5px",flex:"1 1 1px"};if(-1==t.findIndex(function(e){return e==o}))return l("button",{key:o,role:"button",pid:o.toString(),onclick:h.currentPropertyBar.setPropertyBarMode,styles:n},void 0!==r[o]?r[o]:e)});return l("div",{key:"n0",styles:e},o,0==h.propertyBarIndex?l("button",{key:"a",onclick:h.currentPropertyBar.logoutPopupClickHandler,styles:{flex:"0 0 auto",width:"auto"}},"✉…"):void 0)},this.setPropertyBarMode=function(e){h.currentPropertyBar.viewModel.currentPropertyBarMode=s.parseIntFromAttribute(e.target,"pid")},this.renderPropertyBarControls=function(){var e={flex:"1 1 auto",height:"100%",width:"100%"},t={width:"100%",height:"100%",overflow:"auto"};return l("div",{key:h.currentPropertyBar.viewModel.currentPropertyBarMode,styles:e},h.currentPropertyBar.viewModel.currentPropertyBarMode===u.PropertyBarMode.AllStyleAtoms?l("div",{key:u.PropertyBarMode.AllStyleAtoms,styles:t},h.currentPropertyBar.viewModel.styleAtomProjector.results.map(function(e){return e.renderMaquette()})):h.currentPropertyBar.viewModel.currentPropertyBarMode===u.PropertyBarMode.AllStyleQuantums?l("div",{key:u.PropertyBarMode.AllStyleQuantums,styles:t},h.currentPropertyBar.renderStyleQuantumControls(),h.currentPropertyBar.viewModel.styleQuantumProjector.results.map(function(e){return e.renderMaquette()})):h.currentPropertyBar.viewModel.currentPropertyBarMode===u.PropertyBarMode.AllStyleMolecules?l("div",{key:u.PropertyBarMode.AllStyleMolecules,styles:t},h.currentPropertyBar.viewModel.styleMoleculeProjector.results.map(function(e){return e.renderMaquette()})):h.currentPropertyBar.viewModel.currentPropertyBarMode===u.PropertyBarMode.StyleMolecule?l("div",{key:u.PropertyBarMode.AllStyleMolecules,styles:t},h.currentPropertyBar.renderStyleMoleculeControls(h)):h.currentPropertyBar.viewModel.currentPropertyBarMode===u.PropertyBarMode.LayoutAtoms?l("div",{key:u.PropertyBarMode.LayoutAtoms,styles:t},h.currentPropertyBar.viewModel.instanceableAtomProjector.results.map(function(e){return e.renderMaquette()})):h.currentPropertyBar.viewModel.currentPropertyBarMode===u.PropertyBarMode.LayoutMolecules?l("div",{key:u.PropertyBarMode.LayoutMolecules,styles:t},h.currentPropertyBar.viewModel.instanceableMoleculeProjector.results.map(function(e){return e.renderMaquette()})):h.currentPropertyBar.viewModel.currentPropertyBarMode===u.PropertyBarMode.AllLayoutMolecules?l("div",{key:u.PropertyBarMode.AllLayoutMolecules,styles:t},h.currentPropertyBar.viewModel.allLayoutMoleculesProjector.results.map(function(e){return e.renderMaquette()})):h.currentPropertyBar.viewModel.currentPropertyBarMode===u.PropertyBarMode.LayoutBase?l("div",{key:u.PropertyBarMode.LayoutBase,styles:t},h.currentPropertyBar.renderLayoutBaseControls()):h.currentPropertyBar.viewModel.currentPropertyBarMode===u.PropertyBarMode.AllCaliforniaViews?l("div",{key:u.PropertyBarMode.AllCaliforniaViews,styles:t},h.currentPropertyBar.renderCaliforniaViewControlsWhenAll(),h.currentPropertyBar.viewModel.allCaliforniaViewsProjector.results.map(function(e){return e.renderMaquette()})):h.currentPropertyBar.viewModel.currentPropertyBarMode===u.PropertyBarMode.CaliforniaView?l("div",{key:u.PropertyBarMode.CaliforniaView,styles:t},h.currentPropertyBar.renderCaliforniaViewControls()):void 0)},this.renderStyleMoleculeControls=function(e){if(0!=e.viewModel.selectedStyleMoleculeId){var t=e.viewModel.selectedStyleMoleculeId.toString(),r=n.clientData.CaliforniaProject.StyleMolecules.find(function(t){return t.StyleMoleculeId==e.viewModel.selectedStyleMoleculeId});if(void 0===r)return;var o=!1,i=void 0;void 0!==r.ClonedFromStyleId&&(o=!0,i=r.ClonedFromStyleId.toString());var a=r.StyleForLayoutId.toString(),s={height:"100%",width:"100%",display:"flex","flex-flow":"column nowrap"};return l("div",{key:u.PropertyBarMode.StyleMolecule,styles:s},l("div",{key:"0",styles:{flex:"0 0 auto"}},"Selected StyleMolecule #",e.viewModel.selectedStyleMoleculeId,o?l("div",{key:"0"},l("button",{key:"a",role:"button",mid:i,onclick:e.selectStyleMoleculeClickHandler},"ref style (#",i,")"),l("button",{disabled:!0,key:"b",role:"button",mid:t,onclick:e.createReferenceStyleMoleculeClickHandler},"make ref"),l("button",{disabled:!0,key:"c",role:"button",mid:t,onclick:e.syncToReferenceStyleClickHandler},"sync to ref"),l("button",{disabled:!0,key:"d",role:"button",mid:t,onclick:e.syncFromReferenceStyleClickHandler},"sync from ref")):e.renderStyleMoleculeReferenceSelector(),e.renderResponsiveDeviceSelectors(),e.renderStateModifierSelectors(),e.renderStyleAtomControls()),l("div",{key:"1",styles:{flex:"1 1 1px",overflow:"scroll"}},e.viewModel.styleAtomProjector.results.map(function(e){return e.renderMaquette()}),e.renderStyleMoleculeChildren(e)),l("div",{key:"2",styles:{flex:"0 0 auto"}},l("button",{key:"a",role:"button",lid:a,onclick:e.selectLayoutBaseClickHandler},"layout #",a)))}},this.syncToReferenceStyleClickHandler=function(e){n.controller.SyncStyleMoleculeToReferenceStyleJson(s.parseIntFromAttribute(e.target,"mid")).done(function(e){return n.router.updateData(e)})},this.syncFromReferenceStyleClickHandler=function(e){n.controller.SyncStyleMoleculeFromReferenceStyleJson(s.parseIntFromAttribute(e.target,"mid")).done(function(e){return n.router.updateData(e)})},this.createReferenceStyleMoleculeClickHandler=function(e){n.controller.SetStyleMoleculeAsReferenceStyleJson(s.parseIntFromAttribute(e.target,"mid")).done(function(e){return n.router.updateData(e)})},this.renderStyleMoleculeReferenceSelector=function(){return l("div",{key:"-1"},l("select",{disabled:!0,onchange:h.currentPropertyBar.styleMoleculeReferenceChangedHandler},n.clientData.CaliforniaProject.StyleMolecules.map(function(e){if(void 0===e.ClonedFromStyleId){var t=e.StyleMoleculeId.toString();return e.StyleMoleculeId==h.currentPropertyBar.viewModel.selectedStyleMoleculeId?l("option",{selected:!0,key:t,value:t},e.Name," #",e.StyleMoleculeId):l("option",{key:t,value:t},e.Name," #",e.StyleMoleculeId)}})))},this.styleMoleculeReferenceChangedHandler=function(e){var t=e.target,r=void 0;if(t.selectedIndex<t.childElementCount){var o=t.options[t.selectedIndex];r=parseInt(o.value)}void 0!==r?n.controller.SetStyleMoleculeReferenceJson(h.currentPropertyBar.viewModel.selectedStyleMoleculeId,r).done(function(e){return n.router.updateData(e)}):console.log(s.DEFAULT_EXCEPTION)},this.renderStyleMoleculeChildren=function(e){var t=[];return 0!=e.viewModel.selectedStyleMoleculeId&&(t=n.clientData.CaliforniaProject.StyleMolecules.filter(function(e){return e.ClonedFromStyleId==h.currentPropertyBar.viewModel.selectedStyleMoleculeId})),l("div",{key:"-4"}," affects styles:",t.map(function(t){var r=t.StyleMoleculeId.toString();return l("div",{key:r},l("button",{key:"a",role:"button",mid:r,onclick:e.selectStyleMoleculeClickHandler},"#",r))}))},this.renderBoxTreeForCaliforniaView=function(e){return a.createMapping(function(e){return e.CaliforniaViewId},function(t){var r=t.CaliforniaViewId.toString(),o=e.renderLayoutRowArray(e);return o.map(t.PlacedLayoutRows),{renderMaquette:function(){var n={display:"flex","flex-direction":"row","flex-wrap":"wrap","margin-right":"-15px","font-family":"sans-serif","border-bottom":"solid, 1px, black",width:"auto",height:"auto","padding-bottom":"123px"};return e.viewModel.selectedCaliforniaViewId==t.CaliforniaViewId?l("div",{key:r,styles:n},o.results.map(function(e){return e.renderMaquette()})):void 0},update:function(e){t=e,o.map(t.PlacedLayoutRows),r=t.CaliforniaViewId.toString()}}},function(e,t){t.update(e)})},this.renderLayoutRowArray=function(e){return a.createMapping(function(e){return e.LayoutBaseId},function(t){var r=t.LayoutBaseId.toString(),o=e.renderLayoutBoxArray(e),i=t.AllBoxesBelowRow.filter(function(e){return void 0===e.PlacedBoxInBoxId}),a=i.sort(function(e,t){return e.LayoutSortOrderKey<t.LayoutSortOrderKey?-1:e.LayoutSortOrderKey==t.LayoutSortOrderKey?0:1});o.map(a);var s=n.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==t.LayoutBaseId}).StyleMoleculeId,u=s.toString(),c="s"+u;return{renderMaquette:function(){var i={"flex-basis":"100%",width:"100%","max-width":"100%","padding-left":"15px","padding-right":"15px","background-color":"rgb(222, 222, 222)"},s={"flex-basis":"auto",width:"auto",color:"rgb(78, 78, 78)","padding-left":"15px","padding-right":"15px",margin:"0","background-color":"rgb(222, 222, 222)","text-decoration":"underline"},c={display:"flex","flex-direction":"row","flex-wrap":"nowrap","margin-right":"-15px",width:"auto",flex:"0 0 auto"},d={"font-size":"10px",color:"rgb(78, 78, 78)","background-color":"rgb(222, 222, 222)",width:"auto",flex:"0 0 auto",outline:void 0,"outline-offset":void 0},p=0!=n.state.preselectedLayoutBaseId,f=p&&n.state.preselectedLayoutBaseId==t.LayoutBaseId,y={"font-size":"10px",color:!p||f?"rgb(222, 222, 222)":"rgb(78, 78, 78)","background-color":"rgb(222, 222, 222)",width:"auto",flex:"0 0 auto",outline:!p||f?void 0:"solid 4px rgb(200,0,0)","outline-offset":!p||f?void 0:"-4px"},h={"font-size":"10px",color:f?"rgb(222,222,222)":p?"rgb(222, 222, 222)":"rgb(78, 78, 78)","background-color":f?"rgb(200,0,0)":"rgb(222, 222, 222)",width:"auto",flex:"0 0 auto",outline:f||p?void 0:"solid 1px rgb(200,0,0)","outline-offset":f||p?void 0:"-1px"},v={"flex-basis":"100%",width:"100%","max-width":"100%","padding-left":"15px","padding-right":"15px"};return l("div",{key:r,styles:i,lid:r,onmouseenter:e.layoutBaseMouseEnterHandler,onmouseleave:e.layoutBaseMouseLeaveHandler},l("div",{key:"-2",styles:c},l("p",{key:"-1",styles:s},"ROW"),l("button",{key:"a",styles:d,lid:r,onclick:e.insertLayoutBoxIntoBoxClickHandler},"+(B)"),l("button",{key:"b",styles:d,lid:r,onclick:e.selectLayoutBaseClickHandler},"…"),l("button",{key:"c",styles:d,lid:r,onclick:e.highlightLayoutBaseClickHandler},"?"),l("button",{key:"d",styles:d,mid:u,onclick:e.selectStyleMoleculeClickHandler},"S…"),l("button",{key:"e",styles:d,lid:r,onclick:e.saveLayoutMoleculeClickHandler},"!!!"),f||!p?l("button",{key:"f",styles:h,lid:r,onclick:e.moveLayoutRowBeforeRowClickHandler},"MV(R)"):l("button",{disabled:!0,key:"f0",styles:h,lid:r,onclick:e.moveLayoutRowBeforeRowClickHandler},"MV(R)"),f||!p?l("button",{key:"g",styles:h,lid:r,onclick:e.syncLayoutBaseStylesClickHandler},"ST(R)"):l("button",{disabled:!0,key:"g0",styles:h,lid:r,onclick:e.syncLayoutBaseStylesClickHandler},"ST(R)"),p&&!f?l("button",{key:"h",styles:y,lid:r,onclick:e.finalizeLayoutRequest},"$(B:R)"):l("button",{disabled:!0,key:"h0",styles:y,lid:r,onclick:e.finalizeLayoutRequest},"$(B:R)"),p?l("button",{disabled:!0,key:"i0",styles:d,lid:r,onclick:e.deleteLayoutBaseClickHandler},"X"):l("button",{key:"i",styles:d,lid:r,onclick:e.deleteLayoutBaseClickHandler},"X"),!p&&a.length>0?l("button",{key:"j",styles:d,lid:r,onclick:e.deleteBelowLayoutBaseClickHandler},"CLR"):l("button",{disabled:!0,key:"j0",styles:d,lid:r,onclick:e.deleteBelowLayoutBaseClickHandler},"CLR")),l("div",{key:"0",styles:v},o.results.map(function(e){return e.renderMaquette()})))},update:function(e){t=e,r=t.LayoutBaseId.toString(),i=t.AllBoxesBelowRow.filter(function(e){return void 0===e.PlacedBoxInBoxId}),a=i.sort(function(e,t){return e.LayoutSortOrderKey<t.LayoutSortOrderKey?-1:e.LayoutSortOrderKey==t.LayoutSortOrderKey?0:1}),o.map(a),s=n.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==t.LayoutBaseId}).StyleMoleculeId,u=s.toString(),c="s"+s}}},function(e,t){t.update(e)})},this.renderLayoutBoxArray=function(e){return a.createMapping(function(e){return e.LayoutBaseId},function(t){var r=t.LayoutBaseId.toString(),o=e.renderLayoutAtomArray(e),i=e.renderLayoutBoxArray(e),a=n.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==t.LayoutBaseId}).StyleMoleculeId,s=a.toString(),u="s"+a,c="",d="",p="",f="",y=!1,h=!1;return c=15*(t.Level+1)+"px",d=e.calculateBackgroundColorForLevel(t.Level),p=e.calculateColorForLevel(t.Level),f="solid 1px "+e.calculateBackgroundColorForLevel(t.Level+1),y=t.PlacedInBoxAtoms.length>0,h=t.Level%2!=0,{renderMaquette:function(){var a=n.pagePreview.mapAndRenderLayoutBoxContent(t,t.PlacedInBoxAtoms,o,t.PlacedInBoxBoxes,i),u={display:"flex","flex-direction":"row","flex-wrap":"wrap","margin-right":"-15px","background-color":"rgb(222, 222, 222)","border-bottom":y?f:void 0,"border-left":"solid 1px black",zoom:"1.05"},c={"padding-left":"15px","padding-right":"15px",width:"auto",flex:"0 0 auto",margin:"0","text-decoration":"underline",color:p,"background-color":d,"font-stretch":h?"extra-condensed":void 0},v={display:"flex","flex-direction":"row","flex-wrap":"nowrap","margin-left":"-15px","margin-right":"-15px"},m={"font-size":"10px",color:p,"background-color":d,width:"auto",flex:"0 0 auto",outline:void 0,"outline-offset":void 0},g=0!=n.state.preselectedLayoutBaseId,b=g&&n.state.preselectedLayoutBaseId==t.LayoutBaseId,w={"font-size":"10px",color:!g||b?d:p,"background-color":d,width:"auto",flex:"0 0 auto",outline:!g||b?void 0:"solid 4px rgb(200,0,0)","outline-offset":!g||b?void 0:"-4px"},C={"font-size":"10px",color:b?d:g?d:p,"background-color":b?"rgb(200,0,0)":d,width:"auto",flex:"0 0 auto",outline:b||g?void 0:"solid 1px rgb(200,0,0)","outline-offset":b||g?void 0:"-1px"};return l("div",{key:r,styles:u},l("div",{key:"0",styles:{"flex-basis":"100%",width:"100%","max-width":"100%","padding-left":"15px","padding-right":"15px","background-color":d},lid:r,onmouseenter:e.layoutBaseMouseEnterHandler,onmouseleave:e.layoutBaseMouseLeaveHandler},l("div",{key:"-2",styles:v},l("p",{key:"-1",styles:c},"BOX",h?void 0:" |"),l("button",{key:"a",styles:m,lid:r,onclick:e.insertLayoutAtomIntoBoxClickHandler},"+(A)"),l("button",{key:"b",styles:m,lid:r,onclick:e.insertLayoutBoxIntoBoxClickHandler},"+(B)"),l("button",{key:"c",styles:m,lid:r,onclick:e.selectLayoutBaseClickHandler},"…"),l("button",{key:"d",styles:m,lid:r,onclick:e.highlightLayoutBaseClickHandler},"?"),l("button",{key:"e",styles:m,mid:s,onclick:e.selectStyleMoleculeClickHandler},"S…"),l("button",{key:"f",styles:m,lid:r,onclick:e.saveLayoutMoleculeClickHandler},"!!!"),b||!g?l("button",{key:"g",styles:C,lid:r,onclick:e.moveLayoutBoxIntoRowClickHandler},"IN(R)"):l("button",{disabled:!0,key:"g0",styles:C,lid:r,onclick:e.moveLayoutBoxIntoRowClickHandler},"IN(R)"),b||!g?l("button",{key:"h",styles:C,lid:r,onclick:e.moveLayoutBoxIntoBoxClickHandler},"IN(B)"):l("button",{disabled:!0,key:"h0",styles:C,lid:r,onclick:e.moveLayoutBoxIntoBoxClickHandler},"IN(B)"),b||!g?l("button",{key:"i",styles:C,lid:r,onclick:e.moveLayoutBoxBeforeBoxClickHandler},"MV(A:B)"):l("button",{disabled:!0,key:"i0",styles:C,lid:r,onclick:e.moveLayoutBoxBeforeBoxClickHandler},"MV(A:B)"),b||!g?l("button",{key:"j",styles:C,lid:r,onclick:e.syncLayoutBaseStylesClickHandler},"ST(B)"):l("button",{disabled:!0,key:"j0",styles:C,lid:r,onclick:e.syncLayoutBaseStylesClickHandler},"ST(B)"),g&&!b?l("button",{key:"k",styles:w,lid:r,onclick:e.finalizeLayoutRequest},"$(A:B)"):l("button",{disabled:!0,key:"k0",styles:w,lid:r,onclick:e.finalizeLayoutRequest},"$(A:B)"),g?l("button",{disabled:!0,key:"l0",styles:m,lid:r,onclick:e.deleteLayoutBaseClickHandler},"X"):l("button",{key:"l",styles:m,lid:r,onclick:e.deleteLayoutBaseClickHandler},"X"),!g&&a.length>0?l("button",{key:"m",styles:m,lid:r,onclick:e.deleteBelowLayoutBaseClickHandler},"CLR"):l("button",{disabled:!0,key:"m0",styles:m,lid:r,onclick:e.deleteBelowLayoutBaseClickHandler},"CLR")),a))},update:function(o){t=o,r=t.LayoutBaseId.toString(),a=n.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==t.LayoutBaseId}).StyleMoleculeId,s=a.toString(),u="s"+a,c=15*(t.Level+1)+"px",d=e.calculateBackgroundColorForLevel(t.Level),p=e.calculateColorForLevel(t.Level),f="solid 1px "+e.calculateBackgroundColorForLevel(t.Level+1),y=t.PlacedInBoxAtoms.length>0,h=t.Level%2!=0}}},function(e,t){t.update(e)})},this.calculateColorForLevel=function(e){e=e<0?0:e;var t=e>2?222:78+12*e;return"rgb("+t+","+t+","+t+")"},this.calculateBackgroundColorForLevel=function(e){e=e<0?0:e;var t=200-22*e;return"rgb("+(t=t<0?0:t)+","+t+","+t+")"},this.renderLayoutAtomArray=function(e){return a.createMapping(function(e){return e.LayoutBaseId},function(t){var r=t.LayoutBaseId.toString(),o=t.HostedContentAtom.ContentAtomId.toString(),i=n.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==t.LayoutBaseId}),a=i.StyleMoleculeId,u=a.toString(),c="s"+u,d=15*(e.viewModel.deepestLevelActiveView+1-t.Level),p="",y="",h="";p=15*t.Level+15+"px",y=e.calculateColorForLevel(t.Level),h=e.calculateBackgroundColorForLevel(t.Level);var v=n.clientData.CaliforniaProject.ContentAtoms.find(function(e){return e.ContentAtomId==t.HostedContentAtom.ContentAtomId});return{renderMaquette:function(){var i=-1!=n.pagePreview.visibleLayoutAtomKeys.findIndex(function(e){return e===r}),a=n.state.hoveredPagePreviewLayoutBaseId==t.LayoutBaseId,p={display:"flex","flex-direction":"row","flex-wrap":"nowrap","margin-right":"-15px","border-left":"solid 1px black"},m={"text-decoration":"underline",flex:"0 0 auto",width:"auto","margin-left":"15px","padding-left":(d+(i?-1:0)).toString()+"px","padding-right":"15px",margin:"0",color:y,"background-color":h,"font-size":void 0,"min-width":void 0,"border-left":a?"solid 3px rgb(200,0,0)":i?"dashed 1px rgb(200,0,0)":void 0},g={"text-decoration":void 0,flex:"0 0 auto",width:"auto","margin-left":"15px","padding-left":void 0,"padding-right":"15px",margin:"0",color:void 0,"background-color":void 0,"font-size":"0.8rem","min-width":"200px"},b={"font-size":"10px",color:y,"background-color":h,width:"auto",flex:"0 0 auto",outline:void 0,"outline-offset":void 0},w=0!=n.state.preselectedLayoutBaseId,C=w&&n.state.preselectedLayoutBaseId==t.LayoutBaseId,x={"font-size":"10px",color:!w||C?h:y,"background-color":h,width:"auto",flex:"0 0 auto",outline:!w||C?void 0:"solid 4px rgb(200,0,0)","outline-offset":!w||C?void 0:"-4px"},P={"font-size":"10px",color:C?h:w?h:y,"background-color":C?"rgb(200,0,0)":h,width:"auto",flex:"0 0 auto",outline:C||w?void 0:"solid 1px rgb(200,0,0)","outline-offset":C||w?void 0:"-1px"},S="";if(v.ContentAtomType===f.ContentAtomType.Text&&void 0!==v.TextContent)S=v.TextContent.length>20?v.TextContent.substring(0,20)+"...":v.TextContent;else{if(v.ContentAtomType!==f.ContentAtomType.Link||void 0===v.Url)return void console.log(s.DEFAULT_EXCEPTION);S=v.Url.length>20?v.Url.substring(0,20)+"...":v.Url}var B=void 0,M=t.LayoutBaseId==e.viewModel.editedLayoutAtomId;return M&&(B=l("input",{key:"inp"+r,class:c,value:e.viewModel.tempContent,oninput:e.contentAtomInputHandler,onblur:e.contentAtomLostFocusHandler,onkeydown:e.contentAtomKeyDownHandler,styles:g,afterCreate:e.contentAtomAfterCreateHandler,cid:o})),l("div",{key:r,lid:r,styles:p,afterCreate:e.layoutAtomAfterCreateHandler,onmouseenter:e.layoutBaseMouseEnterHandler,onmouseleave:e.layoutBaseMouseLeaveHandler},M?B:l("p",{key:"0",styles:m,aid:r,cid:o,onclick:e.layoutAtomClickHandler},l("small",{key:"0",aid:r,cid:o},S,"ATOM")),l("button",{key:"a",styles:b,lid:r,onclick:e.selectLayoutBaseClickHandler},"…"),l("button",{key:"b",styles:b,lid:r,onclick:e.highlightLayoutBaseClickHandler},"?"),l("button",{key:"c",styles:b,mid:u,onclick:e.selectStyleMoleculeClickHandler},"S…"),C||!w?l("button",{key:"d",styles:P,lid:r,onclick:e.moveLayoutAtomIntoBoxClickHandler},"IN"):l("button",{disabled:!0,key:"d0",styles:P,lid:r,onclick:e.moveLayoutAtomIntoBoxClickHandler},"IN"),C||!w?l("button",{key:"e",styles:P,lid:r,onclick:e.moveLayoutAtomBeforeAtomClickHandler},"MV"):l("button",{disabled:!0,key:"e0",styles:P,lid:r,onclick:e.moveLayoutAtomBeforeAtomClickHandler},"MV"),C||!w?l("button",{key:"f",styles:P,lid:r,onclick:e.syncLayoutBaseStylesClickHandler},"ST(A)"):l("button",{disabled:!0,key:"f0",styles:P,lid:r,onclick:e.syncLayoutBaseStylesClickHandler},"ST(A)"),C||!w?l("button",{key:"g",styles:P,lid:r,onclick:e.createBoxForAtomInPlaceClickHandler},"+(B).IN"):l("button",{disabled:!0,key:"g0",styles:P,lid:r,onclick:e.createBoxForAtomInPlaceClickHandler},"+(B).IN"),w&&!C?l("button",{key:"h",styles:x,lid:r,onclick:e.finalizeLayoutRequest},"$(A:B)"):l("button",{disabled:!0,key:"h0",styles:x,lid:r,onclick:e.finalizeLayoutRequest},"$(A:B)"),w?l("button",{disabled:!0,key:"i0",styles:b,lid:r,onclick:e.deleteLayoutBaseClickHandler},"X"):l("button",{key:"i",styles:b,lid:r,onclick:e.deleteLayoutBaseClickHandler},"X"))},update:function(l){t=l,r=t.LayoutBaseId.toString(),o=t.HostedContentAtom.ContentAtomId.toString(),i=n.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==t.LayoutBaseId}),a=i.StyleMoleculeId,u=a.toString(),c="s"+a,d=15*(e.viewModel.deepestLevelActiveView-t.Level)+15,y=e.calculateColorForLevel(t.Level),p=15*t.Level+15+"px",h=e.calculateBackgroundColorForLevel(t.Level),v=n.clientData.CaliforniaProject.ContentAtoms.find(function(e){return e.ContentAtomId==t.HostedContentAtom.ContentAtomId})}}},function(e,t){t.update(e)})},this.contentAtomAfterCreateHandler=function(e,t,r,o,n){e.focus()},this.layoutBaseMouseEnterHandler=function(e){var t=e.target;n.state.hoveredBoxTreeLayoutBaseId=s.parseIntFromAttribute(t,"lid")},this.layoutBaseMouseLeaveHandler=function(e){n.state.hoveredBoxTreeLayoutBaseId=0},this.layoutAtomAfterCreateHandler=function(e,t,r,o,n){if(0==h.currentPropertyBar.propertyBarIndex){var i=e;h.currentPropertyBar._activeViewLayoutAtomDomNodeReferences[o.key]=i}},this.resetContentAtomEditMode=function(){n.pagePreview.resetEquationNumbersWhenModifying(!1),h.currentPropertyBar.viewModel.editedLayoutAtomId=0,h.currentPropertyBar.viewModel.tempContent="",h.currentPropertyBar.viewModel.tempOriginalContent=""},this.contentAtomLostFocusHandler=function(e){h.currentPropertyBar.updateContentAtom(s.parseIntFromAttribute(e.target,"cid"))},this.updateContentAtom=function(e){if(0!=h.currentPropertyBar.viewModel.editedLayoutAtomId&&h.currentPropertyBar.viewModel.tempContent!==h.currentPropertyBar.viewModel.tempOriginalContent)if(""!==h.currentPropertyBar.viewModel.tempContent){var t=n.clientData.CaliforniaProject.ContentAtoms.find(function(e){return e.InstancedOnLayoutId==h.currentPropertyBar.viewModel.editedLayoutAtomId});if(t.ContentAtomType===f.ContentAtomType.Text)t.TextContent=h.currentPropertyBar.viewModel.tempContent;else{if(t.ContentAtomType!==f.ContentAtomType.Link)return void console.log(s.DEFAULT_EXCEPTION);t.Url=h.currentPropertyBar.viewModel.tempContent}n.state.currentReadyState=d.ReadyState.Pending,n.controller.UpdateTextContentAtomJson(e,h.currentPropertyBar.viewModel.tempContent).done(function(e){n.router.updateData(e)}).always(function(e){return n.state.currentReadyState=d.ReadyState.Ok})}else n.clientData.CaliforniaProject.ContentAtoms.find(function(e){return e.InstancedOnLayoutId==h.currentPropertyBar.viewModel.editedLayoutAtomId}).TextContent=h.currentPropertyBar.viewModel.tempOriginalContent;h.currentPropertyBar.resetContentAtomEditMode()},this.contentAtomKeyDownHandler=function(e){13==e.keyCode?(e.preventDefault(),e.target.blur()):27==e.keyCode?(e.preventDefault(),n.clientData.CaliforniaProject.ContentAtoms.find(function(e){return e.InstancedOnLayoutId==h.currentPropertyBar.viewModel.editedLayoutAtomId}).TextContent=h.currentPropertyBar.viewModel.tempOriginalContent,h.currentPropertyBar.resetContentAtomEditMode(),e.target.blur()):void 0==e.keyCode&&e.preventDefault()},this.contentAtomInputHandler=function(e){h.currentPropertyBar.viewModel.tempContent=e.target.value,n.clientData.CaliforniaProject.ContentAtoms.find(function(e){return e.InstancedOnLayoutId==h.currentPropertyBar.viewModel.editedLayoutAtomId}).TextContent=h.currentPropertyBar.viewModel.tempContent},this.layoutAtomClickHandler=function(e){if(e.preventDefault(),n.state.currentReadyState!==d.ReadyState.Ok)return void console.log("pending...");if(n.state.currentSelectionMode===d.SelectionMode.Content){var t=s.parseIntFromAttribute(e.target,"cid"),r=s.parseIntFromAttribute(e.target,"aid"),o=n.clientData.CaliforniaProject.ContentAtoms.find(function(e){return e.ContentAtomId==t});if(h.currentPropertyBar.viewModel.tempContent="",o.ContentAtomType===f.ContentAtomType.Text)h.currentPropertyBar.viewModel.tempContent=o.TextContent;else{if(o.ContentAtomType!==f.ContentAtomType.Link)return void console.log(s.DEFAULT_EXCEPTION);h.currentPropertyBar.viewModel.tempContent=o.Url}h.currentPropertyBar.viewModel.tempOriginalContent=h.currentPropertyBar.viewModel.tempContent,h.currentPropertyBar.viewModel.editedLayoutAtomId=r}},this.renderStateModifierSelectors=function(){for(var e={display:"flex","flex-flow":"row nowrap"},t=[],r=n.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleMoleculeId==h.currentPropertyBar.viewModel.selectedStyleMoleculeId}),o=0;o<r.MappedStyleAtoms.length;o++)!function(e){var o=r.MappedStyleAtoms[e].StateModifier;void 0===o&&(o=""),-1==t.findIndex(function(e){return e===o})&&t.push(o)}(o);for(var i=[],o=0;o<t.length;o++){var a=t[o],s={flex:"0 0 auto","background-color":a==h.currentPropertyBar.viewModel.selectedStateModifier?"red":void 0};i.push(l("button",{key:a,role:"button",mid:a,onclick:h.currentPropertyBar.stateModifierClickHandler,styles:s},a))}return l("div",{key:"-2",styles:e},i)},this.stateModifierClickHandler=function(e){var t=s.parseStringFromAttribute(e.target,"mid");t===h.currentPropertyBar.viewModel.selectedStateModifier?h.currentPropertyBar.viewModel.selectedStateModifier="":h.currentPropertyBar.viewModel.selectedStateModifier=t},this.renderResponsiveDeviceSelectors=function(){return l("div",{key:"-3",styles:{display:"flex","flex-flow":"row wrap"}},void 0!==n.clientData.CaliforniaProject.ResponsiveDevices?n.clientData.CaliforniaProject.ResponsiveDevices.map(function(e){var t={flex:"0 0 auto","background-color":e.ResponsiveDeviceId==h.currentPropertyBar.viewModel.selectedResponsiveDeviceId?"red":void 0},r=e.ResponsiveDeviceId.toString();return l("button",{key:r,role:"button",rid:r,onclick:h.currentPropertyBar.selectResponsiveDeviceClickHandler,styles:t},e.NameShort)}):void 0)},this.selectResponsiveDeviceClickHandler=function(e){var t=s.parseIntFromAttribute(e.target,"rid");h.currentPropertyBar.viewModel.selectedResponsiveDeviceId==t?h.currentPropertyBar.viewModel.selectedResponsiveDeviceId=n.state.noneResponsiveDeviceId:h.currentPropertyBar.viewModel.selectedResponsiveDeviceId=t},this.renderStyleAtomControls=function(){return l("div",{key:"-1"},l("select",{key:"0",onchange:h.currentPropertyBar.styleAtomTypeChangedHandler},s.getArrayForEnum(c.StyleAtomType).map(function(e,t){return t===h.currentPropertyBar.viewModel.selectedStyleAtomType?l("option",{selected:!0,key:t,value:t.toString()},e):l("option",{key:t,value:t.toString()},e)})),l("input",{key:"-1",placeholder:"optional :hover,:before,...",value:h.currentPropertyBar.viewModel.tempPseudoSelector,oninput:h.currentPropertyBar.pseudoSelectorInputHandler}),l("button",{key:"a",role:"button",onclick:h.currentPropertyBar.createStyleAtomForMoleculeClickHandler},"+"))},this.pseudoSelectorInputHandler=function(e){h.currentPropertyBar.viewModel.tempPseudoSelector=e.target.value},this.styleAtomTypeChangedHandler=function(e){var t=e.target,r=void 0;if(t.selectedIndex<t.childElementCount){var o=t.options[t.selectedIndex];r=parseInt(o.value)}void 0!==r?h.currentPropertyBar.viewModel.selectedStyleAtomType=r:console.log(s.DEFAULT_EXCEPTION)},this.createStyleAtomForMoleculeClickHandler=function(e){""!==h.currentPropertyBar.viewModel.tempPseudoSelector&&(h.currentPropertyBar.viewModel.selectedStateModifier=h.currentPropertyBar.viewModel.tempPseudoSelector),n.controller.CreateStyleAtomForMoleculeJson(h.currentPropertyBar.viewModel.selectedStyleMoleculeId,h.currentPropertyBar.viewModel.selectedStyleAtomType,h.currentPropertyBar.viewModel.selectedResponsiveDeviceId,h.currentPropertyBar.viewModel.selectedStateModifier).done(function(e){return n.router.updateData(e)}),h.currentPropertyBar.viewModel.tempPseudoSelector=""},this.renderStyleQuantumControls=function(){return l("div",{key:"0"},l("input",{key:"-3",value:h.currentPropertyBar.viewModel.tempQuantumName,oninput:h.currentPropertyBar.quantumNameInputHandler}),l("input",{key:"-2",value:h.currentPropertyBar.viewModel.tempCssPropertyName,oninput:h.currentPropertyBar.cssPropertyNameInputHandler}),l("input",{key:"-1",value:h.currentPropertyBar.viewModel.tempCssValue,oninput:h.currentPropertyBar.cssValueInputHandler}),l("button",{key:"a",role:"button",onclick:h.currentPropertyBar.createStyleQuantumClickHandler},"✔"),l("button",{key:"b",role:"button",onclick:h.currentPropertyBar.showAllCssPropertiesForQuantumClickHandler},"?"))},this.showAllCssPropertiesForQuantumClickHandler=function(e){h.currentPropertyBar.displayPopup(e.target,u.PopupMode.AllCssPropertiesForQuantum)},this.createStyleQuantumClickHandler=function(e){n.controller.CreateStyleQuantumJson(n.clientData.CaliforniaProject.CaliforniaProjectId,h.currentPropertyBar.viewModel.tempQuantumName,h.currentPropertyBar.viewModel.tempCssPropertyName,h.currentPropertyBar.viewModel.tempCssValue).done(function(e){return n.router.updateData(e)}),h.currentPropertyBar.resetAddQuantumState()},this.resetAddQuantumState=function(){h.currentPropertyBar.viewModel.tempQuantumName="Quantum",h.currentPropertyBar.viewModel.tempCssPropertyName="",h.currentPropertyBar.viewModel.tempCssValue=""},this.quantumNameInputHandler=function(e){h.currentPropertyBar.viewModel.tempQuantumName=e.target.value},this.renderStyleValueArray=function(e){return a.createMapping(function(e){return e.StyleValueId},function(t){var r=t.StyleValueId.toString(),o={flex:"0 0 auto",width:"auto",height:"1rem"},n={outline:""===t.CssValue?"solid white 1px":void 0,"outline-offset":""===t.CssValue?"-1px":void 0,flex:"0 0 auto",width:"auto",margin:"0"};return{renderMaquette:function(){return l("div",{key:r,exitAnimation:e.styleElementExitAnimation,styles:{display:"flex","flex-flow":"row nowrap"}},l("p",{styles:n},t.CssProperty,": ",t.CssValue),l("button",{key:"a",role:"button",vid:r,onclick:e.deleteStyleValueClickHandler,styles:o},"X"),l("button",{key:"b",role:"button",aid:t.StyleAtomId.toString(),vid:r,onclick:e.updateCssValueClickHandler,styles:o},"Edit"))},update:function(e){t=e,r=t.StyleValueId.toString()}}},function(e,t){t.update(e)})},this.renderStyleQuantumArrayForStyleAtom=function(){return a.createMapping(function(e){return e.StyleQuantumId},function(e){var t=e.StyleQuantumId.toString();return{renderMaquette:function(){return l("div",{key:t},l("p",{styles:{margin:"0"}},e.Name,": ",e.CssProperty," (",e.CssValue,")"))},update:function(r){e=r,t=e.StyleQuantumId.toString()}}},function(e,t){t.update(e)})},this.renderStyleAtomArray=function(e){return a.createMapping(function(e){return e.StyleAtomId},function(t){var r=t.StyleAtomId.toString(),o=e.renderStyleValueArray(e),i=e.renderStyleQuantumArrayForStyleAtom();return void 0!==t.AppliedValues?o.map(t.AppliedValues):o.map([]),void 0!==t.MappedQuantums?i.map(t.MappedQuantums.map(function(e){return e.StyleQuantum})):i.map([]),{renderMaquette:function(){var a=!0;if(e.viewModel.currentPropertyBarMode===u.PropertyBarMode.StyleMolecule){a=-1!=n.clientData.CaliforniaProject.StyleMolecules.find(function(t){return t.StyleMoleculeId==e.viewModel.selectedStyleMoleculeId}).MappedStyleAtoms.findIndex(function(r){return r.ResponsiveDeviceId==e.viewModel.selectedResponsiveDeviceId&&r.StyleMoleculeAtomMappingId==t.MappedToMoleculeId&&(void 0===r.StateModifier&&""===e.viewModel.selectedStateModifier||r.StateModifier===e.viewModel.selectedStateModifier)})}var s={display:a?void 0:"none",width:"100%",height:"auto"};return l("div",{key:r,exitAnimation:e.styleElementExitAnimation,styles:s},l("p",{key:"0",styles:{margin:"0"}},"(#",r,")",t.Name,":"),o.results.map(function(e){return e.renderMaquette()}),l("button",{key:"a",role:"button",aid:r,onclick:e.createCssPropertyForAtomClickHandler},"+"),l("button",{key:"b",role:"button",aid:r,onclick:e.moveStyleAtomPopupClickHandler},"=>"),t.IsDeletable?l("button",{key:"b0",role:"button",aid:r,onclick:e.deleteStyleAtomClickHandler},"X"):l("button",{disabled:!0,key:"b1",role:"button",aid:r},"X"),t.MappedQuantums.length>0?l("p",{key:"-1"},"quantums:"):void 0," ",i.results.map(function(e){return e.renderMaquette()}))},update:function(e){t=e,o.map(e.AppliedValues),i.map(e.MappedQuantums.map(function(e){return e.StyleQuantum}))}}},function(e,t){t.update(e)})},this.moveStyleAtomPopupClickHandler=function(e){h.currentPropertyBar.viewModel.selectedStyleAtomIdForPopup=s.parseIntFromAttribute(e.target,"aid"),h.currentPropertyBar.displayPopup(e.target,u.PopupMode.MoveStyleAtom)},this.createCssPropertyForAtomClickHandler=function(e){h.currentPropertyBar.viewModel.selectedStyleAtomId=s.parseIntFromAttribute(e.target,"aid"),h.currentPropertyBar.displayPopup(e.target,u.PopupMode.AddCssProperty),h.currentPropertyBar.displayPopup(e.target,u.PopupMode.AllCssProperties)},this.deleteStyleAtomClickHandler=function(e){n.controller.DeleteStyleAtomJson(s.parseIntFromAttribute(e.target,"aid")).done(function(e){return n.router.updateData(e)})},this.updateCssValueClickHandler=function(e){var t=s.parseIntFromAttribute(e.target,"vid"),r=s.parseIntFromAttribute(e.target,"aid");h.currentPropertyBar.viewModel.selectedStyleValueId=t,h.currentPropertyBar.viewModel.selectedStyleAtomId=r;var o=n.clientData.CaliforniaProject.StyleValues.find(function(e){return e.StyleValueId==t});h.currentPropertyBar.viewModel.tempCssValue=o.CssValue,h.currentPropertyBar.viewModel.tempCssPropertyName=o.CssProperty,h.currentPropertyBar.displayPopup(e.target,u.PopupMode.UpdateCssValue)},this.deleteStyleValueClickHandler=function(e){n.controller.DeleteStyleValueJson(s.parseIntFromAttribute(e.target,"vid")).done(function(e){return n.router.updateData(e)})},this.renderAddCssPropertyPopup=function(){var e=h.viewModel.currentPopupMode===u.PopupMode.AddCssProperty||h.viewModel.currentPopupMode===u.PopupMode.AllCssProperties;return l("div",{id:h.currentPropertyBar.propertyBarIndex+"PopupMode"+u.PopupMode[u.PopupMode.AddCssProperty],styles:{display:e?"block":"none","z-index":"31","background-color":"white",border:"solid black 1px"}},l("div",{styles:{display:"flex","flex-flow":"row nowrap","min-width":"250px"}},l("button",{key:"a",role:"button",styles:{flex:"1 0 10%",width:"10%","min-width":"10%"},onclick:h.currentPropertyBar.saveCssPropertyForAtomClickHandler},"✔"),l("button",{key:"b",role:"button",styles:{flex:"1 0 10%",width:"10%","min-width":"10%"},onclick:h.currentPropertyBar.cancelAddCssPropertyForAtomClickHandler},"x")),l("div",null,l("input",{key:"-1",value:h.currentPropertyBar.viewModel.tempCssPropertyName,oninput:h.currentPropertyBar.cssPropertyNameInputHandler}),l("button",{key:"a",role:"button",onclick:h.currentPropertyBar.showAllCssPropertiesClickHandler},"?")))},this.renderAllCssPropertiesForQuantumPopup=function(){var e=h.viewModel.currentPopupMode===u.PopupMode.AllCssPropertiesForQuantum;return l("div",{id:h.currentPropertyBar.propertyBarIndex+"PopupMode"+u.PopupMode[u.PopupMode.AllCssPropertiesForQuantum],styles:{display:e?"block":"none","z-index":"31","background-color":"white",border:"solid black 1px",height:"300px",overflow:"scroll"}},l("div",{styles:{display:"flex","flex-flow":"row nowrap","min-width":"250px"}},l("button",{key:"a",role:"button",styles:{flex:"1 0 10%",width:"10%","min-width":"10%"},onclick:h.currentPropertyBar.cancelUpdateCssPropertyForQuantumClickHandler},"x")),n.clientData.AllCssProperties.map(function(e){return l("div",{key:e},e,l("button",{key:"a",role:"button",cid:e,onclick:h.currentPropertyBar.setSelectedCssPropertyForQuantumClickHandler},"✔"))}))},this.setSelectedCssPropertyForQuantumClickHandler=function(e){h.currentPropertyBar.viewModel.tempCssPropertyName=s.parseStringFromAttribute(e.target,"cid"),h.currentPropertyBar.closePopup()},this.cancelUpdateCssPropertyForQuantumClickHandler=function(e){h.currentPropertyBar.closePopup()},this.insertLayoutRowIntoViewPopup=function(){var e=h.viewModel.currentPopupMode===u.PopupMode.InsertLayoutRowIntoView,t=[];if(e){var r=n.clientData.CaliforniaProject.CaliforniaViews.find(function(e){return e.IsInternal&&"[Internal] Instanceable Layout Rows"===e.Name});t.push.apply(t,r.PlacedLayoutRows);for(var o=n.clientData.CaliforniaProject.CaliforniaViews.find(function(e){return e.IsInternal&&"[Internal] User Layout Molecules"===e.Name}),i=1;i<o.PlacedLayoutRows.length;i++)t.push(o.PlacedLayoutRows[i])}return l("div",{id:h.currentPropertyBar.propertyBarIndex+"PopupMode"+u.PopupMode[u.PopupMode.InsertLayoutRowIntoView],styles:{display:e?"block":"none","z-index":"31","background-color":"white",border:"solid black 1px",height:"300px",overflow:"scroll"}},l("div",{styles:{display:"flex","flex-flow":"row nowrap","min-width":"250px"}},l("button",{key:"a",role:"button",styles:{flex:"1 0 10%",width:"10%","min-width":"10%"},onclick:h.currentPropertyBar.cancelInsertLayoutRowIntoViewClickHandler},"x")),t.map(function(e){return l("div",{key:e.LayoutBaseId},l("button",{styles:{width:"auto",margin:"0"},key:"a",lid:e.LayoutBaseId.toString(),onclick:h.currentPropertyBar.insertSelectedLayoutRowIntoViewClickHandler,onmouseenter:h.currentPropertyBar.insertRowShowPreviewHandler,onmouseleave:h.currentPropertyBar.insertRowHidePreviewHandler},"✔"),l("p",{key:"0",styles:{"-webkit-user-select":"none",width:"auto",margin:"0",float:"left"},lid:e.LayoutBaseId.toString(),ontouchstart:h.currentPropertyBar.insertRowShowPreviewHandler,ontouchend:h.currentPropertyBar.insertRowHidePreviewHandler},e.LayoutBaseId))}))},this.insertSelectedLayoutRowIntoViewClickHandler=function(e){var t=s.parseIntFromAttribute(e.target,"lid");n.controller.CreateLayoutRowForViewJson(h.currentPropertyBar.viewModel.selectedCaliforniaViewId,t).done(function(e){return n.router.updateData(e)}),n.state.lastCommand=c.CaliforniaEvent.CreateLayoutRowForView,n.state.lastCaliforniaEventData=[h.currentPropertyBar.viewModel.selectedCaliforniaViewId,t],h.currentPropertyBar.closePopup()},this.cancelInsertLayoutRowIntoViewClickHandler=function(e){h.currentPropertyBar.closePopup()},this.insertLayoutAtomIntoBoxPopup=function(){var e=h.viewModel.currentPopupMode===u.PopupMode.InsertLayoutAtomIntoBox,t=[];if(e){var r=n.clientData.CaliforniaProject.CaliforniaViews.find(function(e){return e.IsInternal&&"[Internal] Instanceable Layout Atoms"===e.Name}),o=r.PlacedLayoutRows[0].AllBoxesBelowRow.find(function(e){return e.PlacedInBoxAtoms.length>0});t.push.apply(t,o.PlacedInBoxAtoms)}return l("div",{id:h.currentPropertyBar.propertyBarIndex+"PopupMode"+u.PopupMode[u.PopupMode.InsertLayoutAtomIntoBox],styles:{display:e?"block":"none","z-index":"31","background-color":"white",border:"solid black 1px",height:"300px",overflow:"scroll"}},l("div",{styles:{display:"flex","flex-flow":"row nowrap","min-width":"250px"}},l("button",{key:"a",role:"button",styles:{flex:"1 0 10%",width:"10%","min-width":"10%"},onclick:h.currentPropertyBar.cancelInsertLayoutAtomIntoBoxClickHandler},"x")),t.map(function(e){var t="";if(e.HostedContentAtom.ContentAtomType===f.ContentAtomType.Text)t=e.HostedContentAtom.TextContent;else{if(e.HostedContentAtom.ContentAtomType!==f.ContentAtomType.Link)return void console.log(s.DEFAULT_EXCEPTION);t=e.HostedContentAtom.Url}return l("div",{key:e.LayoutBaseId},l("button",{styles:{width:"auto",margin:"0"},key:"a",lid:e.LayoutBaseId.toString(),onclick:h.currentPropertyBar.insertSelectedLayoutAtomIntoBoxClickHandler,onmouseenter:h.currentPropertyBar.insertAtomShowPreviewHandler,onmouseleave:h.currentPropertyBar.insertAtomHidePreviewHandler},"✔"),l("p",{key:"0",styles:{"-webkit-user-select":"none",width:"auto",margin:"0",float:"left"},lid:e.LayoutBaseId.toString(),ontouchstart:h.currentPropertyBar.insertAtomShowPreviewHandler,ontouchend:h.currentPropertyBar.insertAtomHidePreviewHandler},e.LayoutBaseId," ",t))}))},this.insertSelectedLayoutAtomIntoBoxClickHandler=function(e){var t=n.state.selectedLayoutBaseId;n.controller.CreateLayoutAtomForBoxJson(t,s.parseIntFromAttribute(e.target,"lid")).done(function(e){n.router.updateData(e),n.projector.renderNow();var r=n.clientData.CaliforniaProject.LayoutMolecules.find(function(e){return e.LayoutBaseId==t}).PlacedInBoxAtoms;h.currentPropertyBar.viewModel.editedLayoutAtomId=r[r.length-1].LayoutBaseId}),h.currentPropertyBar.closePopup()},this.cancelInsertLayoutAtomIntoBoxClickHandler=function(e){h.currentPropertyBar.closePopup()},this.displayPopup=function(e,t){var r=null;if(null!==(r=document.getElementById(h.currentPropertyBar.propertyBarIndex+"PopupMode"+u.PopupMode[t]))){h.viewModel.currentPopupMode=t;new p.default(e,r,{placement:"bottom-end",modifiers:{preventOverflow:{boundariesElement:document.body}}});return void n.projector.renderNow()}console.log(s.DEFAULT_EXCEPTION)},this.closePopup=function(){h.viewModel.currentPopupMode=u.PopupMode.None,h.viewModel.currentSecondaryPopupMode=u.PopupSecondaryMode.None},this.insertLayoutBoxIntoBoxPopup=function(){var e=h.viewModel.currentPopupMode===u.PopupMode.SelectBox,t=[];if(e){var r=n.clientData.CaliforniaProject.CaliforniaViews.find(function(e){return e.IsInternal&&"[Internal] Instanceable Layout Rows"===e.Name}),o=r.PlacedLayoutRows[0].AllBoxesBelowRow,i=o.find(function(e){return void 0===e.PlacedBoxInBoxId}),a=o.find(function(e){return e.PlacedBoxInBoxId==i.LayoutBaseId});t.push(a);var s=n.clientData.CaliforniaProject.CaliforniaViews.find(function(e){return e.IsInternal&&"[Internal] User Layout Molecules"===e.Name}),c=s.PlacedLayoutRows[0].AllBoxesBelowRow.filter(function(e){return void 0===e.PlacedBoxInBoxId});t.push.apply(t,c)}return l("div",{id:h.currentPropertyBar.propertyBarIndex+"PopupMode"+u.PopupMode[u.PopupMode.SelectBox],styles:{display:e?"block":"none","z-index":"31","background-color":"white",border:"solid black 1px",height:"300px",overflow:"scroll"}},l("div",{styles:{display:"flex","flex-flow":"row nowrap","min-width":"250px"}},l("button",{key:"a",role:"button",styles:{flex:"1 0 10%",width:"10%","min-width":"10%"},onclick:h.currentPropertyBar.cancelInsertLayoutBoxIntoBoxClickHandler},"x")),t.map(function(e){return l("div",{key:e.LayoutBaseId},l("button",{styles:{width:"auto",margin:"0"},key:"a",role:"button",lid:e.LayoutBaseId.toString(),onclick:h.currentPropertyBar.insertSelectedLayoutBoxIntoBoxOrRowClickHandler,onmouseenter:h.currentPropertyBar.insertBoxShowPreviewHandler,onmouseleave:h.currentPropertyBar.insertBoxHidePreviewHandler},"✔"),l("p",{key:"0",styles:{"-webkit-user-select":"none",width:"auto",margin:"0",float:"left"},lid:e.LayoutBaseId.toString(),ontouchstart:h.currentPropertyBar.insertBoxShowPreviewHandler,ontouchend:h.currentPropertyBar.insertBoxHidePreviewHandler},e.LayoutBaseId))}))},this.insertRowShowPreviewHandler=function(e){var r=e.target,o=s.parseIntFromAttribute(r,"lid");n.state.hoveredInsertLayoutBaseId=o;var i=n.clientData.CaliforniaProject.LayoutMolecules.find(function(e){return e.LayoutBaseId==o});n.state.backupSortOrder=i.LayoutSortOrderKey,i.LayoutSortOrderKey=t.VERY_HIGH_VALUE;var a=n.clientData.CaliforniaProject.CaliforniaViews.find(function(e){return e.CaliforniaViewId==h.currentPropertyBar.viewModel.selectedCaliforniaViewId});a.PlacedLayoutRows.push(i),n.router.setActiveCaliforniaView(a)},this.insertRowHidePreviewHandler=function(e){var t=n.clientData.CaliforniaProject.CaliforniaViews.find(function(e){return e.CaliforniaViewId==h.currentPropertyBar.viewModel.selectedCaliforniaViewId}),r=t.PlacedLayoutRows.findIndex(function(e){return e.LayoutBaseId==n.state.hoveredInsertLayoutBaseId});if(-1!=r){var o=t.PlacedLayoutRows.splice(r,1)[0];void 0!==n.state.backupSortOrder?o.LayoutSortOrderKey=n.state.backupSortOrder:console.log(s.DEFAULT_EXCEPTION),n.state.backupSortOrder=void 0,n.state.hoveredInsertLayoutBaseId=0,n.router.setActiveCaliforniaView(t)}else console.log(s.DEFAULT_EXCEPTION)},this.insertBoxShowPreviewHandler=function(e){var r=e.target,o=s.parseIntFromAttribute(r,"lid");n.state.hoveredInsertLayoutBaseId=o;var i=n.clientData.CaliforniaProject.LayoutMolecules.find(function(e){return e.LayoutBaseId==o});n.state.backupSortOrder=i.LayoutSortOrderKey,i.LayoutSortOrderKey=t.VERY_HIGH_VALUE;var a=n.clientData.CaliforniaProject.LayoutMolecules.find(function(e){return e.LayoutBaseId==n.state.selectedLayoutBaseId});a.LayoutType===c.LayoutType.Box?a.PlacedInBoxBoxes.push(i):a.LayoutType===c.LayoutType.Row?a.AllBoxesBelowRow.push(i):console.log(s.DEFAULT_EXCEPTION)},this.insertBoxHidePreviewHandler=function(e){var t=n.clientData.CaliforniaProject.LayoutMolecules.find(function(e){return e.LayoutBaseId==n.state.selectedLayoutBaseId});if(t.LayoutType===c.LayoutType.Box){var r=t,o=r.PlacedInBoxBoxes.findIndex(function(e){return e.LayoutBaseId==n.state.hoveredInsertLayoutBaseId});if(-1!=o){var i=r.PlacedInBoxBoxes.splice(o,1)[0];void 0!==n.state.backupSortOrder?i.LayoutSortOrderKey=n.state.backupSortOrder:console.log(s.DEFAULT_EXCEPTION),n.state.backupSortOrder=void 0,n.state.hoveredInsertLayoutBaseId=0}else console.log(s.DEFAULT_EXCEPTION)}else if(t.LayoutType===c.LayoutType.Row){var a=t,o=a.AllBoxesBelowRow.findIndex(function(e){return e.LayoutBaseId==n.state.hoveredInsertLayoutBaseId});if(-1!=o){var i=a.AllBoxesBelowRow.splice(o,1)[0];void 0!==n.state.backupSortOrder?i.LayoutSortOrderKey=n.state.backupSortOrder:console.log(s.DEFAULT_EXCEPTION),n.state.backupSortOrder=void 0,n.state.hoveredInsertLayoutBaseId=0}else console.log(s.DEFAULT_EXCEPTION)}else console.log(s.DEFAULT_EXCEPTION)},this.insertAtomShowPreviewHandler=function(e){var r=e.target,o=s.parseIntFromAttribute(r,"lid");n.state.hoveredInsertLayoutBaseId=o;var i=n.clientData.CaliforniaProject.LayoutMolecules.find(function(e){return e.LayoutBaseId==o});n.state.backupSortOrder=i.LayoutSortOrderKey,i.LayoutSortOrderKey=t.VERY_HIGH_VALUE,n.clientData.CaliforniaProject.LayoutMolecules.find(function(e){return e.LayoutBaseId==n.state.selectedLayoutBaseId}).PlacedInBoxAtoms.push(i)},this.insertAtomHidePreviewHandler=function(e){var t=n.clientData.CaliforniaProject.LayoutMolecules.find(function(e){return e.LayoutBaseId==n.state.selectedLayoutBaseId}),r=t.PlacedInBoxAtoms.findIndex(function(e){return e.LayoutBaseId==n.state.hoveredInsertLayoutBaseId});if(-1!=r){var o=t.PlacedInBoxAtoms.splice(r,1)[0];void 0!==n.state.backupSortOrder?o.LayoutSortOrderKey=n.state.backupSortOrder:console.log(s.DEFAULT_EXCEPTION),n.state.backupSortOrder=void 0,n.state.hoveredInsertLayoutBaseId=0}else console.log(s.DEFAULT_EXCEPTION)},this.insertSelectedLayoutBoxIntoBoxOrRowClickHandler=function(e){if(h.viewModel.currentSecondaryPopupMode===u.PopupSecondaryMode.SelectBoxIntoBox){var t=s.parseIntFromAttribute(e.target,"lid"),r=n.state.selectedLayoutBaseId;n.controller.CreateLayoutBoxForBoxOrRowJson(r,t).done(function(e){n.router.updateData(e)}),n.state.lastCommand=c.CaliforniaEvent.CreateLayoutBoxForBoxOrRow,n.state.lastCaliforniaEventData=[n.state.selectedLayoutBaseId,t]}else h.viewModel.currentSecondaryPopupMode===u.PopupSecondaryMode.SelectBoxIntoBoxAtomInPlace?n.controller.CreateLayoutBoxForAtomInPlaceJson(n.state.selectedLayoutBaseId,s.parseIntFromAttribute(e.target,"lid")).done(function(e){n.router.updateData(e)}):console.log(s.DEFAULT_EXCEPTION);h.currentPropertyBar.closePopup()},this.cancelInsertLayoutBoxIntoBoxClickHandler=function(e){h.currentPropertyBar.closePopup()},this.moveLayoutMoleculeIntoLayoutMolecule=function(){n.controller.MoveLayoutMoleculeIntoLayoutMoleculeJson(n.state.preselectedLayoutBaseId,n.state.selectedLayoutBaseId).done(function(e){return n.router.updateData(e)}),h.currentPropertyBar.closePopup()},this.moveLayoutMoleculeBeforeLayoutMolecule=function(){n.controller.MoveLayoutMoleculeNextToLayoutMoleculeJson(n.state.preselectedLayoutBaseId,n.state.selectedLayoutBaseId,!0).done(function(e){return n.router.updateData(e)}),h.currentPropertyBar.closePopup()},this.syncLayoutMoleculeStylesImitatingReferenceLayout=function(){n.controller.SyncLayoutStylesImitatingReferenceLayoutJson(n.state.selectedLayoutBaseId,n.state.preselectedLayoutBaseId).done(function(e){return n.router.updateData(e)}),h.currentPropertyBar.closePopup()},this.moveStyleAtomToResponsiveDevicePopup=function(){var e=u.PopupMode.MoveStyleAtom,t=h.viewModel.currentPopupMode===e,r=void 0!==n.clientData.CaliforniaProject&&void 0!==n.clientData.CaliforniaProject.ResponsiveDevices;return l("div",{id:h.currentPropertyBar.propertyBarIndex+"PopupMode"+u.PopupMode[e],styles:{display:t?"block":"none","z-index":"31","background-color":"white",border:"solid black 1px"}},l("div",{styles:{display:"flex","flex-flow":"row nowrap","min-width":"250px"}},l("button",{key:"a",role:"button",styles:{flex:"1 0 10%",width:"10%","min-width":"10%"},onclick:h.currentPropertyBar.cancelMoveStyleAtomClickHandler},"x")),r?n.clientData.CaliforniaProject.ResponsiveDevices.map(function(e){var t=e.ResponsiveDeviceId.toString(),r=h.currentPropertyBar.viewModel.selectedResponsiveDeviceId==e.ResponsiveDeviceId;return l("div",{key:t},r?l("button",{disabled:!0,key:"a0",rid:t,onclick:h.currentPropertyBar.moveStyleAtomToResponsiveDeviceClickHandler},e.NameShort):l("button",{key:"a",rid:t,onclick:h.currentPropertyBar.moveStyleAtomToResponsiveDeviceClickHandler},e.NameShort))}):void 0)},this.moveStyleAtomToResponsiveDeviceClickHandler=function(e){var t=s.parseIntFromAttribute(e.target,"rid");n.controller.MoveStyleAtomToResponsiveDeviceJson(h.currentPropertyBar.viewModel.selectedStyleAtomIdForPopup,t).done(function(e){n.router.updateData(e),h.currentPropertyBar.viewModel.selectedResponsiveDeviceId=t}),h.currentPropertyBar.viewModel.selectedStyleAtomIdForPopup=0,h.currentPropertyBar.closePopup()},this.cancelMoveStyleAtomClickHandler=function(e){h.currentPropertyBar.viewModel.selectedStyleAtomIdForPopup=0,h.currentPropertyBar.closePopup()},this.renderAllCssPropertiesPopup=function(){var e=h.viewModel.currentPopupMode===u.PopupMode.AllCssProperties;return l("div",{id:h.currentPropertyBar.propertyBarIndex+"PopupMode"+u.PopupMode[u.PopupMode.AllCssProperties],styles:{display:e?"block":"none","z-index":"31","background-color":"white",border:"solid black 1px",height:"300px",overflow:"scroll"}},l("div",{styles:{display:"flex","flex-flow":"row nowrap","min-width":"250px"}},l("button",{key:"a",role:"button",styles:{flex:"1 0 10%",width:"10%","min-width":"10%"},onclick:h.currentPropertyBar.cancelUpdateCssPropertylickHandler},"x")),n.clientData.AllCssProperties.map(function(e){var t=!0,r=!1;if(0!=h.currentPropertyBar.viewModel.selectedStyleAtomId&&void 0!==n.clientData.CaliforniaProject&&void 0!==n.clientData.CaliforniaProject.StyleAtoms){var o=n.clientData.CaliforniaProject.StyleAtoms.find(function(e){return e.StyleAtomId==h.currentPropertyBar.viewModel.selectedStyleAtomId});void 0!==o&&void 0!==o.AppliedValues&&(r=-1!=n.clientData.StyleAtomCssPropertyMapping[c.StyleAtomType[o.StyleAtomType]].findIndex(function(t){return t===e}),t=-1==o.AppliedValues.findIndex(function(t){return t.CssProperty===e}))}return r?l("div",{key:e},e,t?l("button",{key:"a0",role:"button",cid:e,onclick:h.currentPropertyBar.setSelectedCssPropertyClickHandler},"✔"):l("button",{disabled:!0,key:"a1",role:"button",cid:e,onclick:h.currentPropertyBar.setSelectedCssPropertyClickHandler},"✔")):void 0}))},this.cancelUpdateCssPropertylickHandler=function(e){h.viewModel.currentPopupMode=u.PopupMode.AddCssProperty},this.showAllCssPropertiesClickHandler=function(e){h.currentPropertyBar.displayPopup(e.target,u.PopupMode.AllCssProperties)},this.setSelectedCssPropertyClickHandler=function(e){h.currentPropertyBar.viewModel.tempCssPropertyName=s.parseStringFromAttribute(e.target,"cid"),h.currentPropertyBar.saveCssPropertyForAtom()},this.saveCssPropertyForAtomClickHandler=function(e){h.currentPropertyBar.saveCssPropertyForAtom()},this.saveCssPropertyForAtom=function(){n.controller.CreateStyleValueForAtomJson(h.currentPropertyBar.viewModel.selectedStyleAtomId,h.currentPropertyBar.viewModel.tempCssPropertyName).done(function(e){return n.router.updateData(e)}),h.currentPropertyBar.resetTempCssPropertyState()},this.cancelAddCssPropertyForAtomClickHandler=function(e){h.currentPropertyBar.resetTempCssPropertyState()},this.resetTempCssPropertyState=function(){h.currentPropertyBar.viewModel.tempCssPropertyName="",h.currentPropertyBar.viewModel.tempCssValue="",h.currentPropertyBar.viewModel.selectedStyleAtomId=0,h.currentPropertyBar.viewModel.selectedStyleValueId=0,h.currentPropertyBar.viewModel.selectedStyleQuantumId=0,h.currentPropertyBar.closePopup()},this.cssPropertyNameInputHandler=function(e){h.currentPropertyBar.viewModel.tempCssPropertyName=e.target.value},this.renderUpdateCssValuePopup=function(){var e=h.viewModel.currentPopupMode===u.PopupMode.UpdateCssValue||h.viewModel.currentPopupMode===u.PopupMode.MatchingQuantums;return l("div",{id:h.currentPropertyBar.propertyBarIndex+"PopupMode"+u.PopupMode[u.PopupMode.UpdateCssValue],styles:{display:e?"block":"none","z-index":"31","background-color":"white",border:"solid black 1px"}},l("div",{styles:{display:"flex","flex-flow":"row nowrap","min-width":"250px"}},l("button",{key:"a",role:"button",styles:{flex:"1 0 10%",width:"10%","min-width":"10%"},onclick:h.currentPropertyBar.saveUpdatedCssValueClickHandler},"✔"),l("button",{key:"b",role:"button",styles:{flex:"1 0 10%",width:"10%","min-width":"10%"},onclick:h.currentPropertyBar.cancelUpdateCssValueClickHandler},"x")),l("div",null,l("input",{key:"-1",value:h.currentPropertyBar.viewModel.tempCssValue,oninput:h.currentPropertyBar.cssValueInputHandler}),l("button",{key:"a",role:"button",onclick:h.currentPropertyBar.showMatchingQuantumsClickHandler},"?"),l("button",{key:"b",role:"button",onclick:h.currentPropertyBar.setTempCssToZeroClickHandler},"0"),l("button",{key:"c",role:"button",onclick:h.currentPropertyBar.setTempCssToNoneClickHandler},"none"),l("button",{key:"d",role:"button",onclick:h.currentPropertyBar.setTempCssToNullClickHandler},"null"),l("button",{key:"e",role:"button",onclick:h.currentPropertyBar.setTempCssToAutoClickHandler},"auto"),""!==h.currentPropertyBar.viewModel.lastUsedTempCssValue?l("button",{key:"e",role:"button",onclick:h.currentPropertyBar.setTempCssAppendLastUsedClickHandler},"+",h.currentPropertyBar.viewModel.lastUsedTempCssValue.length>10?h.currentPropertyBar.viewModel.lastUsedTempCssValue.substring(0,10)+"...":h.currentPropertyBar.viewModel.lastUsedTempCssValue):void 0))},this.setTempCssToZeroClickHandler=function(e){h.currentPropertyBar.viewModel.tempCssValue="0"},this.setTempCssToNullClickHandler=function(e){h.currentPropertyBar.viewModel.tempCssValue="null"},this.setTempCssToNoneClickHandler=function(e){h.currentPropertyBar.viewModel.tempCssValue="none"},this.setTempCssToAutoClickHandler=function(e){h.currentPropertyBar.viewModel.tempCssValue="auto"},this.setTempCssAppendLastUsedClickHandler=function(e){h.currentPropertyBar.viewModel.tempCssValue=h.currentPropertyBar.viewModel.tempCssValue+h.currentPropertyBar.viewModel.lastUsedTempCssValue},this.renderUpdateCssQuantumPopup=function(){var e=h.viewModel.currentPopupMode===u.PopupMode.UpdateCssQuantum;return l("div",{id:h.currentPropertyBar.propertyBarIndex+"PopupMode"+u.PopupMode[u.PopupMode.UpdateCssQuantum],styles:{display:e?"block":"none","z-index":"31","background-color":"white",border:"solid black 1px"}},l("div",{styles:{display:"flex","flex-flow":"row nowrap","min-width":"250px"}},l("button",{key:"a",role:"button",styles:{flex:"1 0 10%",width:"10%","min-width":"10%"},onclick:h.currentPropertyBar.saveUpdatedCssQuantumClickHandler},"✔"),l("button",{key:"b",role:"button",styles:{flex:"1 0 10%",width:"10%","min-width":"10%"},onclick:h.currentPropertyBar.cancelUpdateCssQuantumClickHandler},"x")),l("div",null,l("input",{key:"-1",value:h.currentPropertyBar.viewModel.tempCssValue,oninput:h.currentPropertyBar.cssValueInputHandler})))},this.showMatchingQuantumsClickHandler=function(e){h.currentPropertyBar.displayPopup(e.target,u.PopupMode.MatchingQuantums)},this.saveUpdatedCssQuantumClickHandler=function(e){n.controller.UpdateStyleQuantumJson(h.currentPropertyBar.viewModel.selectedStyleQuantumId,h.currentPropertyBar.viewModel.tempCssValue).done(function(e){return n.router.updateData(e)}),h.currentPropertyBar.viewModel.lastUsedTempCssValue=h.currentPropertyBar.viewModel.tempCssValue,h.currentPropertyBar.resetTempCssPropertyState()},this.cancelUpdateCssQuantumClickHandler=function(e){h.currentPropertyBar.resetTempCssPropertyState()},this.saveUpdatedCssValueClickHandler=function(e){n.controller.UpdateStyleValueJson(h.currentPropertyBar.viewModel.selectedStyleValueId,h.currentPropertyBar.viewModel.tempCssValue).done(function(e){return n.router.updateData(e)}),h.currentPropertyBar.viewModel.lastUsedTempCssValue=h.currentPropertyBar.viewModel.tempCssValue,h.currentPropertyBar.resetTempCssPropertyState()},this.cancelUpdateCssValueClickHandler=function(e){h.currentPropertyBar.resetTempCssPropertyState()},this.cssValueInputHandler=function(e){h.currentPropertyBar.viewModel.tempCssValue=e.target.value},this.cssValueForInteractionInputHandler=function(e){h.currentPropertyBar.viewModel.tempCssValueForInteraction=e.target.value},this.renderSelectInteractionTargetPopup=function(){var e=h.viewModel.currentPopupMode===u.PopupMode.SelectInteractionTarget,t=[];return!0===e&&n.clientData.CaliforniaProject.LayoutMolecules.map(function(e){var r=e.LayoutBaseId.toString();t.push(l("div",{key:r,styles:{flex:"0 0 100%",width:"100%","min-width":"100%"}},"layout #",r," ",l("button",{key:"a",role:"button",bid:r,onclick:h.currentPropertyBar.selectLayoutBaseForInteractionTargetClickHandler},"✔")))}),l("div",{id:h.currentPropertyBar.propertyBarIndex+"PopupMode"+u.PopupMode[u.PopupMode.SelectInteractionTarget],styles:{display:e?"block":"none","z-index":"31","background-color":"white",border:"solid black 1px"}},l("div",{key:"0",styles:{display:"flex","flex-flow":"row nowrap","min-width":"250px"}},l("button",{key:"a",role:"button",styles:{flex:"1 0 10%",width:"10%","min-width":"10%"},onclick:h.currentPropertyBar.cancelSelectInteractionTargetClickHandler},"x")),l("div",{key:"1",styles:{display:"flex","flex-flow":"row wrap"}},t))},this.selectLayoutBaseForInteractionTargetClickHandler=function(e){h.currentPropertyBar.viewModel.selectedLayoutBaseIdForFilter=s.parseIntFromAttribute(e.target,"bid"),h.currentPropertyBar.displayPopup(e.target,u.PopupMode.SelectInteractionTargetLayoutFilter)},this.cancelSelectInteractionTargetClickHandler=function(e){h.currentPropertyBar.closePopup(),h.currentPropertyBar.viewModel.selectedLayoutBaseIdForFilter=0,h.currentPropertyBar.viewModel.selectedLayoutStyleInteraction=0},this.renderSelectInteractionTargetLayoutFilterPopup=function(){var e=h.viewModel.currentPopupMode===u.PopupMode.SelectInteractionTargetLayoutFilter,t=[];return!0===e&&n.clientData.CaliforniaProject.StyleValues.map(function(e){var r=n.clientData.CaliforniaProject.StyleAtoms.find(function(t){return-1!=t.AppliedValues.findIndex(function(t){return t.StyleValueId==e.StyleValueId})});if(n.clientData.CaliforniaProject.StyleMolecules.find(function(e){return-1!=e.MappedStyleAtoms.findIndex(function(e){return e.StyleMoleculeAtomMappingId==r.MappedToMoleculeId})}).StyleForLayoutId==h.currentPropertyBar.viewModel.selectedLayoutBaseIdForFilter){var o=e.StyleValueId.toString();t.push(l("div",{key:o,styles:{flex:"0 0 100%",width:"100%","min-width":"100%"}},"value #",o,": ",e.CssProperty,":",e.CssValue," ",l("button",{key:"a",role:"button",vid:o,onclick:h.currentPropertyBar.selectStyleValueForInteractionTargetClickHandler},"✔")))}}),l("div",{id:h.currentPropertyBar.propertyBarIndex+"PopupMode"+u.PopupMode[u.PopupMode.SelectInteractionTargetLayoutFilter],styles:{display:e?"block":"none","z-index":"31","background-color":"white",border:"solid black 1px"}},l("div",{key:"0",styles:{display:"flex","flex-flow":"row nowrap","min-width":"250px"}},l("button",{key:"a",role:"button",styles:{flex:"1 0 10%",width:"10%","min-width":"10%"},onclick:h.currentPropertyBar.cancelSelectStyleValueForInteractionTargetClickHandler},"x")),l("div",{key:"1",styles:{display:"flex","flex-flow":"row wrap"}},t))},this.selectStyleValueForInteractionTargetClickHandler=function(e){h.currentPropertyBar.closePopup(),n.controller.CreateStyleValueInteractionJson(h.currentPropertyBar.viewModel.selectedLayoutStyleInteraction,s.parseIntFromAttribute(e.target,"vid"),h.currentPropertyBar.viewModel.tempCssValueForInteraction).done(function(e){return n.router.updateData(e)})},this.cancelSelectStyleValueForInteractionTargetClickHandler=function(e){h.currentPropertyBar.closePopup(),h.currentPropertyBar.viewModel.selectedLayoutBaseIdForFilter=0,h.currentPropertyBar.viewModel.selectedLayoutStyleInteraction=0},this.renderMatchingQuantumsPopup=function(){var e=h.viewModel.currentPopupMode===u.PopupMode.MatchingQuantums,t=[];return!0===e&&(n.clientData.CaliforniaProject.StyleQuantums.map(function(e){!0==(e.CssProperty===h.currentPropertyBar.viewModel.tempCssPropertyName)&&t.push(l("div",{key:e.StyleQuantumId},e.Name," = ",e.CssValue," ",l("button",{key:"a",role:"button",qid:e.StyleQuantumId.toString(),onclick:h.currentPropertyBar.setQuantumOnAtomClickHandler},"✔")))}),0==t.length&&t.push(l("div",{key:"0"},"No quantums available."))),l("div",{id:h.currentPropertyBar.propertyBarIndex+"PopupMode"+u.PopupMode[u.PopupMode.MatchingQuantums],styles:{display:e?"block":"none","z-index":"31","background-color":"white",border:"solid black 1px",height:"300px",overflow:"scroll"}},l("div",{styles:{display:"flex","flex-flow":"row nowrap","min-width":"250px"}},l("button",{key:"a",role:"button",styles:{flex:"1 0 10%",width:"10%","min-width":"10%"},onclick:h.currentPropertyBar.cancelSelectMatchingCssQuantumClickHandler},"x")),t)},this.cancelSelectMatchingCssQuantumClickHandler=function(e){h.viewModel.currentPopupMode=u.PopupMode.UpdateCssValue},this.setQuantumOnAtomClickHandler=function(e){var t=s.parseIntFromAttribute(e.target,"qid");n.controller.ApplyStyleQuantumToAtomJson(h.currentPropertyBar.viewModel.selectedStyleAtomId,t).done(function(e){return n.router.updateData(e)}),h.currentPropertyBar.resetTempCssPropertyState(),h.currentPropertyBar.viewModel.lastUsedTempCssValue=n.clientData.CaliforniaProject.StyleQuantums.find(function(e){return e.StyleQuantumId==t}).CssValue},this.renderStyleMoleculeArray=function(e){return a.createMapping(function(e){return e.StyleMoleculeId},function(t){var r=t.StyleMoleculeId.toString();return{renderMaquette:function(){return l("div",{key:r,exitAnimation:e.styleElementExitAnimation},l("p",null,"(#",r,")",t.Name),l("button",{key:"a",role:"button",mid:r,onclick:e.selectStyleMoleculeClickHandler},"Edit"))},update:function(e){r=e.StyleMoleculeId.toString(),t=e}}},function(e,t){t.update(e)})},this.selectStyleMoleculeClickHandler=function(e){h.nextExceptLastPropertyBar.viewModel.selectedStyleMoleculeId=s.parseIntFromAttribute(e.target,"mid"),h.nextExceptLastPropertyBar.viewModel.selectedStateModifier="",h.nextExceptLastPropertyBar.viewModel.currentPropertyBarMode=u.PropertyBarMode.StyleMolecule},this.highlightLayoutBaseClickHandler=function(e){var t=s.parseIntFromAttribute(e.target,"lid");n.state.highlightedLayoutBaseId!=t?n.state.highlightedLayoutBaseId=t:n.state.highlightedLayoutBaseId=0},this.renderStyleQuantumArray=function(e){return a.createMapping(function(e){return e.StyleQuantumId},function(t){var r=t.StyleQuantumId.toString();return{renderMaquette:function(){return l("div",{key:r,exitAnimation:e.styleElementExitAnimation},l("p",{key:"0",styles:{margin:"0"}},"(#",r,")",t.Name,": ",t.CssProperty," => ",t.CssValue),l("button",{key:"a",role:"button",qid:r,onclick:e.duplicateStyleQuantumClickHandler},"DD"),t.IsDeletable?l("button",{key:"b0",role:"button",qid:r,onclick:e.deleteStyleQuantumClickHandler},"X"):l("button",{disabled:!0,key:"b1",role:"button"},"X"),l("button",{key:"c",role:"button",qid:r,onclick:e.updateCssQuantumClickHandler},"Edit"))},update:function(e){r=e.StyleQuantumId.toString(),t=e}}},function(e,t){t.update(e)})},this.updateCssQuantumClickHandler=function(e){var t=s.parseIntFromAttribute(e.target,"qid");h.currentPropertyBar.viewModel.selectedStyleQuantumId=t;var r=n.clientData.CaliforniaProject.StyleQuantums.find(function(e){return e.StyleQuantumId==t});h.currentPropertyBar.viewModel.tempCssValue=r.CssValue,h.currentPropertyBar.displayPopup(e.target,u.PopupMode.UpdateCssQuantum)},this.deleteStyleQuantumClickHandler=function(e){n.controller.DeleteStyleQuantumJson(s.parseIntFromAttribute(e.target,"qid")).done(function(e){return n.router.updateData(e)})},this.duplicateStyleQuantumClickHandler=function(e){n.controller.DuplicateStyleQuantumJson(s.parseIntFromAttribute(e.target,"qid")).done(function(e){return n.router.updateData(e)})},this.styleElementExitAnimation=function(e,t,r){e.style.overflow="hidden",i.animate(e,{opacity:.5,height:0},{duration:100,easing:"ease-out",complete:t})},this.renderLayoutMoleculeArray=function(e){return a.createMapping(function(e){return e.LayoutBaseId},function(t){var r=t.LayoutBaseId.toString(),o=n.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==t.LayoutBaseId}).StyleMoleculeId.toString(),i={"margin-right":"5px"};return{renderMaquette:function(){var n="";if(t.LayoutType===c.LayoutType.Atom){var a=t,u="";a.HostedContentAtom.ContentAtomType===f.ContentAtomType.Text?u=a.HostedContentAtom.TextContent:a.HostedContentAtom.ContentAtomType===f.ContentAtomType.Link?u=a.HostedContentAtom.Url:console.log(s.DEFAULT_EXCEPTION),n=u.length>20?u.substring(0,20)+"...":u,n+=" in box #"+t.PlacedAtomInBoxId}return l("div",{key:r}," ",c.LayoutType[t.LayoutType].toString()," #",r," ",n,l("button",{key:"a",role:"button",lid:r,onclick:e.selectLayoutBaseClickHandler,styles:i},"?"),l("button",{key:"b",role:"button",mid:o,onclick:e.selectStyleMoleculeClickHandler,styles:i},"S"),l("button",{key:"c",role:"button",lid:r,onclick:e.deleteLayoutBaseClickHandler,styles:i},"X"))},update:function(e){t=e,r=t.LayoutBaseId.toString();n.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==t.LayoutBaseId}).StyleMoleculeId.toString()}}},function(e,t){t.update(e)})},this.renderCaliforniaViewArray=function(e){return a.createMapping(function(e){return e.CaliforniaViewId},function(t){var r=t.CaliforniaViewId.toString();return{renderMaquette:function(){var o=0==t.PlacedLayoutRows.length;return l("div",{key:r},t.Name," View #",r,l("button",{key:"a",role:"button",vid:r,onclick:e.selectCaliforniaViewClickHandler},":)"),t.IsInternal||t.CaliforniaViewId==n.pagePreview.viewModel.activeCaliforniaViewId?void 0:l("button",{key:"b",role:"button",vid:r,onclick:e.activateCaliforniaViewClickHandler},"✔"),": ",t.IsInternal?"internal":void 0," ",t.Name," hosted by ",t.HostedByLayoutMappings.length," layouts",l("button",{key:"c",role:"button",mid:t.SpecialStyleViewStyleMoleculeIdString,onclick:e.selectStyleMoleculeClickHandler},"style #",t.SpecialStyleViewStyleMoleculeIdString),l("button",{key:"d",role:"button",mid:t.SpecialStyleBodyStyleMoleculeIdString,onclick:e.selectStyleMoleculeClickHandler},"body style #",t.SpecialStyleBodyStyleMoleculeIdString),l("button",{key:"e",role:"button",mid:t.SpecialStyleHtmlStyleMoleculeIdString,onclick:e.selectStyleMoleculeClickHandler},"HTML style #",t.SpecialStyleHtmlStyleMoleculeIdString),o?l("button",{key:"f",role:"button",vid:r,onclick:e.deleteCaliforniaViewClickHandler},"X"):l("button",{disabled:!0,key:"c0",role:"button",onclick:e.deleteCaliforniaViewClickHandler},"X"))},update:function(e){t=e,r=t.CaliforniaViewId.toString()}}},function(e,t){t.update(e)})},this.logoutPopupClickHandler=function(e){h.currentPropertyBar.displayPopup(e.target,u.PopupMode.ShareCaliforniaProject)},this.renderShareCaliforniaProjectPopup=function(){var e=h.viewModel.currentPopupMode===u.PopupMode.ShareCaliforniaProject;return l("div",{id:h.currentPropertyBar.propertyBarIndex+"PopupMode"+u.PopupMode[u.PopupMode.ShareCaliforniaProject],styles:{display:e?"block":"none","z-index":"31","background-color":"white",border:"solid black 1px"}},l("div",{key:"0",styles:{display:"flex","flex-flow":"row nowrap","min-width":"250px"}},l("button",{key:"b",styles:{flex:"1 0 10%",width:"10%","min-width":"10%"},onclick:h.currentPropertyBar.cancelShareCaliforniaProjectClickHandler},"x")),l("div",{key:"1",styles:{display:"flex","flex-flow":"row wrap"}},l("p",{key:"a",styles:{flex:"0 0 100%",width:"100%","min-width":"100%"}},n.clientData.UrlToReadOnly),"Bookmark! Clear browser history!",l("button",{key:"c",type:"button",onclick:h.currentPropertyBar.logoutClickHandler,styles:{flex:"0 0 10%",width:"10%","min-width":"10%"}},"🔒"),l("button",{key:"d",type:"button",onclick:h.currentPropertyBar.tokyoClickHandler,styles:{flex:"0 0 10%",width:"10%","min-width":"10%"}},"TOKYO")))},this.tokyoClickHandler=function(e){window.location.assign(window.location.origin+"/tokyo/")},this.cancelShareCaliforniaProjectClickHandler=function(e){h.currentPropertyBar.closePopup()},this.logoutClickHandler=function(e){n.controller.LogoutAction().done(function(e){window.location.assign(window.location.origin+"/california/")})},this.activateCaliforniaViewClickHandler=function(e){var t=s.parseIntFromAttribute(e.target,"vid"),r=n.clientData.CaliforniaProject.CaliforniaViews.filter(function(e){return!e.IsInternal}),o=void 0,i=r.findIndex(function(e){return e.CaliforniaViewId==t});i>-1?(o=r[i],n.router.setActiveCaliforniaView(o),n.pagePreview.resetEquationNumbersWhenModifying(!0),h.currentPropertyBar.viewModel.setSelectedCaliforniaView(o,!0),h.viewModel.currentPropertyBarMode=u.PropertyBarMode.CaliforniaView):console.log(s.DEFAULT_EXCEPTION)},this.selectLayoutBaseClickHandler=function(e){var t=s.parseIntFromAttribute(e.target,"lid");n.state.selectedLayoutBaseId=t,h.currentPropertyBar.viewModel.currentPropertyBarMode=u.PropertyBarMode.LayoutBase},this.selectCaliforniaViewClickHandler=function(e){var t=s.parseIntFromAttribute(e.target,"vid"),r=n.clientData.CaliforniaProject.CaliforniaViews.filter(function(e){return!e.IsInternal}),o=void 0,i=r.findIndex(function(e){return e.CaliforniaViewId==t});i>-1?(o=r[i],0==h.currentPropertyBar.propertyBarIndex?(n.router.setActiveCaliforniaView(o),n.pagePreview.resetEquationNumbersWhenModifying(!0)):h.currentPropertyBar.viewModel.isSyncedWithBoxTreeToTheLeft=!1,h.currentPropertyBar.viewModel.setSelectedCaliforniaView(o,!0)):console.log(s.DEFAULT_EXCEPTION),h.currentPropertyBar.viewModel.currentPropertyBarMode=u.PropertyBarMode.CaliforniaView},this.deleteLayoutBaseClickHandler=function(e){0==n.state.preselectedLayoutBaseId&&(n.state.selectedLayoutBaseId=0,n.controller.DeleteLayoutJson(s.parseIntFromAttribute(e.target,"lid"),!1).done(function(e){return n.router.updateData(e)}))},this.deleteBelowLayoutBaseClickHandler=function(e){0==n.state.preselectedLayoutBaseId&&(n.state.selectedLayoutBaseId=0,n.controller.DeleteLayoutJson(s.parseIntFromAttribute(e.target,"lid"),!0).done(function(e){return n.router.updateData(e)}))},this.renderLayoutBaseControls=function(){if(0!=n.state.selectedLayoutBaseId){var e=n.clientData.CaliforniaProject.LayoutMolecules.find(function(e){return e.LayoutBaseId==n.state.selectedLayoutBaseId}),t=e.LayoutBaseId.toString(),r=n.clientData.CaliforniaProject.StyleMolecules.find(function(t){return t.StyleForLayoutId==e.LayoutBaseId}).StyleMoleculeId.toString();if(e.LayoutType===c.LayoutType.Atom){var o=e,i=o.HostedContentAtom.ContentAtomType===f.ContentAtomType.Picture,a=i?o.HostedContentAtom.PictureContent.PictureContentId.toString():void 0;return l("div",{key:c.LayoutType.Atom}," Atom:",l("button",{key:"a",role:"button",mid:r,onclick:h.currentPropertyBar.selectStyleMoleculeClickHandler},"style #",r),l("button",{key:"b",role:"button",lid:t,onclick:h.currentPropertyBar.deleteLayoutBaseClickHandler},"X"),l("button",{key:"c",role:"button",aid:t,onclick:h.currentPropertyBar.createLayoutStyleInteraction},"+ Interaction"),o.LayoutStyleInteractions.map(function(e){var t=e.LayoutStyleInteractionId.toString();return l("div",{key:"i"+t},l("p",{key:"0"},"Interaction #",e.LayoutStyleInteractionId),l("input",{key:"1",value:h.currentPropertyBar.viewModel.tempCssValueForInteraction,oninput:h.currentPropertyBar.cssValueForInteractionInputHandler}),""!==h.currentPropertyBar.viewModel.tempCssValueForInteraction?l("button",{key:"a",role:"button",lid:t,onclick:h.currentPropertyBar.selectInteractionTargetClickHandler},"?"):l("button",{disabled:!0,key:"a0",role:"button",lid:t,onclick:h.currentPropertyBar.selectInteractionTargetClickHandler},"?"),l("button",{key:"b",role:"button",lid:t,onclick:h.currentPropertyBar.deleteLayoutStyleInteractionClickHandler},"X"),e.StyleValueInteractions.map(function(e){var r=e.StyleValueInteractionMappingId.toString();return l("div",{key:r},l("p",{key:"0"},"#",r,": ",e.CssValue),l("button",{key:"a",role:"button",vid:e.StyleValueId.toString(),lid:t,onclick:h.currentPropertyBar.deleteStyleValueInteractionClickHandler},"X"))}))}),l("form",{key:"0",action:"UploadFiles",method:"post",enctype:"multipart/form-data"},l("p",{key:"0"},"picture id #",a),l("input",{multiple:!0,key:"1",type:"file",name:"formFiles",onchange:h.currentPropertyBar.uploadFileChangeHandler}),l("button",{key:"a",role:"button",pid:a,onclick:h.currentPropertyBar.uploadFileClickHandler},"...")))}if(e.LayoutType===c.LayoutType.Box){var u=e,d=[];return s.getArrayForEnum(c.SpecialLayoutBoxType).map(function(e,t){var r=t==u.SpecialLayoutBoxType,o=t.toString();d.push(r?l("option",{selected:!0,key:o,value:o},e):l("option",{key:o,value:o},e))}),l("div",{key:c.LayoutType.Box}," Box:",l("button",{key:"a",role:"button",mid:r,onclick:h.currentPropertyBar.selectStyleMoleculeClickHandler},"style #",r),l("button",{disabled:!0,key:"b",role:"button",onclick:h.currentPropertyBar.createViewForBoxClickHandler},"Create View"),l("button",{key:"c",role:"button",lid:t,onclick:h.currentPropertyBar.deleteLayoutBaseClickHandler},"X"),l("select",{key:"0",bid:t,onchange:h.currentPropertyBar.specialLayoutBoxTypeChangedHandler},d))}if(e.LayoutType===c.LayoutType.Row){for(var p=e,y=p.AllBoxesBelowRow.filter(function(e){return void 0===e.PlacedBoxInBoxId}).length,v=[],m=0;m<=12;m++){var g=m==y,b=m.toString();0==m?v.push(g?l("option",{disabled:!0,selected:!0,key:b,value:b},b):l("option",{disabled:!0,key:b,value:b},b)):v.push(g?l("option",{selected:!0,key:b,value:b},b):l("option",{key:b,value:b},b))}return l("div",{key:c.LayoutType.Row}," Row:",l("button",{key:"a",role:"button",mid:r,onclick:h.currentPropertyBar.selectStyleMoleculeClickHandler},"style #",r),l("button",{key:"b",role:"button",lid:t,onclick:h.currentPropertyBar.deleteLayoutBaseClickHandler},"X"),l("select",{key:"c",rid:t,onchange:h.currentPropertyBar.boxCountInRowChangedHandler},v))}console.log(s.DEFAULT_EXCEPTION)}},this.uploadFileChangeHandler=function(e){var t=e.target;if(null!==t.files){var r=[];for(var o in t.files){var n=t.files[o];r.push(n),console.log(n);(new FileReader).addEventListener("loadend",h.currentPropertyBar.fileProcessingLoadEndHandler)}0==t.files.length&&console.log("empty")}else console.log("undefined")},this.fileProcessingLoadEndHandler=function(e){console.log(e.total),console.log(e.target.result)},this.uploadFileClickHandler=function(t){t.preventDefault();var r=t.target.form;console.log("upload dialog TODO"),e.ajax(r.action,{method:r.method,contentType:"multipart/form-data",data:o(r).serialize()})},this.selectInteractionTargetClickHandler=function(e){h.currentPropertyBar.viewModel.selectedLayoutStyleInteraction=s.parseIntFromAttribute(e.target,"lid"),h.currentPropertyBar.displayPopup(e.target,u.PopupMode.SelectInteractionTarget)},this.deleteStyleValueInteractionClickHandler=function(e){n.controller.DeleteStyleValueInteractionJson(s.parseIntFromAttribute(e.target,"lid"),s.parseIntFromAttribute(e.target,"vid")).done(function(e){return n.router.updateData(e)})},this.deleteLayoutStyleInteractionClickHandler=function(e){n.controller.DeleteLayoutStyleInteractionJson(s.parseIntFromAttribute(e.target,"lid")).done(function(e){return n.router.updateData(e)})},this.createLayoutStyleInteraction=function(e){n.controller.CreateLayoutStyleInteractionForLayoutAtomJson(s.parseIntFromAttribute(e.target,"aid")).done(function(e){return n.router.updateData(e)})},this.specialLayoutBoxTypeChangedHandler=function(e){var t=e.target,r=void 0;if(t.selectedIndex<t.childElementCount){var o=t.options[t.selectedIndex];r=parseInt(o.value)}void 0!==r?n.controller.SetSpecialLayoutBoxTypeJson(s.parseIntFromAttribute(t,"bid"),r).done(function(e){return n.router.updateData(e)}):console.log(s.DEFAULT_EXCEPTION)},this.boxCountInRowChangedHandler=function(e){var t=e.target,r=void 0;if(t.selectedIndex<t.childElementCount){var o=t.options[t.selectedIndex];r=parseInt(o.value)}void 0!==r?n.controller.SetLayoutBoxCountForRowOrBoxJson(s.parseIntFromAttribute(t,"rid"),n.state.newBoxStyleMoleculeId,r,!1).done(function(e){return n.router.updateData(e)}):console.log(s.DEFAULT_EXCEPTION)},this.finalizeLayoutRequest=function(e){if(n.state.selectedLayoutBaseId=s.parseIntFromAttribute(e.target,"lid"),n.state.currentTransactionMode===u.TransactionMode.MoveLayoutMoleculeIntoLayoutMolecule)h.currentPropertyBar.moveLayoutMoleculeIntoLayoutMolecule(),n.state.preselectedLayoutBaseId=0;else if(n.state.currentTransactionMode===u.TransactionMode.MoveLayoutMoleculeBeforeLayoutMolecule)h.currentPropertyBar.moveLayoutMoleculeBeforeLayoutMolecule(),n.state.preselectedLayoutBaseId=0;else{if(n.state.currentTransactionMode!==u.TransactionMode.SyncLayoutStylesImitating)return n.state.preselectedLayoutBaseId=0,void console.log(s.DEFAULT_EXCEPTION);h.currentPropertyBar.syncLayoutMoleculeStylesImitatingReferenceLayout()}},this.moveLayoutBoxIntoRowClickHandler=function(e){var t=s.parseIntFromAttribute(e.target,"lid");n.state.preselectedLayoutBaseId!=t?(n.state.preselectedLayoutBaseId=t,n.state.currentTransactionMode=u.TransactionMode.MoveLayoutMoleculeIntoLayoutMolecule):n.state.preselectedLayoutBaseId=0},this.moveLayoutBoxIntoBoxClickHandler=function(e){var t=s.parseIntFromAttribute(e.target,"lid");n.state.preselectedLayoutBaseId!=t?(n.state.preselectedLayoutBaseId=t,n.state.currentTransactionMode=u.TransactionMode.MoveLayoutMoleculeIntoLayoutMolecule):n.state.preselectedLayoutBaseId=0},this.moveLayoutBoxBeforeBoxClickHandler=function(e){var t=s.parseIntFromAttribute(e.target,"lid");n.state.preselectedLayoutBaseId!=t?(n.state.preselectedLayoutBaseId=t,n.state.currentTransactionMode=u.TransactionMode.MoveLayoutMoleculeBeforeLayoutMolecule):n.state.preselectedLayoutBaseId=0},this.moveLayoutRowBeforeRowClickHandler=function(e){var t=s.parseIntFromAttribute(e.target,"lid");n.state.preselectedLayoutBaseId!=t?(n.state.preselectedLayoutBaseId=t,n.state.currentTransactionMode=u.TransactionMode.MoveLayoutMoleculeBeforeLayoutMolecule):n.state.preselectedLayoutBaseId=0},this.syncLayoutBaseStylesClickHandler=function(e){var t=s.parseIntFromAttribute(e.target,"lid");n.state.preselectedLayoutBaseId!=t?(n.state.preselectedLayoutBaseId=t,n.state.currentTransactionMode=u.TransactionMode.SyncLayoutStylesImitating):n.state.preselectedLayoutBaseId=0},this.moveLayoutAtomIntoBoxClickHandler=function(e){var t=s.parseIntFromAttribute(e.target,"lid");n.state.preselectedLayoutBaseId!=t?(n.state.preselectedLayoutBaseId=t,n.state.currentTransactionMode=u.TransactionMode.MoveLayoutMoleculeIntoLayoutMolecule):n.state.preselectedLayoutBaseId=0},this.createBoxForAtomInPlaceClickHandler=function(e){n.state.selectedLayoutBaseId=s.parseIntFromAttribute(e.target,"lid"),h.viewModel.currentSecondaryPopupMode=u.PopupSecondaryMode.SelectBoxIntoBoxAtomInPlace,h.currentPropertyBar.displayPopup(e.target,u.PopupMode.SelectBox)},this.moveLayoutAtomBeforeAtomClickHandler=function(e){var t=s.parseIntFromAttribute(e.target,"lid");n.state.preselectedLayoutBaseId!=t?(n.state.preselectedLayoutBaseId=t,n.state.currentTransactionMode=u.TransactionMode.MoveLayoutMoleculeBeforeLayoutMolecule):n.state.preselectedLayoutBaseId=0},this.moveLayoutAtomBeforeBoxClickHandler=function(e){var t=s.parseIntFromAttribute(e.target,"lid");n.state.preselectedLayoutBaseId!=t?(n.state.preselectedLayoutBaseId=t,n.state.currentTransactionMode=u.TransactionMode.MoveLayoutMoleculeBeforeLayoutMolecule):n.state.preselectedLayoutBaseId=0},this.saveLayoutMoleculeClickHandler=function(e){n.controller.SetLayoutRowOrBoxAsInstanceableJson(n.clientData.CaliforniaProject.CaliforniaProjectId,s.parseIntFromAttribute(e.target,"lid")).done(function(e){return n.router.updateData(e)})},this.createViewForBoxClickHandler=function(e){console.log("TODO")},this.insertLayoutAtomIntoBoxClickHandler=function(e){n.state.selectedLayoutBaseId=s.parseIntFromAttribute(e.target,"lid"),h.currentPropertyBar.displayPopup(e.target,u.PopupMode.InsertLayoutAtomIntoBox)},this.insertLayoutBoxIntoBoxClickHandler=function(e){n.state.selectedLayoutBaseId=s.parseIntFromAttribute(e.target,"lid"),h.viewModel.currentSecondaryPopupMode=u.PopupSecondaryMode.SelectBoxIntoBox,h.currentPropertyBar.displayPopup(e.target,u.PopupMode.SelectBox)},this.renderCaliforniaViewControlsWhenAll=function(){var e=""!==h.currentPropertyBar.viewModel.tempCaliforniaViewName;return l("div",{key:"-1"},l("input",{key:"0",value:h.currentPropertyBar.viewModel.tempCaliforniaViewName,oninput:h.currentPropertyBar.californiaViewNameInputHandler}),e?l("button",{key:"a",role:"button",onclick:h.currentPropertyBar.createCaliforniaViewClickHandler},"✔"):l("button",{disabled:!0,key:"a0",role:"button",onclick:h.currentPropertyBar.createCaliforniaViewClickHandler},"✔"),e?l("button",{key:"b",role:"button",onclick:h.currentPropertyBar.createCaliforniaViewFromReferenceClickHandler},"x2"):l("button",{disabled:!0,key:"b0",role:"button",onclick:h.currentPropertyBar.createCaliforniaViewFromReferenceClickHandler},"x2"))},this.createCaliforniaViewFromReferenceClickHandler=function(e){h.currentPropertyBar.displayPopup(e.target,u.PopupMode.CaliforniaViewSelection)},this.createCaliforniaViewClickHandler=function(e){n.controller.CreateCaliforniaViewJson(n.clientData.CaliforniaProject.CaliforniaProjectId,h.currentPropertyBar.viewModel.tempCaliforniaViewName).done(function(e){return n.router.updateData(e)}),h.currentPropertyBar.viewModel.tempCaliforniaViewName=""},this.californiaViewNameInputHandler=function(e){h.currentPropertyBar.viewModel.tempCaliforniaViewName=e.target.value},this.renderCaliforniaViewSelectionPopup=function(){var e=h.viewModel.currentPopupMode===u.PopupMode.CaliforniaViewSelection,t=[];return!0===e&&n.clientData.CaliforniaProject.CaliforniaViews.filter(function(e){return!e.IsInternal}).map(function(e){var r=e.CaliforniaViewId.toString();t.push(l("div",{key:r,styles:{flex:"0 0 100%",width:"100%","min-width":"100%"}},"view #",r,": ",e.Name," ",l("button",{key:"a",role:"button",vid:r,onclick:h.currentPropertyBar.selectCaliforniaViewInPopupClickHandler},"✔")))}),l("div",{id:h.currentPropertyBar.propertyBarIndex+"PopupMode"+u.PopupMode[u.PopupMode.CaliforniaViewSelection],styles:{display:e?"block":"none","z-index":"31","background-color":"white",border:"solid black 1px"}},l("div",{key:"0",styles:{display:"flex","flex-flow":"row nowrap","min-width":"250px"}},l("button",{key:"b",styles:{flex:"1 0 10%",width:"10%","min-width":"10%"},onclick:h.currentPropertyBar.cancelSelectCaliforniaViewPopupClickHandler},"x")),l("div",{key:"1",styles:{display:"flex","flex-flow":"row wrap"}},t))},this.selectCaliforniaViewInPopupClickHandler=function(e){n.controller.CreateCaliforniaViewFromReferenceViewJson(n.clientData.CaliforniaProject.CaliforniaProjectId,h.currentPropertyBar.viewModel.tempCaliforniaViewName,s.parseIntFromAttribute(e.target,"vid")).done(function(e){return n.router.updateData(e)}),h.currentPropertyBar.viewModel.tempCaliforniaViewName="",h.currentPropertyBar.closePopup()},this.cancelSelectCaliforniaViewPopupClickHandler=function(e){h.currentPropertyBar.closePopup()},this.renderCaliforniaViewControls=function(){if(0!=h.currentPropertyBar.viewModel.selectedCaliforniaViewId){var e=n.clientData.CaliforniaProject.CaliforniaViews.find(function(e){return e.CaliforniaViewId==h.currentPropertyBar.viewModel.selectedCaliforniaViewId}),t=e.CaliforniaViewId.toString(),r={flex:"0 0 auto",height:"auto"},o={flex:"1 1 1px",width:"100%",height:"auto",overflow:"scroll"},i=0==h.currentPropertyBar.propertyBarIndex,a=0!=h.currentPropertyBar.propertyBarIndex,s=0==h.currentPropertyBar.propertyBarIndex,u={outline:a?h.currentPropertyBar.viewModel.isSyncedWithBoxTreeToTheLeft?"solid 1px rgb(200,0,0)":"solid 1px rgb(0,242,0)":void 0,"outline-offset":a?"-1px":void 0},c={outline:i?h.currentPropertyBar.viewModel.isSyncedWithPagePreview?"solid 1px rgb(200,0,0)":"solid 1px rgb(0,242,0)":void 0,"outline-offset":i?"-1px":void 0},d={outline:s&&n.state.isDrawHelperLines?"solid 1px rgb(200,0,0)":void 0,"outline-offset":s?"-1px":void 0};return l("div",{styles:{width:"100%",height:"100%",display:"flex","flex-flow":"column nowrap"}}," View #",t,l("div",{key:"0",styles:r},l("button",{key:"a",onclick:h.currentPropertyBar.insertLayoutRowIntoViewClickHandler},"+(R)"),l("button",{key:"b",mid:e.SpecialStyleViewStyleMoleculeIdString,onclick:h.currentPropertyBar.selectStyleMoleculeClickHandler},"style #",e.SpecialStyleViewStyleMoleculeIdString),l("button",{key:"c",mid:e.SpecialStyleBodyStyleMoleculeIdString,onclick:h.currentPropertyBar.selectStyleMoleculeClickHandler},"body style #",e.SpecialStyleBodyStyleMoleculeIdString),l("button",{key:"d",mid:e.SpecialStyleHtmlStyleMoleculeIdString,onclick:h.currentPropertyBar.selectStyleMoleculeClickHandler},"HTML style #",e.SpecialStyleHtmlStyleMoleculeIdString),l("button",{key:"e",onclick:h.currentPropertyBar.resetPreselectedLayoutClickHandler},"o"),s?l("button",{key:"f",onclick:h.currentPropertyBar.drawHelperLinesClickHandler,styles:d},"\\-\\"):l("button",{disabled:!0,key:"f0",onclick:h.currentPropertyBar.drawHelperLinesClickHandler,styles:d},"\\-\\"),i?l("button",{key:"g",onclick:h.currentPropertyBar.syncWithPagePreviewClickHandler,styles:c},"-=-"):l("button",{disabled:!0,key:"g0",onclick:h.currentPropertyBar.syncWithPagePreviewClickHandler,styles:c},"-=-"),a?l("button",{key:"h",onclick:h.currentPropertyBar.syncWithLeftPropertyBarClickHandler,styles:u},"=="):l("button",{disabled:!0,key:"h0",onclick:h.currentPropertyBar.syncWithLeftPropertyBarClickHandler,styles:u},"==")),l("div",{key:"1",styles:o,onscroll:h.currentPropertyBar.boxTreeScrollHandler,afterCreate:h.currentPropertyBar.boxTreeAfterCreateHandler},h.currentPropertyBar.viewModel.boxTreeProjector.results.map(function(e){return e.renderMaquette()})))}},this.boxTreeScrollHandler=function(e){var t=h.currentPropertyBar.propertyBarIndex,r=n.propertyBarBoxTreeDomReferences[t];if(n.state.visiblePropertyBarMaxCount>1&&!1===n.propertyBarBoxTreeScrollHandled[t]){n.propertyBarBoxTreeScrollHandled[t]=!0;h.currentPropertyBar.viewModel;if(void 0===r)return void console.log(s.DEFAULT_EXCEPTION);for(var o=t,i=t>0,a=0,l=t-1;!0===i&&o>0;){if(!n.propertyBarVMs[o].isSyncedWithBoxTreeToTheLeft){i=!1;break}var u=n.propertyBarBoxTreeDomReferences[o-1];if(void 0!==u&&u.scrollTop!=r.scrollTop&&(n.propertyBarBoxTreeScrollHandled[o-1]=!0,u.scrollTop=r.scrollTop),a>l){console.log(s.DEFAULT_EXCEPTION);break}o--,a++}o=t+1;var c=!0;for(a=0,l=n.state.visiblePropertyBarMaxCount-1-t;!0===c&&o<n.state.visiblePropertyBarMaxCount;){if(!n.propertyBarVMs[o].isSyncedWithBoxTreeToTheLeft){c=!1;break}var u=n.propertyBarBoxTreeDomReferences[o];if(void 0!==u&&u.scrollTop!=r.scrollTop&&(n.propertyBarBoxTreeScrollHandled[o]=!0,u.scrollTop=r.scrollTop),a>l){console.log(s.DEFAULT_EXCEPTION);break}o++,a++}}else for(var d=0;d<n.state.visiblePropertyBarMaxCount;d++)n.propertyBarBoxTreeScrollHandled[d]=!1;if(0==t&&h.currentPropertyBar.viewModel.isSyncedWithPagePreview){h.currentPropertyBar._visibleLayoutAtomDomNodeReferences=[],h.currentPropertyBar._visibleLayoutAtomKeys=[],h.currentPropertyBar._mostUpperVisibleLayoutAtomId=0;var p=0,f=0,y=r.clientHeight+1,v=r.getBoundingClientRect().top,m=r.scrollTop;r.clientHeight;for(var g in h.currentPropertyBar._activeViewLayoutAtomDomNodeReferences){var b=h.currentPropertyBar._activeViewLayoutAtomDomNodeReferences[g],w=!1,C=b.getBoundingClientRect(),x=C.top-v,P=r.clientHeight-(C.top-v+m+C.height)+m;C.height>0&&(x>=0&&x<=r.clientHeight?w=!0:P>=0&&P<=r.clientHeight?w=!0:x<=0&&P<=0&&(w=!0)),w&&(h.currentPropertyBar._visibleLayoutAtomDomNodeReferences.push(b),h.currentPropertyBar._visibleLayoutAtomKeys.push(g),x<y&&(y=x,h.currentPropertyBar._visibleLayoutAtomKeys.length,f=s.parseIntFromAttribute(b,"lid"))),p++}f!=h.currentPropertyBar._mostUpperVisibleLayoutAtomId&&(h.currentPropertyBar._mostUpperVisibleLayoutAtomId=f,0!=f&&h.currentPropertyBar.viewModel.isSyncedWithPagePreview&&n.pagePreview.syncScrollPositionFromBoxTree())}},this.syncScrollPositionFromPagePreview=function(){if(h.currentPropertyBar.viewModel.isSyncedWithPagePreview){var e=h.currentPropertyBar.propertyBarIndex,t=n.propertyBarBoxTreeDomReferences[e];if(void 0!==t){var r=t.getBoundingClientRect().top,o=n.pagePreview.mostUpperVisibleLayoutAtomId;console.log("tree from preview for target layout #"+o);var i=h.currentPropertyBar._visibleLayoutAtomDomNodeReferences.find(function(e){return s.parseIntFromAttribute(e,"lid")==o});void 0===i&&(i=h.currentPropertyBar._activeViewLayoutAtomDomNodeReferences[o]),void 0!==i?t.scrollTop=t.scrollTop+(i.getBoundingClientRect().top-r):console.log(s.DEFAULT_EXCEPTION)}}},this.boxTreeAfterCreateHandler=function(e,t,r,o,i){n.propertyBarBoxTreeDomReferences[h.currentPropertyBar.propertyBarIndex]=e},this.deleteCaliforniaViewClickHandler=function(e){var t=s.parseIntFromAttribute(e.target,"vid");n.router.clearCaliforniaPropertyBars(!1,t),n.controller.DeleteCaliforniaViewJson(t).done(function(e){return n.router.updateData(e)})},this.insertLayoutRowIntoViewClickHandler=function(e){h.currentPropertyBar.displayPopup(e.target,u.PopupMode.InsertLayoutRowIntoView)},this.resetPreselectedLayoutClickHandler=function(e){n.state.preselectedLayoutBaseId=0},this.drawHelperLinesClickHandler=function(e){n.state.isDrawHelperLines=!n.state.isDrawHelperLines},this.syncWithPagePreviewClickHandler=function(e){var t=h.currentPropertyBar.propertyBarIndex,r=h.currentPropertyBar.viewModel;if(0==t&&(r.isSyncedWithPagePreview=!r.isSyncedWithPagePreview,r.isSyncedWithPagePreview)){var o=n.propertyBarBoxTreeDomReferences[t];void 0!==o&&(o.scrollTop<=1?h.currentPropertyBar.syncScrollPositionFromPagePreview():n.pagePreview.syncScrollPositionFromBoxTree())}},this.syncWithLeftPropertyBarClickHandler=function(e){var t=h.currentPropertyBar.propertyBarIndex,r=h.currentPropertyBar.viewModel;if(0!=t&&n.propertyBarVMs[t-1].currentPropertyBarMode===u.PropertyBarMode.CaliforniaView&&n.propertyBarVMs[t-1].selectedCaliforniaViewId==r.selectedCaliforniaViewId){if(r.isSyncedWithBoxTreeToTheLeft=!r.isSyncedWithBoxTreeToTheLeft,!0===r.isSyncedWithBoxTreeToTheLeft){var o=n.propertyBarBoxTreeDomReferences[t],i=n.propertyBarBoxTreeDomReferences[t-1];void 0!==o&&void 0!==i?i.scrollTop=o.scrollTop:(console.log(s.DEFAULT_EXCEPTION),r.isSyncedWithBoxTreeToTheLeft=!1)}}else r.isSyncedWithBoxTreeToTheLeft=!1},n=r,this.propertyBarIndex=y,this.viewModel=new u.PropertyBarVM(this,y,r),this.viewModel.isSyncedWithBoxTreeToTheLeft=!1,this.viewModel.isSyncedWithPagePreview=!1}return Object.defineProperty(r.prototype,"currentPropertyBar",{get:function(){return n.propertyBars[this.propertyBarIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"nextExceptLastPropertyBar",{get:function(){var e=this.propertyBarIndex+1;return e<n.state.visiblePropertyBarMaxCount?n.propertyBars[e]:this.currentPropertyBar},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"visibleLayoutAtomDomNodeReferences",{get:function(){return this._visibleLayoutAtomDomNodeReferences},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"visibleLayoutAtomKeys",{get:function(){return this._visibleLayoutAtomKeys},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mostUpperVisibleLayoutAtomId",{get:function(){return this._mostUpperVisibleLayoutAtomId},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"activeViewLayoutAtomDomNodeReferences",{get:function(){return this._activeViewLayoutAtomDomNodeReferences},enumerable:!0,configurable:!0}),r}();t.PropertyBar=h}).call(t,r(0),r(0))},function(e,t,r){(function(o,n){var i,a;!function(e){"use strict";function t(e){var t=e.length,o=r.type(e);return"function"!==o&&!r.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===o||0===t||"number"==typeof t&&t>0&&t-1 in e))}if(!o){var r=function(e,t){return new r.fn.init(e,t)};r.isWindow=function(e){return e&&e===e.window},r.type=function(e){return e?"object"==typeof e||"function"==typeof e?i[l.call(e)]||"object":typeof e:e+""},r.isArray=Array.isArray||function(e){return"array"===r.type(e)},r.isPlainObject=function(e){var t;if(!e||"object"!==r.type(e)||e.nodeType||r.isWindow(e))return!1;try{if(e.constructor&&!a.call(e,"constructor")&&!a.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(t in e);return void 0===t||a.call(e,t)},r.each=function(e,r,o){var n=0,i=e.length,a=t(e);if(o){if(a)for(;n<i&&!1!==r.apply(e[n],o);n++);else for(n in e)if(e.hasOwnProperty(n)&&!1===r.apply(e[n],o))break}else if(a)for(;n<i&&!1!==r.call(e[n],n,e[n]);n++);else for(n in e)if(e.hasOwnProperty(n)&&!1===r.call(e[n],n,e[n]))break;return e},r.data=function(e,t,o){if(void 0===o){var i=e[r.expando],a=i&&n[i];if(void 0===t)return a;if(a&&t in a)return a[t]}else if(void 0!==t){var l=e[r.expando]||(e[r.expando]=++r.uuid);return n[l]=n[l]||{},n[l][t]=o,o}},r.removeData=function(e,t){var o=e[r.expando],i=o&&n[o];i&&(t?r.each(t,function(e,t){delete i[t]}):delete n[o])},r.extend=function(){var e,t,o,n,i,a,l=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof l&&(c=l,l=arguments[s]||{},s++),"object"!=typeof l&&"function"!==r.type(l)&&(l={}),s===u&&(l=this,s--);s<u;s++)if(i=arguments[s])for(n in i)i.hasOwnProperty(n)&&(e=l[n],o=i[n],l!==o&&(c&&o&&(r.isPlainObject(o)||(t=r.isArray(o)))?(t?(t=!1,a=e&&r.isArray(e)?e:[]):a=e&&r.isPlainObject(e)?e:{},l[n]=r.extend(c,a,o)):void 0!==o&&(l[n]=o)));return l},r.queue=function(e,o,n){if(e){o=(o||"fx")+"queue";var i=r.data(e,o);return n?(!i||r.isArray(n)?i=r.data(e,o,function(e,r){var o=r||[];return e&&(t(Object(e))?function(e,t){for(var r=+t.length,o=0,n=e.length;o<r;)e[n++]=t[o++];if(r!==r)for(;void 0!==t[o];)e[n++]=t[o++];e.length=n}(o,"string"==typeof e?[e]:e):[].push.call(o,e)),o}(n)):i.push(n),i):i||[]}},r.dequeue=function(e,t){r.each(e.nodeType?[e]:e,function(e,o){t=t||"fx";var n=r.queue(o,t),i=n.shift();"inprogress"===i&&(i=n.shift()),i&&("fx"===t&&n.unshift("inprogress"),i.call(o,function(){r.dequeue(o,t)}))})},r.fn=r.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var e=this[0],t=function(e){for(var t=e.offsetParent;t&&"html"!==t.nodeName.toLowerCase()&&t.style&&"static"===t.style.position.toLowerCase();)t=t.offsetParent;return t||document}(e),o=this.offset(),n=/^(?:body|html)$/i.test(t.nodeName)?{top:0,left:0}:r(t).offset();return o.top-=parseFloat(e.style.marginTop)||0,o.left-=parseFloat(e.style.marginLeft)||0,t.style&&(n.top+=parseFloat(t.style.borderTopWidth)||0,n.left+=parseFloat(t.style.borderLeftWidth)||0),{top:o.top-n.top,left:o.left-n.left}}};var n={};r.expando="velocity"+(new Date).getTime(),r.uuid=0;for(var i={},a=i.hasOwnProperty,l=i.toString,s="Boolean Number String Function Array Date RegExp Object Error".split(" "),u=0;u<s.length;u++)i["[object "+s[u]+"]"]=s[u].toLowerCase();r.fn.init.prototype=r.fn,e.Velocity={Utilities:r}}}(window),function(o){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=o():(i=o,void 0!==(a="function"==typeof i?i.call(t,r,t,e):i)&&(e.exports=a))}(function(){"use strict";return function(e,t,r,o){function i(e){for(var t=-1,r=e?e.length:0,o=[];++t<r;){var n=e[t];n&&o.push(n)}return o}function a(e){return C.isWrapped(e)?e=b.call(e):C.isNode(e)&&(e=[e]),e}function l(e){var t=h.data(e,"velocity");return null===t?o:t}function s(e,t){var r=l(e);r&&r.delayTimer&&!r.delayPaused&&(r.delayRemaining=r.delay-t+r.delayBegin,r.delayPaused=!0,clearTimeout(r.delayTimer.setTimeout))}function u(e,t){var r=l(e);r&&r.delayTimer&&r.delayPaused&&(r.delayPaused=!1,r.delayTimer.setTimeout=setTimeout(r.delayTimer.next,r.delayRemaining))}function c(e){return function(t){return Math.round(t*e)*(1/e)}}function d(e,r,o,n){function i(e,t){return 1-3*t+3*e}function a(e,t){return 3*t-6*e}function l(e){return 3*e}function s(e,t,r){return((i(t,r)*e+a(t,r))*e+l(t))*e}function u(e,t,r){return 3*i(t,r)*e*e+2*a(t,r)*e+l(t)}function c(t,r){for(var n=0;n<h;++n){var i=u(r,e,o);if(0===i)return r;r-=(s(r,e,o)-t)/i}return r}function d(){for(var t=0;t<b;++t)P[t]=s(t*w,e,o)}function p(t,r,n){var i,a,l=0;do{a=r+(n-r)/2,i=s(a,e,o)-t,i>0?n=a:r=a}while(Math.abs(i)>m&&++l<g);return a}function f(t){for(var r=0,n=1,i=b-1;n!==i&&P[n]<=t;++n)r+=w;--n;var a=(t-P[n])/(P[n+1]-P[n]),l=r+a*w,s=u(l,e,o);return s>=v?c(t,l):0===s?l:p(t,r,r+w)}function y(){S=!0,e===r&&o===n||d()}var h=4,v=.001,m=1e-7,g=10,b=11,w=1/(b-1),C="Float32Array"in t;if(4!==arguments.length)return!1;for(var x=0;x<4;++x)if("number"!=typeof arguments[x]||isNaN(arguments[x])||!isFinite(arguments[x]))return!1;e=Math.min(e,1),o=Math.min(o,1),e=Math.max(e,0),o=Math.max(o,0);var P=C?new Float32Array(b):new Array(b),S=!1,B=function(t){return S||y(),e===r&&o===n?t:0===t?0:1===t?1:s(f(t),r,n)};B.getControlPoints=function(){return[{x:e,y:r},{x:o,y:n}]};var M="generateBezier("+[e,r,o,n]+")";return B.toString=function(){return M},B}function p(e,t){var r=e;return C.isString(e)?B.Easings[e]||(r=!1):r=C.isArray(e)&&1===e.length?c.apply(null,e):C.isArray(e)&&2===e.length?M.apply(null,e.concat([t])):!(!C.isArray(e)||4!==e.length)&&d.apply(null,e),!1===r&&(r=B.Easings[B.defaults.easing]?B.defaults.easing:S),r}function f(e){if(e){var t=B.timestamp&&!0!==e?e:g.now(),r=B.State.calls.length;r>1e4&&(B.State.calls=i(B.State.calls),r=B.State.calls.length);for(var n=0;n<r;n++)if(B.State.calls[n]){var a=B.State.calls[n],s=a[0],u=a[2],c=a[3],d=!c,p=null,m=a[5],b=a[6];if(c||(c=B.State.calls[n][3]=t-16),m){if(!0!==m.resume)continue;c=a[3]=Math.round(t-b-16),a[5]=null}b=a[6]=t-c;for(var w=Math.min(b/u.duration,1),x=0,P=s.length;x<P;x++){var S=s[x],M=S.element;if(l(M)){var A=!1;if(u.display!==o&&null!==u.display&&"none"!==u.display){if("flex"===u.display){var L=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];h.each(L,function(e,t){I.setPropertyValue(M,"display",t)})}I.setPropertyValue(M,"display",u.display)}u.visibility!==o&&"hidden"!==u.visibility&&I.setPropertyValue(M,"visibility",u.visibility);for(var T in S)if(S.hasOwnProperty(T)&&"element"!==T){var H,D=S[T],E=C.isString(D.easing)?B.Easings[D.easing]:D.easing;if(C.isString(D.pattern)){var V=1===w?function(e,t,r){var o=D.endValue[t];return r?Math.round(o):o}:function(e,t,r){var o=D.startValue[t],n=D.endValue[t]-o,i=o+n*E(w,u,n);return r?Math.round(i):i};H=D.pattern.replace(/{(\d+)(!)?}/g,V)}else if(1===w)H=D.endValue;else{var R=D.endValue-D.startValue;H=D.startValue+R*E(w,u,R)}if(!d&&H===D.currentValue)continue;if(D.currentValue=H,"tween"===T)p=H;else{var O;if(I.Hooks.registered[T]){O=I.Hooks.getRoot(T);var j=l(M).rootPropertyValueCache[O];j&&(D.rootPropertyValue=j)}var F=I.setPropertyValue(M,T,D.currentValue+(v<9&&0===parseFloat(H)?"":D.unitType),D.rootPropertyValue,D.scrollData);I.Hooks.registered[T]&&(I.Normalizations.registered[O]?l(M).rootPropertyValueCache[O]=I.Normalizations.registered[O]("extract",null,F[1]):l(M).rootPropertyValueCache[O]=F[1]),"transform"===F[0]&&(A=!0)}}u.mobileHA&&l(M).transformCache.translate3d===o&&(l(M).transformCache.translate3d="(0px, 0px, 0px)",A=!0),A&&I.flushTransformCache(M)}}u.display!==o&&"none"!==u.display&&(B.State.calls[n][2].display=!1),u.visibility!==o&&"hidden"!==u.visibility&&(B.State.calls[n][2].visibility=!1),u.progress&&u.progress.call(a[1],a[1],w,Math.max(0,c+u.duration-t),c,p),1===w&&y(n)}}B.State.isTicking&&k(f)}function y(e,t){if(!B.State.calls[e])return!1;for(var r=B.State.calls[e][0],n=B.State.calls[e][1],i=B.State.calls[e][2],a=B.State.calls[e][4],s=!1,u=0,c=r.length;u<c;u++){var d=r[u].element;t||i.loop||("none"===i.display&&I.setPropertyValue(d,"display",i.display),"hidden"===i.visibility&&I.setPropertyValue(d,"visibility",i.visibility));var p=l(d);if(!0!==i.loop&&(h.queue(d)[1]===o||!/\.velocityQueueEntryFlag/i.test(h.queue(d)[1]))&&p){p.isAnimating=!1,p.rootPropertyValueCache={};var f=!1;h.each(I.Lists.transforms3D,function(e,t){var r=/^scale/.test(t)?1:0,n=p.transformCache[t];p.transformCache[t]!==o&&new RegExp("^\\("+r+"[^.]").test(n)&&(f=!0,delete p.transformCache[t])}),i.mobileHA&&(f=!0,delete p.transformCache.translate3d),f&&I.flushTransformCache(d),I.Values.removeClass(d,"velocity-animating")}if(!t&&i.complete&&!i.loop&&u===c-1)try{i.complete.call(n,n)}catch(e){setTimeout(function(){throw e},1)}a&&!0!==i.loop&&a(n),p&&!0===i.loop&&!t&&(h.each(p.tweensContainer,function(e,t){if(/^rotate/.test(e)&&(parseFloat(t.startValue)-parseFloat(t.endValue))%360==0){var r=t.startValue;t.startValue=t.endValue,t.endValue=r}/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),B(d,"reverse",{loop:!0,delay:i.delay})),!1!==i.queue&&h.dequeue(d,i.queue)}B.State.calls[e]=!1;for(var y=0,v=B.State.calls.length;y<v;y++)if(!1!==B.State.calls[y]){s=!0;break}!1===s&&(B.State.isTicking=!1,delete B.State.calls,B.State.calls=[])}var h,v=function(){if(r.documentMode)return r.documentMode;for(var e=7;e>4;e--){var t=r.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return o}(),m=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var r,o=(new Date).getTime();return r=Math.max(0,16-(o-e)),e=o+r,setTimeout(function(){t(o+r)},r)}}(),g=function(){var e=t.performance||{};if("function"!=typeof e.now){var r=e.timing&&e.timing.navigationStart?e.timing.navigationStart:(new Date).getTime();e.now=function(){return(new Date).getTime()-r}}return e}(),b=function(){var e=Array.prototype.slice;try{return e.call(r.documentElement),e}catch(t){return function(t,r){var o=this.length;if("number"!=typeof t&&(t=0),"number"!=typeof r&&(r=o),this.slice)return e.call(this,t,r);var n,i=[],a=t>=0?t:Math.max(0,o+t),l=r<0?o+r:Math.min(r,o),s=l-a;if(s>0)if(i=new Array(s),this.charAt)for(n=0;n<s;n++)i[n]=this.charAt(a+n);else for(n=0;n<s;n++)i[n]=this[a+n];return i}}}(),w=function(){return Array.prototype.includes?function(e,t){return e.includes(t)}:Array.prototype.indexOf?function(e,t){return e.indexOf(t)>=0}:function(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1}},C={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isWrapped:function(e){return e&&e!==t&&C.isNumber(e.length)&&!C.isString(e)&&!C.isFunction(e)&&!C.isNode(e)&&(0===e.length||C.isNode(e[0]))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},x=!1;if(e.fn&&e.fn.jquery?(h=e,x=!0):h=t.Velocity.Utilities,v<=8&&!x)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(v<=7)return void(n.fn.velocity=n.fn.animate);var P=400,S="swing",B={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t.navigator.userAgent),isAndroid:/Android/i.test(t.navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(t.navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(t.navigator.userAgent),prefixElement:r.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:h,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:P,easing:S,begin:o,complete:o,progress:o,display:o,visibility:o,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(e){h.data(e,"velocity",{isSVG:C.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:5,patch:1},debug:!1,timestamp:!0,pauseAll:function(e){var t=(new Date).getTime();h.each(B.State.calls,function(t,r){if(r){if(e!==o&&(r[2].queue!==e||!1===r[2].queue))return!0;r[5]={resume:!1}}}),h.each(B.State.delayedElements,function(e,r){r&&s(r,t)})},resumeAll:function(e){var t=(new Date).getTime();h.each(B.State.calls,function(t,r){if(r){if(e!==o&&(r[2].queue!==e||!1===r[2].queue))return!0;r[5]&&(r[5].resume=!0)}}),h.each(B.State.delayedElements,function(e,r){r&&u(r,t)})}};t.pageYOffset!==o?(B.State.scrollAnchor=t,B.State.scrollPropertyLeft="pageXOffset",B.State.scrollPropertyTop="pageYOffset"):(B.State.scrollAnchor=r.documentElement||r.body.parentNode||r.body,B.State.scrollPropertyLeft="scrollLeft",B.State.scrollPropertyTop="scrollTop");var M=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,r,o){var n={x:t.x+o.dx*r,v:t.v+o.dv*r,tension:t.tension,friction:t.friction};return{dx:n.v,dv:e(n)}}function r(r,o){var n={dx:r.v,dv:e(r)},i=t(r,.5*o,n),a=t(r,.5*o,i),l=t(r,o,a),s=1/6*(n.dx+2*(i.dx+a.dx)+l.dx),u=1/6*(n.dv+2*(i.dv+a.dv)+l.dv);return r.x=r.x+s*o,r.v=r.v+u*o,r}return function e(t,o,n){var i,a,l,s={x:-1,v:0,tension:null,friction:null},u=[0],c=0;for(t=parseFloat(t)||500,o=parseFloat(o)||20,n=n||null,s.tension=t,s.friction=o,i=null!==n,i?(c=e(t,o),a=c/n*.016):a=.016;;)if(l=r(l||s,a),u.push(1+l.x),c+=16,!(Math.abs(l.x)>1e-4&&Math.abs(l.v)>1e-4))break;return i?function(e){return u[e*(u.length-1)|0]}:c}}();B.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},h.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){B.Easings[t[0]]=d.apply(null,t[1])});var I=B.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<I.Lists.colors.length;e++){var t="color"===I.Lists.colors[e]?"0 0 0 1":"255 255 255 1";I.Hooks.templates[I.Lists.colors[e]]=["Red Green Blue Alpha",t]}var r,o,n;if(v)for(r in I.Hooks.templates)if(I.Hooks.templates.hasOwnProperty(r)){o=I.Hooks.templates[r],n=o[0].split(" ");var i=o[1].match(I.RegEx.valueSplit);"Color"===n[0]&&(n.push(n.shift()),i.push(i.shift()),I.Hooks.templates[r]=[n.join(" "),i.join(" ")])}for(r in I.Hooks.templates)if(I.Hooks.templates.hasOwnProperty(r)){o=I.Hooks.templates[r],n=o[0].split(" ");for(var a in n)if(n.hasOwnProperty(a)){var l=r+n[a],s=a;I.Hooks.registered[l]=[r,s]}}},getRoot:function(e){var t=I.Hooks.registered[e];return t?t[0]:e},getUnit:function(e,t){var r=(e.substr(t||0,5).match(/^[a-z%]+/)||[])[0]||"";return r&&w(I.Lists.units,r)?r:""},fixColors:function(e){return e.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,function(e,t,r){return I.Lists.colorNames.hasOwnProperty(r)?(t||"rgba(")+I.Lists.colorNames[r]+(t?"":",1)"):t+r})},cleanRootPropertyValue:function(e,t){return I.RegEx.valueUnwrap.test(t)&&(t=t.match(I.RegEx.valueUnwrap)[1]),I.Values.isCSSNullValue(t)&&(t=I.Hooks.templates[e][1]),t},extractValue:function(e,t){var r=I.Hooks.registered[e];if(r){var o=r[0],n=r[1];return t=I.Hooks.cleanRootPropertyValue(o,t),t.toString().match(I.RegEx.valueSplit)[n]}return t},injectValue:function(e,t,r){var o=I.Hooks.registered[e];if(o){var n,i=o[0],a=o[1];return r=I.Hooks.cleanRootPropertyValue(i,r),n=r.toString().match(I.RegEx.valueSplit),n[a]=t,n.join(" ")}return r}},Normalizations:{registered:{clip:function(e,t,r){switch(e){case"name":return"clip";case"extract":var o;return I.RegEx.wrappedValueAlreadyExtracted.test(r)?o=r:(o=r.toString().match(I.RegEx.valueUnwrap),o=o?o[1].replace(/,(\s+)?/g," "):r),o;case"inject":return"rect("+r+")"}},blur:function(e,t,r){switch(e){case"name":return B.State.isFirefox?"filter":"-webkit-filter";case"extract":var o=parseFloat(r);if(!o&&0!==o){var n=r.toString().match(/blur\(([0-9]+[A-z]+)\)/i);o=n?n[1]:0}return o;case"inject":return parseFloat(r)?"blur("+r+")":"none"}},opacity:function(e,t,r){if(v<=8)switch(e){case"name":return"filter";case"extract":var o=r.toString().match(/alpha\(opacity=(.*)\)/i);return r=o?o[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(r)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(r),10)+")"}else switch(e){case"name":return"opacity";case"extract":case"inject":return r}}},register:function(){function e(e,t,r){if("border-box"===I.getPropertyValue(t,"boxSizing").toString().toLowerCase()===(r||!1)){var o,n,i=0,a="width"===e?["Left","Right"]:["Top","Bottom"],l=["padding"+a[0],"padding"+a[1],"border"+a[0]+"Width","border"+a[1]+"Width"];for(o=0;o<l.length;o++)n=parseFloat(I.getPropertyValue(t,l[o])),isNaN(n)||(i+=n);return r?-i:i}return 0}function t(t,r){return function(o,n,i){switch(o){case"name":return t;case"extract":return parseFloat(i)+e(t,n,r);case"inject":return parseFloat(i)-e(t,n,r)+"px"}}}v&&!(v>9)||B.State.isGingerbread||(I.Lists.transformsBase=I.Lists.transformsBase.concat(I.Lists.transforms3D));for(var r=0;r<I.Lists.transformsBase.length;r++)!function(){var e=I.Lists.transformsBase[r];I.Normalizations.registered[e]=function(t,r,n){switch(t){case"name":return"transform";case"extract":return l(r)===o||l(r).transformCache[e]===o?/^scale/i.test(e)?1:0:l(r).transformCache[e].replace(/[()]/g,"");case"inject":var i=!1;switch(e.substr(0,e.length-1)){case"translate":i=!/(%|px|em|rem|vw|vh|\d)$/i.test(n);break;case"scal":case"scale":B.State.isAndroid&&l(r).transformCache[e]===o&&n<1&&(n=1),i=!/(\d)$/i.test(n);break;case"skew":case"rotate":i=!/(deg|\d)$/i.test(n)}return i||(l(r).transformCache[e]="("+n+")"),l(r).transformCache[e]}}}();for(var n=0;n<I.Lists.colors.length;n++)!function(){var e=I.Lists.colors[n];I.Normalizations.registered[e]=function(t,r,n){switch(t){case"name":return e;case"extract":var i;if(I.RegEx.wrappedValueAlreadyExtracted.test(n))i=n;else{var a,l={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(n)?a=l[n]!==o?l[n]:l.black:I.RegEx.isHex.test(n)?a="rgb("+I.Values.hexToRgb(n).join(" ")+")":/^rgba?\(/i.test(n)||(a=l.black),i=(a||n).toString().match(I.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!v||v>8)&&3===i.split(" ").length&&(i+=" 1"),i;case"inject":return/^rgb/.test(n)?n:(v<=8?4===n.split(" ").length&&(n=n.split(/\s+/).slice(0,3).join(" ")):3===n.split(" ").length&&(n+=" 1"),(v<=8?"rgb":"rgba")+"("+n.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();I.Normalizations.registered.innerWidth=t("width",!0),I.Normalizations.registered.innerHeight=t("height",!0),I.Normalizations.registered.outerWidth=t("width"),I.Normalizations.registered.outerHeight=t("height")}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(v||B.State.isAndroid&&!B.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(B.State.prefixMatches[e])return[B.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],r=0,o=t.length;r<o;r++){var n;if(n=0===r?e:t[r]+e.replace(/^\w/,function(e){return e.toUpperCase()}),C.isString(B.State.prefixElement.style[n]))return B.State.prefixMatches[e]=n,[n,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(r,function(e,t,r,o){return t+t+r+r+o+o}),t=o.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return!e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){if(e)if(e.classList)e.classList.add(t);else if(C.isString(e.className))e.className+=(e.className.length?" ":"")+t;else{var r=e.getAttribute(v<=7?"className":"class")||"";e.setAttribute("class",r+(r?" ":"")+t)}},removeClass:function(e,t){if(e)if(e.classList)e.classList.remove(t);else if(C.isString(e.className))e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ");else{var r=e.getAttribute(v<=7?"className":"class")||"";e.setAttribute("class",r.replace(new RegExp("(^|s)"+t.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(e,r,n,i){function a(e,r){var n=0;if(v<=8)n=h.css(e,r);else{var s=!1;/^(width|height)$/.test(r)&&0===I.getPropertyValue(e,"display")&&(s=!0,I.setPropertyValue(e,"display",I.Values.getDisplayType(e)));var u=function(){s&&I.setPropertyValue(e,"display","none")};if(!i){if("height"===r&&"border-box"!==I.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var c=e.offsetHeight-(parseFloat(I.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(I.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(I.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(I.getPropertyValue(e,"paddingBottom"))||0);return u(),c}if("width"===r&&"border-box"!==I.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var d=e.offsetWidth-(parseFloat(I.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(I.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(I.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(I.getPropertyValue(e,"paddingRight"))||0);return u(),d}}var p;p=l(e)===o?t.getComputedStyle(e,null):l(e).computedStyle?l(e).computedStyle:l(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===r&&(r="borderTopColor"),n=9===v&&"filter"===r?p.getPropertyValue(r):p[r],""!==n&&null!==n||(n=e.style[r]),u()}if("auto"===n&&/^(top|right|bottom|left)$/i.test(r)){var f=a(e,"position");("fixed"===f||"absolute"===f&&/top|left/i.test(r))&&(n=h(e).position()[r]+"px")}return n}var s;if(I.Hooks.registered[r]){var u=r,c=I.Hooks.getRoot(u);n===o&&(n=I.getPropertyValue(e,I.Names.prefixCheck(c)[0])),I.Normalizations.registered[c]&&(n=I.Normalizations.registered[c]("extract",e,n)),s=I.Hooks.extractValue(u,n)}else if(I.Normalizations.registered[r]){var d,p;d=I.Normalizations.registered[r]("name",e),"transform"!==d&&(p=a(e,I.Names.prefixCheck(d)[0]),I.Values.isCSSNullValue(p)&&I.Hooks.templates[r]&&(p=I.Hooks.templates[r][1])),s=I.Normalizations.registered[r]("extract",e,p)}if(!/^[\d-]/.test(s)){var f=l(e);if(f&&f.isSVG&&I.Names.SVGAttribute(r))if(/^(height|width)$/i.test(r))try{s=e.getBBox()[r]}catch(e){s=0}else s=e.getAttribute(r);else s=a(e,I.Names.prefixCheck(r)[0])}return I.Values.isCSSNullValue(s)&&(s=0),B.debug>=2&&console.log("Get "+r+": "+s),s},setPropertyValue:function(e,r,o,n,i){var a=r;if("scroll"===r)i.container?i.container["scroll"+i.direction]=o:"Left"===i.direction?t.scrollTo(o,i.alternateValue):t.scrollTo(i.alternateValue,o);else if(I.Normalizations.registered[r]&&"transform"===I.Normalizations.registered[r]("name",e))I.Normalizations.registered[r]("inject",e,o),a="transform",o=l(e).transformCache[r];else{if(I.Hooks.registered[r]){var s=r,u=I.Hooks.getRoot(r);n=n||I.getPropertyValue(e,u),o=I.Hooks.injectValue(s,o,n),r=u}if(I.Normalizations.registered[r]&&(o=I.Normalizations.registered[r]("inject",e,o),r=I.Normalizations.registered[r]("name",e)),a=I.Names.prefixCheck(r)[0],v<=8)try{e.style[a]=o}catch(e){B.debug&&console.log("Browser does not support ["+o+"] for ["+a+"]")}else{var c=l(e);c&&c.isSVG&&I.Names.SVGAttribute(r)?e.setAttribute(r,o):e.style[a]=o}B.debug>=2&&console.log("Set "+r+" ("+a+"): "+o)}return[a,o]},flushTransformCache:function(e){var t="",r=l(e);if((v||B.State.isAndroid&&!B.State.isChrome)&&r&&r.isSVG){var o=function(t){return parseFloat(I.getPropertyValue(e,t))},n={translate:[o("translateX"),o("translateY")],skewX:[o("skewX")],skewY:[o("skewY")],scale:1!==o("scale")?[o("scale"),o("scale")]:[o("scaleX"),o("scaleY")],rotate:[o("rotateZ"),0,0]};h.each(l(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),n[e]&&(t+=e+"("+n[e].join(" ")+") ",delete n[e])})}else{var i,a;h.each(l(e).transformCache,function(r){if(i=l(e).transformCache[r],"transformPerspective"===r)return a=i,!0;9===v&&"rotateZ"===r&&(r="rotate"),t+=r+i+" "}),a&&(t="perspective"+a+" "+t)}I.setPropertyValue(e,"transform",t)}};I.Hooks.register(),I.Normalizations.register(),B.hook=function(e,t,r){var n;return e=a(e),h.each(e,function(e,i){if(l(i)===o&&B.init(i),r===o)n===o&&(n=I.getPropertyValue(i,t));else{var a=I.setPropertyValue(i,t,r);"transform"===a[0]&&B.CSS.flushTransformCache(i),n=a}}),n};var A=function(){function e(){return c?S.promise||null:d}function n(e,n){function i(i){var c,d;if(s.begin&&0===k)try{s.begin.call(m,m)}catch(e){setTimeout(function(){throw e},1)}if("scroll"===H){var y,v,x,P=/^x$/i.test(s.axis)?"Left":"Top",A=parseFloat(s.offset)||0;s.container?C.isWrapped(s.container)||C.isNode(s.container)?(s.container=s.container[0]||s.container,y=s.container["scroll"+P],x=y+h(e).position()[P.toLowerCase()]+A):s.container=null:(y=B.State.scrollAnchor[B.State["scrollProperty"+P]],v=B.State.scrollAnchor[B.State["scrollProperty"+("Left"===P?"Top":"Left")]],x=h(e).offset()[P.toLowerCase()]+A),u={scroll:{rootPropertyValue:!1,startValue:y,currentValue:y,endValue:x,unitType:"",easing:s.easing,scrollData:{container:s.container,direction:P,alternateValue:v}},element:e},B.debug&&console.log("tweensContainer (scroll): ",u.scroll,e)}else if("reverse"===H){if(!(c=l(e)))return;if(!c.tweensContainer)return void h.dequeue(e,s.queue);"none"===c.opts.display&&(c.opts.display="auto"),"hidden"===c.opts.visibility&&(c.opts.visibility="visible"),c.opts.loop=!1,c.opts.begin=null,c.opts.complete=null,b.easing||delete s.easing,b.duration||delete s.duration,s=h.extend({},c.opts,s),d=h.extend(!0,{},c?c.tweensContainer:null);for(var L in d)if(d.hasOwnProperty(L)&&"element"!==L){var T=d[L].startValue;d[L].startValue=d[L].currentValue=d[L].endValue,d[L].endValue=T,C.isEmptyObject(b)||(d[L].easing=s.easing),B.debug&&console.log("reverse tweensContainer ("+L+"): "+JSON.stringify(d[L]),e)}u=d}else if("start"===H){c=l(e),c&&c.tweensContainer&&!0===c.isAnimating&&(d=c.tweensContainer);var D=function(n,i){var l,p=I.Hooks.getRoot(n),f=!1,y=i[0],v=i[1],m=i[2];if(!(c&&c.isSVG||"tween"===p||!1!==I.Names.prefixCheck(p)[1]||I.Normalizations.registered[p]!==o))return void(B.debug&&console.log("Skipping ["+p+"] due to a lack of browser support."));(s.display!==o&&null!==s.display&&"none"!==s.display||s.visibility!==o&&"hidden"!==s.visibility)&&/opacity|filter/.test(n)&&!m&&0!==y&&(m=0),s._cacheValues&&d&&d[n]?(m===o&&(m=d[n].endValue+d[n].unitType),f=c.rootPropertyValueCache[p]):I.Hooks.registered[n]?m===o?(f=I.getPropertyValue(e,p),m=I.getPropertyValue(e,n,f)):f=I.Hooks.templates[p][1]:m===o&&(m=I.getPropertyValue(e,n));var g,b,w,x=!1,P=function(e,t){var r,o;return o=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return r=e,""}),r||(r=I.Values.getUnitType(e)),[o,r]};if(m!==y&&C.isString(m)&&C.isString(y)){l="";var S=0,M=0,A=[],k=[],L=0,T=0,H=0;for(m=I.Hooks.fixColors(m),y=I.Hooks.fixColors(y);S<m.length&&M<y.length;){var D=m[S],E=y[M];if(/[\d\.-]/.test(D)&&/[\d\.-]/.test(E)){for(var V=D,R=E,O=".",F=".";++S<m.length;){if((D=m[S])===O)O="..";else if(!/\d/.test(D))break;V+=D}for(;++M<y.length;){if((E=y[M])===F)F="..";else if(!/\d/.test(E))break;R+=E}var N=I.Hooks.getUnit(m,S),_=I.Hooks.getUnit(y,M);if(S+=N.length,M+=_.length,N===_)V===R?l+=V+N:(l+="{"+A.length+(T?"!":"")+"}"+N,A.push(parseFloat(V)),k.push(parseFloat(R)));else{var q=parseFloat(V),U=parseFloat(R);l+=(L<5?"calc":"")+"("+(q?"{"+A.length+(T?"!":"")+"}":"0")+N+" + "+(U?"{"+(A.length+(q?1:0))+(T?"!":"")+"}":"0")+_+")",q&&(A.push(q),k.push(0)),U&&(A.push(0),k.push(U))}}else{if(D!==E){L=0;break}l+=D,S++,M++,0===L&&"c"===D||1===L&&"a"===D||2===L&&"l"===D||3===L&&"c"===D||L>=4&&"("===D?L++:(L&&L<5||L>=4&&")"===D&&--L<5)&&(L=0),0===T&&"r"===D||1===T&&"g"===D||2===T&&"b"===D||3===T&&"a"===D||T>=3&&"("===D?(3===T&&"a"===D&&(H=1),T++):H&&","===D?++H>3&&(T=H=0):(H&&T<(H?5:4)||T>=(H?4:3)&&")"===D&&--T<(H?5:4))&&(T=H=0)}}S===m.length&&M===y.length||(B.debug&&console.error('Trying to pattern match mis-matched strings ["'+y+'", "'+m+'"]'),l=o),l&&(A.length?(B.debug&&console.log('Pattern found "'+l+'" -> ',A,k,"["+m+","+y+"]"),m=A,y=k,b=w=""):l=o)}l||(g=P(n,m),m=g[0],w=g[1],g=P(n,y),y=g[0].replace(/^([+-\/*])=/,function(e,t){return x=t,""}),b=g[1],m=parseFloat(m)||0,y=parseFloat(y)||0,"%"===b&&(/^(fontSize|lineHeight)$/.test(n)?(y/=100,b="em"):/^scale/.test(n)?(y/=100,b=""):/(Red|Green|Blue)$/i.test(n)&&(y=y/100*255,b="")));if(/[\/*]/.test(x))b=w;else if(w!==b&&0!==m)if(0===y)b=w;else{a=a||function(){var o={myParent:e.parentNode||r.body,position:I.getPropertyValue(e,"position"),fontSize:I.getPropertyValue(e,"fontSize")},n=o.position===j.lastPosition&&o.myParent===j.lastParent,i=o.fontSize===j.lastFontSize;j.lastParent=o.myParent,j.lastPosition=o.position,j.lastFontSize=o.fontSize;var a={};if(i&&n)a.emToPx=j.lastEmToPx,a.percentToPxWidth=j.lastPercentToPxWidth,a.percentToPxHeight=j.lastPercentToPxHeight;else{var l=c&&c.isSVG?r.createElementNS("http://www.w3.org/2000/svg","rect"):r.createElement("div");B.init(l),o.myParent.appendChild(l),h.each(["overflow","overflowX","overflowY"],function(e,t){B.CSS.setPropertyValue(l,t,"hidden")}),B.CSS.setPropertyValue(l,"position",o.position),B.CSS.setPropertyValue(l,"fontSize",o.fontSize),B.CSS.setPropertyValue(l,"boxSizing","content-box"),h.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){B.CSS.setPropertyValue(l,t,"100%")}),B.CSS.setPropertyValue(l,"paddingLeft","100em"),a.percentToPxWidth=j.lastPercentToPxWidth=(parseFloat(I.getPropertyValue(l,"width",null,!0))||1)/100,a.percentToPxHeight=j.lastPercentToPxHeight=(parseFloat(I.getPropertyValue(l,"height",null,!0))||1)/100,a.emToPx=j.lastEmToPx=(parseFloat(I.getPropertyValue(l,"paddingLeft"))||1)/100,o.myParent.removeChild(l)}return null===j.remToPx&&(j.remToPx=parseFloat(I.getPropertyValue(r.body,"fontSize"))||16),null===j.vwToPx&&(j.vwToPx=parseFloat(t.innerWidth)/100,j.vhToPx=parseFloat(t.innerHeight)/100),a.remToPx=j.remToPx,a.vwToPx=j.vwToPx,a.vhToPx=j.vhToPx,B.debug>=1&&console.log("Unit ratios: "+JSON.stringify(a),e),a}();var W=/margin|padding|left|right|width|text|word|letter/i.test(n)||/X$/.test(n)||"x"===n?"x":"y";switch(w){case"%":m*="x"===W?a.percentToPxWidth:a.percentToPxHeight;break;case"px":break;default:m*=a[w+"ToPx"]}switch(b){case"%":m*=1/("x"===W?a.percentToPxWidth:a.percentToPxHeight);break;case"px":break;default:m*=1/a[b+"ToPx"]}}switch(x){case"+":y=m+y;break;case"-":y=m-y;break;case"*":y*=m;break;case"/":y=m/y}u[n]={rootPropertyValue:f,startValue:m,currentValue:m,endValue:y,unitType:b,easing:v},l&&(u[n].pattern=l),B.debug&&console.log("tweensContainer ("+n+"): "+JSON.stringify(u[n]),e)};for(var E in g)if(g.hasOwnProperty(E)){var V=I.Names.camelCase(E),R=function(t,r){var o,i,a;return C.isFunction(t)&&(t=t.call(e,n,M)),C.isArray(t)?(o=t[0],!C.isArray(t[1])&&/^[\d-]/.test(t[1])||C.isFunction(t[1])||I.RegEx.isHex.test(t[1])?a=t[1]:C.isString(t[1])&&!I.RegEx.isHex.test(t[1])&&B.Easings[t[1]]||C.isArray(t[1])?(i=r?t[1]:p(t[1],s.duration),a=t[2]):a=t[1]||t[2]):o=t,r||(i=i||s.easing),C.isFunction(o)&&(o=o.call(e,n,M)),C.isFunction(a)&&(a=a.call(e,n,M)),[o||0,i,a]}(g[E]);if(w(I.Lists.colors,V)){var O=R[0],N=R[1],_=R[2];if(I.RegEx.isHex.test(O)){for(var q=["Red","Green","Blue"],U=I.Values.hexToRgb(O),W=_?I.Values.hexToRgb(_):o,z=0;z<q.length;z++){var J=[U[z]];N&&J.push(N),W!==o&&J.push(W[z]),D(V+q[z],J)}continue}}D(V,R)}u.element=e}u.element&&(I.Values.addClass(e,"velocity-animating"),F.push(u),c=l(e),c&&(""===s.queue&&(c.tweensContainer=u,c.opts=s),c.isAnimating=!0),k===M-1?(B.State.calls.push([F,m,s,null,S.resolver,null,0]),!1===B.State.isTicking&&(B.State.isTicking=!0,f())):k++)}var a,s=h.extend({},B.defaults,b),u={};switch(l(e)===o&&B.init(e),parseFloat(s.delay)&&!1!==s.queue&&h.queue(e,s.queue,function(t,r){if(!0===r)return!0;B.velocityQueueEntryFlag=!0;var o=B.State.delayedElements.count++;B.State.delayedElements[o]=e;var n=function(e){return function(){B.State.delayedElements[e]=!1,t()}}(o);l(e).delayBegin=(new Date).getTime(),l(e).delay=parseFloat(s.delay),l(e).delayTimer={setTimeout:setTimeout(t,parseFloat(s.delay)),next:n}}),s.duration.toString().toLowerCase()){case"fast":s.duration=200;break;case"normal":s.duration=P;break;case"slow":s.duration=600;break;default:s.duration=parseFloat(s.duration)||1}if(!1!==B.mock&&(!0===B.mock?s.duration=s.delay=1:(s.duration*=parseFloat(B.mock)||1,s.delay*=parseFloat(B.mock)||1)),s.easing=p(s.easing,s.duration),s.begin&&!C.isFunction(s.begin)&&(s.begin=null),s.progress&&!C.isFunction(s.progress)&&(s.progress=null),s.complete&&!C.isFunction(s.complete)&&(s.complete=null),s.display!==o&&null!==s.display&&(s.display=s.display.toString().toLowerCase(),"auto"===s.display&&(s.display=B.CSS.Values.getDisplayType(e))),s.visibility!==o&&null!==s.visibility&&(s.visibility=s.visibility.toString().toLowerCase()),s.mobileHA=s.mobileHA&&B.State.isMobile&&!B.State.isGingerbread,!1===s.queue)if(s.delay){var c=B.State.delayedElements.count++;B.State.delayedElements[c]=e;var d=function(e){return function(){B.State.delayedElements[e]=!1,i()}}(c);l(e).delayBegin=(new Date).getTime(),l(e).delay=parseFloat(s.delay),l(e).delayTimer={setTimeout:setTimeout(i,parseFloat(s.delay)),next:d}}else i();else h.queue(e,s.queue,function(e,t){if(!0===t)return S.promise&&S.resolver(m),!0;B.velocityQueueEntryFlag=!0,i(e)});""!==s.queue&&"fx"!==s.queue||"inprogress"===h.queue(e)[0]||h.dequeue(e)}var i,c,d,v,m,g,b,x=arguments[0]&&(arguments[0].p||h.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||C.isString(arguments[0].properties));C.isWrapped(this)?(c=!1,v=0,m=this,d=this):(c=!0,v=1,m=x?arguments[0].elements||arguments[0].e:arguments[0]);var S={promise:null,resolver:null,rejecter:null};if(c&&B.Promise&&(S.promise=new B.Promise(function(e,t){S.resolver=e,S.rejecter=t})),x?(g=arguments[0].properties||arguments[0].p,b=arguments[0].options||arguments[0].o):(g=arguments[v],b=arguments[v+1]),!(m=a(m)))return void(S.promise&&(g&&b&&!1===b.promiseRejectEmpty?S.resolver():S.rejecter()));var M=m.length,k=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(g)&&!h.isPlainObject(b)){var L=v+1;b={};for(var T=L;T<arguments.length;T++)C.isArray(arguments[T])||!/^(fast|normal|slow)$/i.test(arguments[T])&&!/^\d/.test(arguments[T])?C.isString(arguments[T])||C.isArray(arguments[T])?b.easing=arguments[T]:C.isFunction(arguments[T])&&(b.complete=arguments[T]):b.duration=arguments[T]}var H;switch(g){case"scroll":H="scroll";break;case"reverse":H="reverse";break;case"pause":var D=(new Date).getTime();return h.each(m,function(e,t){s(t,D)}),h.each(B.State.calls,function(e,t){var r=!1;t&&h.each(t[1],function(e,n){var i=b===o?"":b;return!0!==i&&t[2].queue!==i&&(b!==o||!1!==t[2].queue)||(h.each(m,function(e,o){if(o===n)return t[5]={resume:!1},r=!0,!1}),!r&&void 0)})}),e();case"resume":return h.each(m,function(e,t){u(t,D)}),h.each(B.State.calls,function(e,t){var r=!1;t&&h.each(t[1],function(e,n){var i=b===o?"":b;return!0!==i&&t[2].queue!==i&&(b!==o||!1!==t[2].queue)||(!t[5]||(h.each(m,function(e,o){if(o===n)return t[5].resume=!0,r=!0,!1}),!r&&void 0))})}),e();case"finish":case"finishAll":case"stop":h.each(m,function(e,t){l(t)&&l(t).delayTimer&&(clearTimeout(l(t).delayTimer.setTimeout),l(t).delayTimer.next&&l(t).delayTimer.next(),delete l(t).delayTimer),"finishAll"!==g||!0!==b&&!C.isString(b)||(h.each(h.queue(t,C.isString(b)?b:""),function(e,t){C.isFunction(t)&&t()}),h.queue(t,C.isString(b)?b:"",[]))});var E=[];return h.each(B.State.calls,function(e,t){t&&h.each(t[1],function(r,n){var i=b===o?"":b;if(!0!==i&&t[2].queue!==i&&(b!==o||!1!==t[2].queue))return!0;h.each(m,function(r,o){if(o===n)if((!0===b||C.isString(b))&&(h.each(h.queue(o,C.isString(b)?b:""),function(e,t){C.isFunction(t)&&t(null,!0)}),h.queue(o,C.isString(b)?b:"",[])),"stop"===g){var a=l(o);a&&a.tweensContainer&&!1!==i&&h.each(a.tweensContainer,function(e,t){t.endValue=t.currentValue}),E.push(e)}else"finish"!==g&&"finishAll"!==g||(t[2].duration=1)})})}),"stop"===g&&(h.each(E,function(e,t){y(t,!0)}),S.promise&&S.resolver(m)),e();default:if(!h.isPlainObject(g)||C.isEmptyObject(g)){if(C.isString(g)&&B.Redirects[g]){i=h.extend({},b);var V=i.duration,R=i.delay||0;return!0===i.backwards&&(m=h.extend(!0,[],m).reverse()),h.each(m,function(e,t){parseFloat(i.stagger)?i.delay=R+parseFloat(i.stagger)*e:C.isFunction(i.stagger)&&(i.delay=R+i.stagger.call(t,e,M)),i.drag&&(i.duration=parseFloat(V)||(/^(callout|transition)/.test(g)?1e3:P),i.duration=Math.max(i.duration*(i.backwards?1-e/M:(e+1)/M),.75*i.duration,200)),B.Redirects[g].call(t,t,i||{},e,M,m,S.promise?S:o)}),e()}var O="Velocity: First argument ("+g+") was not a property map, a known action, or a registered redirect. Aborting.";return S.promise?S.rejecter(new Error(O)):t.console&&console.log(O),e()}H="start"}var j={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},F=[];h.each(m,function(e,t){C.isNode(t)&&n(t,e)}),i=h.extend({},B.defaults,b),i.loop=parseInt(i.loop,10);var N=2*i.loop-1;if(i.loop)for(var _=0;_<N;_++){var q={delay:i.delay,progress:i.progress};_===N-1&&(q.display=i.display,q.visibility=i.visibility,q.complete=i.complete),A(m,"reverse",q)}return e()};B=h.extend(A,B),B.animate=A;var k=t.requestAnimationFrame||m;if(!B.State.isMobile&&r.hidden!==o){var L=function(){r.hidden?(k=function(e){return setTimeout(function(){e(!0)},16)},f()):k=t.requestAnimationFrame||m};L(),r.addEventListener("visibilitychange",L)}return e.Velocity=B,e!==t&&(e.fn.velocity=A,e.fn.velocity.defaults=B.defaults),h.each(["Down","Up"],function(e,t){B.Redirects["slide"+t]=function(e,r,n,i,a,l){var s=h.extend({},r),u=s.begin,c=s.complete,d={},p={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};s.display===o&&(s.display="Down"===t?"inline"===B.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),s.begin=function(){0===n&&u&&u.call(a,a);for(var r in p)if(p.hasOwnProperty(r)){d[r]=e.style[r];var o=I.getPropertyValue(e,r);p[r]="Down"===t?[o,0]:[0,o]}d.overflow=e.style.overflow,e.style.overflow="hidden"},s.complete=function(){for(var t in d)d.hasOwnProperty(t)&&(e.style[t]=d[t]);n===i-1&&(c&&c.call(a,a),l&&l.resolver(a))},B(e,p,s)}}),h.each(["In","Out"],function(e,t){B.Redirects["fade"+t]=function(e,r,n,i,a,l){var s=h.extend({},r),u=s.complete,c={opacity:"In"===t?1:0};0!==n&&(s.begin=null),s.complete=n!==i-1?null:function(){u&&u.call(a,a),l&&l.resolver(a)},s.display===o&&(s.display="In"===t?"auto":"none"),B(this,c,s)}}),B}(o||window.Zepto||window,window,window?window.document:void 0)})}).call(t,r(0),r(0))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o,n,i=r(1),a=(i.h,r(3)),l=r(2),s=r(4),u=r(5),c=function(){function t(t){this.deepestLevelCurrentRow=0,this.updateData=function(e,t,r){var i;if(void 0===t&&(t=!1),void 0===r&&(r=!1),n.validateResponse(e)){var s=!1,c=!1;switch(e.CaliforniaEvent){case l.CaliforniaEvent.UpdateContentAtom:if(void 0!==e.PartialUpdate.ContentAtom){var d=o.clientData.CaliforniaProject.ContentAtoms.findIndex(function(t){return t.ContentAtomId==e.PartialUpdate.ContentAtom.ContentAtomId});(i=o.clientData.CaliforniaProject.ContentAtoms).splice.apply(i,[d,1].concat([e.PartialUpdate.ContentAtom])),o.clientData.CaliforniaProject.LayoutMolecules.find(function(t){return t.LayoutBaseId==e.PartialUpdate.ContentAtom.InstancedOnLayoutId}).HostedContentAtom=e.PartialUpdate.ContentAtom,c=!0}break;default:s=!0}if(!0===s&&void 0!==e.CaliforniaProject){if(o.clientData.CaliforniaProject=e.CaliforniaProject,o.clientData.UrlToReadOnly=e.UrlToReadOnly,o.clientData.UrlToReadAndEdit=e.UrlToReadAndEdit,void 0!==e.CaliforniaProject.ResponsiveDevices.length&&e.CaliforniaProject.ResponsiveDevices.length>0){if(o.clientData.CaliforniaProject.ResponsiveDevices=o.clientData.CaliforniaProject.ResponsiveDevices.sort(function(e,t){return void 0!==e.WidthThreshold&&void 0!==t.WidthThreshold?e.WidthThreshold<t.WidthThreshold?-1:e.WidthThreshold==t.WidthThreshold?0:1:0}),o.state.lowestWidthThresholdResponsiveDeviceId=o.clientData.CaliforniaProject.ResponsiveDevices[1].ResponsiveDeviceId,o.state.highestWidthThresholdResponsiveDeviceId=o.clientData.CaliforniaProject.ResponsiveDevices[o.clientData.CaliforniaProject.ResponsiveDevices.length-1].ResponsiveDeviceId,o.state.noneResponsiveDeviceId=o.clientData.CaliforniaProject.ResponsiveDevices[0].ResponsiveDeviceId,t)for(var p=0;p<o.propertyBars.length;p++){var f=o.propertyBars[p];f.viewModel.setSelectedResponsiveDeviceId(o.state.noneResponsiveDeviceId,!0)}if(0==o.pagePreview.virtualStyleIndex.length){o.pagePreview.virtualStyleIndex=[],o.pagePreview.virtualPseudoStyleIndex=[];for(var y=0,h=o.clientData.CaliforniaProject.ResponsiveDevices;y<h.length;y++)h[y],o.pagePreview.virtualStyleIndex.push([]),o.pagePreview.virtualPseudoStyleIndex.push({})}}if(!0===t&&(o.clientData.AllCssProperties=e.AllCssProperties,o.clientData.StyleAtomCssPropertyMapping=e.StyleAtomCssPropertyMapping),void 0!==o.clientData.CaliforniaProject.StyleQuantums&&void 0!==o.clientData.CaliforniaProject.StyleAtoms&&void 0!==o.clientData.CaliforniaProject.StyleMolecules&&void 0!==o.clientData.CaliforniaProject.LayoutMolecules&&void 0!==o.clientData.CaliforniaProject.CaliforniaViews&&o.clientData.CaliforniaProject.CaliforniaViews.length>0){if(n.restoreLayoutMoleculeAndStyleReferences(),o.state.specialStyleHolder=o.clientData.CaliforniaProject.CaliforniaViews.find(function(e){return!0===e.IsInternal&&"[Internal] Special Styles"===e.Name}),void 0===o.state.specialStyleHolder)return void console.log(a.DEFAULT_EXCEPTION);o.clientData.CaliforniaProject.CaliforniaViews.filter(function(e){return!e.IsInternal}).map(function(e){void 0!==o.state.specialStyleHolder?(o.state.specialStyleHolder.PlacedLayoutRows.find(function(t){var r=o.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==t.LayoutBaseId});return r.Name==="[Internal] "+e.Name+" View Style"&&(e.SpecialStyleViewStyleMoleculeId=r.StyleMoleculeId,!0)}),o.state.specialStyleHolder.PlacedLayoutRows.find(function(t){var r=o.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==t.LayoutBaseId});return r.Name==="[Internal] "+e.Name+" Body Style"&&(e.SpecialStyleBodyStyleMoleculeId=r.StyleMoleculeId,!0)}),o.state.specialStyleHolder.PlacedLayoutRows.find(function(t){var r=o.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==t.LayoutBaseId});return r.Name==="[Internal] "+e.Name+" Html Style"&&(e.SpecialStyleHtmlStyleMoleculeId=r.StyleMoleculeId,!0)}),e.SpecialStyleViewStyleMoleculeIdString=e.SpecialStyleViewStyleMoleculeId.toString(),e.SpecialStyleViewStyleString="s"+e.SpecialStyleViewStyleMoleculeIdString,e.SpecialStyleBodyStyleMoleculeIdString=e.SpecialStyleBodyStyleMoleculeId.toString(),e.SpecialStyleBodyStyleString="s"+e.SpecialStyleBodyStyleMoleculeIdString,e.SpecialStyleHtmlStyleMoleculeIdString=e.SpecialStyleHtmlStyleMoleculeId.toString(),e.SpecialStyleHtmlStyleString="s"+e.SpecialStyleHtmlStyleMoleculeIdString):(e.SpecialStyleViewStyleString="",e.SpecialStyleBodyStyleString="",e.SpecialStyleHtmlStyleString="")});var v=o.clientData.CaliforniaProject.CaliforniaViews.find(function(e){return e.IsInternal&&"[Internal] Instanceable Layout Atoms"===e.Name}),m=o.clientData.CaliforniaProject.CaliforniaViews.find(function(e){return e.IsInternal&&"[Internal] Instanceable Layout Rows"===e.Name});n.setActiveCaliforniaViewId(0!=o.pagePreviewVM.activeCaliforniaViewId?o.pagePreviewVM.activeCaliforniaViewId:0,!0,t);for(var p=0;p<o.propertyBars.length;p++)o.propertyBars[p].viewModel.updateData(o.clientData.CaliforniaProject.StyleQuantums,o.clientData.CaliforniaProject.StyleAtoms,o.clientData.CaliforniaProject.StyleMolecules,o.clientData.CaliforniaProject.LayoutMolecules,o.clientData.CaliforniaProject.CaliforniaViews,v,m);var g=m.PlacedLayoutRows[0];o.state.newBoxStyleMoleculeId=o.clientData.CaliforniaProject.StyleMolecules.find(function(e){return e.StyleForLayoutId==g.AllBoxesBelowRow[0].LayoutBaseId}).StyleMoleculeId}else o.state.specialStyleHolder=void 0,console.log(a.DEFAULT_EXCEPTION);if(!0===t){var p=0;p<o.propertyBarCount&&(o.propertyBarVMs[p++].currentPropertyBarMode=u.PropertyBarMode.CaliforniaView,p<o.propertyBarCount&&(o.propertyBarVMs[p++].currentPropertyBarMode=u.PropertyBarMode.AllCaliforniaViews,p<o.propertyBarCount&&(o.propertyBarVMs[p++].currentPropertyBarMode=u.PropertyBarMode.StyleMolecule,p<o.propertyBarCount&&(o.propertyBarVMs[p++].currentPropertyBarMode=u.PropertyBarMode.AllStyleQuantums))))}n.setupUiForDevice(),c=!0}!1===c&&(console.log("missing client data"),location.reload()),o.state.isDataLoaded=!0,r||o.projector.scheduleRender()}},this.restoreLayoutMoleculeAndStyleReferences=function(){var e=o.clientData.CaliforniaProject,t=[],r=[],i=[];e.LayoutMolecules.map(function(e){switch(e.LayoutType){case l.LayoutType.Row:t.push(e);break;case l.LayoutType.Box:r.push(e);break;case l.LayoutType.Atom:i.push(e);break;default:console.log(a.DEFAULT_EXCEPTION)}});var s=e.ContentAtoms,u=e.LayoutStyleInteractions;e.CaliforniaViews.map(function(e){e.PlacedLayoutRows=t.filter(function(t){return t.PlacedOnViewId==e.CaliforniaViewId}).sort(function(e,t){return e.LayoutSortOrderKey<t.LayoutSortOrderKey?-1:e.LayoutSortOrderKey==t.LayoutSortOrderKey?0:1})});var c=0;e.CaliforniaViews.map(function(e){c=0;for(var t=0;t<e.PlacedLayoutRows.length;t++)!function(t){n.deepestLevelCurrentRow=0;var o=e.PlacedLayoutRows[t];o.AllBoxesBelowRow=r.filter(function(e){return e.BoxOwnerRowId==o.LayoutBaseId&&void 0==e.PlacedBoxInBoxId}),o.AllBoxesBelowRow.map(function(e){n.restoreLayoutBoxReferencesRecursive(0,e,o,r,i,s,u),e.BoxOwnerRow=o}),o.DeepestLevel=n.deepestLevelCurrentRow,n.deepestLevelCurrentRow>c&&(c=n.deepestLevelCurrentRow)}(t);e.DeepestLevel=c})},this.restoreLayoutBoxReferencesRecursive=function(e,t,r,o,i,a,l){var s;t.Level=e,t.PlacedInBoxBoxes=o.filter(function(e){return void 0!==e.PlacedBoxInBoxId&&e.PlacedBoxInBoxId==t.LayoutBaseId}),t.PlacedInBoxBoxes.map(function(s){n.restoreLayoutBoxReferencesRecursive(e+1,s,r,o,i,a,l),s.BoxOwnerRow=r,s.PlacedBoxInBox=t}),(s=r.AllBoxesBelowRow).push.apply(s,t.PlacedInBoxBoxes),t.PlacedInBoxAtoms=i.filter(function(e){return void 0!==e.PlacedAtomInBoxId&&e.PlacedAtomInBoxId==t.LayoutBaseId}),t.PlacedInBoxAtoms.map(function(r){r.HostedContentAtom=a.find(function(e){return e.InstancedOnLayoutId==r.LayoutBaseId}),r.PlacedAtomInBox=t,r.LayoutStyleInteractions=l.filter(function(e){return e.LayoutAtomId==r.LayoutBaseId}),r.Level=e+1}),t.PlacedInBoxAtoms.length>0?e+1>n.deepestLevelCurrentRow&&(n.deepestLevelCurrentRow=e+1):e>n.deepestLevelCurrentRow&&(n.deepestLevelCurrentRow=e)},this.setupUiForDevice=function(){var t=e(window).height();if(void 0===t)return void console.log(a.DEFAULT_EXCEPTION);document.body.style.height=t+"px",!0===o.state.isHideUserInterface||o.state.editViewMode===s.EditViewMode.PagePreviewOnly?o.state.availableSpacePagePreviewPx=void 0!==o.pagePreviewHolder?window.innerWidth+2*o.state.targetPagePreviewHolderMarginPx:0:o.state.availableSpacePagePreviewPx=void 0!==o.pagePreviewHolder?o.pagePreviewHolder.clientWidth+2*o.state.targetPagePreviewHolderMarginPx:0,void 0!==o.clientData.CaliforniaProject&&void 0!==o.clientData.CaliforniaProject.ResponsiveDevices&&o.clientData.CaliforniaProject.ResponsiveDevices.length>0&&0==o.pagePreviewVM.editedLayoutAtomId&&o.pagePreview.updatePagePreviewDimensions()},this.validateResponse=function(e){return null==e?(console.log("invalid client data"),!1):null!==e.StatusText&&""!==e.StatusText?(console.log(e.StatusText),!1):!(void 0!==o.clientData&&e.CurrentRevision<o.clientData.CurrentRevision)||(console.log("Ignoring client data: revision is lower"),!1)},n=this,o=t}return t.prototype.clearCaliforniaPropertyBars=function(e,t){for(var r=0;r<o.propertyBars.length;r++)o.propertyBars[r].viewModel.clearSelectedCaliforniaView(e,t)},t.prototype.setActiveCaliforniaViewId=function(e,t,r){var i=o.clientData.CaliforniaProject.CaliforniaViews.filter(function(e){return!e.IsInternal}),l=void 0,s=-1;if(0!=e&&(s=i.findIndex(function(t){return t.CaliforniaViewId==e})),-1==s&&!0===t&&(s=i.findIndex(function(e){return"Home"===e.Name})),s>-1)if(l=i[s],n.setActiveCaliforniaView(l),!0===r)for(var u=0;u<o.propertyBars.length;u++)o.propertyBars[u].viewModel.setSelectedCaliforniaView(l,!0);else{o.propertyBars[0].viewModel.setSelectedCaliforniaView(l,!0);for(var u=1;u<o.propertyBars.length;u++)!function(e){var t=o.propertyBars[e].viewModel.selectedCaliforniaViewId;if(0!=t){var r=i.find(function(e){return e.CaliforniaViewId===t});o.propertyBars[e].viewModel.setSelectedCaliforniaView(r,!0)}}(u)}else console.log(a.DEFAULT_EXCEPTION)},t.prototype.setActiveCaliforniaView=function(e){o.pagePreview.viewModel.activeCaliforniaViewId=e.CaliforniaViewId,o.pagePreviewVM.californiaViewProjector.map([e]),o.pagePreviewVM.fixedLayoutRowsProjector.map(e.PlacedLayoutRows)},t}();t.CaliforniaRouter=c}).call(t,r(0))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e}();t.CaliforniaClientPartialData=o}]);